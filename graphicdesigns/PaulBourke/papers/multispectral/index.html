<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8" />
<link rel=StyleSheet href="../../pdbstyle.css" type="text/css" media=all>
<title>Report: Enhancing rock art recordings through multispectral photography</title>
</head>
<body>
<center><table width=800><tr><td>

<center>
<h1>Report: Enhancing rock art recordings through multispectral photography</h1>
Written by <a href="../index.html">Paul Bourke</a><br>
October 2014<p>
<a href="multispectral.pdf">Presentation slides</a>
<p>
See <a href="index_th.html">Thai translation</a> courtesy of Ashna Bhatt.
</center>
<p><br><p>

<p align="justify">
The following is an initial investigation into using multispectral photography 
(also often referred to as multispectral imaging) to
enhance difficult to identify indigenous Australian rock art. 
The use here of the term multispectral 
is taken to mean photography at narrow frequency bands across the visible spectrum.
This is motivated by the realisation that a digital camera, and also the human eye,
integrates the wavelengths over three channels (red, green, blue) to produce a
single RGB value for each pixel. As such a large amount of information is being 
lost, namely the intensity of any particular wavelength. Some of the consequences are:
</p>
<ul>
<li><p align="justify">
There may be two distinct materials that reflect light at their respective peaks.
Because there is an integration across a wavelength band of the sensor this may result in
no difference in the individual RGB values.
</p>
<li><p align="justify">
The integration across a wavelength band may hide or result in a lower contrast RGB peak
of a strong reflection, compared to imaging with a filter centered on that peak.
</p>
</ul>

<center><table width=600><tr><td>
<img src="spectrum.png" width=600 height=299 border=0><br>
<smalltext>
Each sensor integrates (weighted averages) the wavelengths across some range
in the visible electromagnetic spectrum. All possible wavelength intensities are
reduced to just 3 RGB values.
</smalltext>
</td></tr></table></center><p>

<p align="justify">
The ultimate in multispectral recordings might be to capture the intensity continuously
across some wavelength range resulting in a wavelength signature. This is being used
in a number of industries,
for example, to identify minerals in mining exploration. An approximation
is to integrate the electromagnetic intensity over a number of narrow wavelength bands.
The result of a multispectral image is often referred to as a spectral cube, that is,
for each pixel (x,y) in the image there is some wavelength (&lambda;) intensity value. This dataset
is then imagined as a cube of (x,y,&lambda;). For a usual RGB image there are only three slices
of this cube in the wavelength dimension, and they are not necessarily independent 
or of narrow extent in &lambda;.
For the example discussed here there are possibly 8 slices captured in the wavelength dimension,
each slice is non-overlapping (independent).
</p>

<p align="justify">
Multispectral imaging can be very precise with calibrated equipment and response
curves for the entire processing pipeline. For the purposes here the intent is more
qualitative, that is, to identify and reveal further structures in otherwise indistinct
rock art.
</p>

<p align="justify">
The filters selected for this test were precise interference bandpass filters
spanning the visible electromagnetic spectrum. 
Interference bandpass filters, rather than absorbing unwanted wavelengths, reflect them.
Filters were chosen at 50nm steps across the visible spectrum, from 350nm to 700nm (due to
availability the highest wavelength was actually 690nm). 
The filters all had a full width half maximum (FWHM) of 10nm, and are supplied
with known measured response curves, two examples of which are shown below. As such, there is
no overlap between the bandpass centers chosen and therefore each captured image is 
wavelength independent of its neighbours.
</p>

<center><table width=100%>
<tr><td>
	<center>
   <a href="400nm.jpg"><img src="400nms.jpg" width=400 height=254 border=0></a><br>
   <smalltext>Center wavelength: 400nm +- 10nm</smalltext>
	</center>
</td><td>
	<center>
   <a href="550nm.jpg"><img src="550nms.jpg" width=400 height=254 border=0></a><br>
   <smalltext>Center wavelength: 550nm +- 10nm</smalltext>
	</center>
</td></tr></table></center><p>

<p align="justify">
The filters are available (Knights Optical, UK)
in a range of diameters. The largest available 50mm diameter was chosen
in order to support a large lens diameter. Given the low light energy collected across a narrow
20nm band, a large collecting area will maximise the opportunity for short exposure times.
A 50mm prime lens (1:1.8) was chosen mainly because it allowed the filters to sit on the lip
in the front of the 52mm thread.
</p>

<center>
<a href="filters.jpg"><img src="filters_s.jpg" width=800 height=654 border=1></a><br>
<smalltext>
50mm Canon prime lens and 8 selected filters from 350nm to 690nm center wavelength.
</smalltext>
</center><p>

<br>
<b>Example 1</b><p>
<p align="justify">
The following photograph is an unmodified image off the camera (Canon 5D Mk III) 
of an approximately 1m wide rock with vaguely visible vertical lines (clearer in real
life with particular sun illumination).
</p>
<center>
<a href="example1.jpg"><img src="example1s.jpg" width=800 height=533 border=1></a>
</center><p>

<p align="justify">
The following are 6 of the photographs (converted to grey scale) from 400nm to 650nm. The
350nm and 690nm photographs are excluded since they received so little energy and
were essentially black + noise.
The lens was set to manual focus because the method by which the filters were attached to
the lens could fall out during the automatic focus action. 
The ISO on the camera was set to a relatively high 1600, an average aperture of 5.6
and exposure times limited to 2 seconds although in reality the exposure times were mostly
under 1/2 second.
Since the histogram of each image tended to occupy a limited portion of the available
dynamic range, the images have also been level adjusted to spread the histogram over the 
entire grey scale range.
</p>

<center><table width=100%>
<tr><td>
   <center>
	<a href="a400.jpg"><img src="a400s.jpg" width=400 height=267 border=1></a><br>
	<smalltext>400nm</smalltext>
   </center>
</td><td>
   <center>
   <a href="a450.jpg"><img src="a450s.jpg" width=400 height=267 border=1></a><br>
	<smalltext>450nm (blue)</smalltext>
   </center>
</td></tr>
<tr><td>
   <center>
   <a href="a500.jpg"><img src="a500s.jpg" width=400 height=267 border=1></a><br>
   <smalltext>500nm (green)</smalltext>
   </center>
</td><td>
   <center>
   <a href="a550.jpg"><img src="a550s.jpg" width=400 height=267 border=1></a><br>
   <smalltext>550nm (yellow)</smalltext>
   </center>
</td></tr>
<tr><td>
   <center>
   <a href="a600.jpg"><img src="a600s.jpg" width=400 height=267 border=1></a><br>
   <smalltext>600nm</smalltext>
   </center>
</td><td>
   <center>
   <a href="a650.jpg"><img src="a650s.jpg" width=400 height=267 border=1></a><br>
   <smalltext>650nm (red)</smalltext>
	</center>
</td></tr>
</table></center><p>

<p align="justify">
Vertical "painted" lines are visible in the yellow range while totally absent towards
the red end of the spectrum. Enhancing these lines may be achieved by treating the 
650nm image as a background/ambient image and subtracting it from the 500nm or 550nm images.
The the result of this is shown below.
The 11 or 12 vertical lines revealed were not readily observed by other techniques.
</p>

<center>
<a href="example1b.jpg"><img src="example1bs.jpg" width=800 height=533 border=1></a>
</center><p>

<br>
<b>Example 2</b><p>
<p align="justify">
The following is the RGB image from the camera for this second example. Note this was
taken at a different time and position and as such the region of interest in the filtered
images is larger and to the right of this RGB photograph.
</p>

<center>
<a href="example2.jpg"><img src="example2s.jpg" width=800 height=552 border=1></a>
</center><p>

<p align="justify">
As in example 1, the following are 6 of the filtered photographs (converted to grey scale) from 
400nm to 650nm and histogram equalised.
</p>

<center><table width=100%>
<tr><td>
   <center>
   <a href="b400.jpg"><img src="b400s.jpg" width=400 height=267 border=1></a><br>
   <smalltext>400nm</smalltext>
   </center>
</td><td>
   <center>
   <a href="b450.jpg"><img src="b450s.jpg" width=400 height=267 border=1></a><br>
   <smalltext>450nm (blue)</smalltext>
   </center>
</td></tr>
<tr><td>
   <center>
   <a href="b500.jpg"><img src="b500s.jpg" width=400 height=267 border=1></a><br>
   <smalltext>500nm (green)</smalltext>
   </center>
</td><td>
   <center>
   <a href="b550.jpg"><img src="b550s.jpg" width=400 height=267 border=1></a><br>
   <smalltext>550nm (yellow)</smalltext>
   </center>
</td></tr>
<tr><td>
   <center>
   <a href="b600.jpg"><img src="b600s.jpg" width=400 height=267 border=1></a><br>
   <smalltext>600nm</smalltext>
   </center>
</td><td>
	<center>
   <a href="b650.jpg"><img src="b650s.jpg" width=400 height=267 border=1></a><br>
   <smalltext>650nm (red)</smalltext>
   </center>
</td></tr>
</table></center><p>

<p align="justify">
The composite image below is the 500nm band with the 600nm band subtracted.
</p>

<center>
<a href="example2b.jpg"><img src="example2bs.jpg" width=800 height=533 border=1></a><br>
<smalltext>
A composite image of the 500nm band subtracted from the 600nm band.
</smalltext>
</center><p>

<center>
<a href="example2c.jpg"><img src="example2cs.jpg" width=800 height=533 border=1></a><br>
<smalltext>
False colour image of the difference between the 400nm image and 
the product of the 550nm image and 500nm image.
</smalltext>
</center><p>
<br>

<p align="justify">
The approach would seem to show promise. While the examples presented are not exciting
demonstrations of revealed 
rock art (due to the nature of the site for this first test), they do show
that hitherto hidden or hard to see features can be made visible.
</p>

<b>Future work</b><p>

<ul>
<li><p align="justify">
The 50nm sampling across the wavelength range should be reduced to 25nm steps, the
filters are available in 10nm increments.
This would give further scope for isolating any strong reflectance peaks, at the moment
each filter is widely separated from its neighbours so there is significant missing
wavelength data.
</p>
<center><table width=600><tr><td>
<center>
<img src="spectrum2.jpg" width=600 height=289 border=0><br>
<smalltext>
Too separated filter bands.
</smalltext></center>
</td></tr></table></center><p>

<li><p align="justify">
An automated and faster means is required for swapping filters. This would reduce the risk of
bumping the camera or accidentally adjusting the lens focus inherent in the current manual
approach.
The time frame to acquire the filters for this exercise precluded the design of an
more efficient filter system.
</p>

<li><p align="justify">
The filters at the extreme ends of the visible range (350nm and 690nm) yielded no image.
This was perhaps partly due to the wavelength response of the camera CCD being reduced at
those extremes and also because none of the test samples were able to be captured in bright
sun light. It should also be noted that at the low wavelength range the filters
peak transmittance is only 25% and for the rest of the wavelengths between 50% and 75%
transmittance.
If the final filter management system placed constraints on the number of filters
then the range from 400 to 650 is likely to be optimal.
</p>
</ul>

</td></tr></table></center>
</body>
</html>

