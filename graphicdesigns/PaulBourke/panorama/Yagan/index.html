<html>
<head>
<link rel=StyleSheet href="../../pdbstyle.css" type="text/css" media=all>
<title>Cylindrical 360 degree screen in Yagan Square, Perth</title>
</head>
<body>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<script language="JavaScript">
<!--
   if (self.location.href != top.location.href) {
      top.location.href = self.location.href;
   }
-->
</script>


<center><table width="800"><tr><td>

<center>
<h1>Cylindrical 360 degree screen in Yagan Square, Perth</h1>
Written by <a href="../index.html">Paul Bourke</a><br>
October 2018<p>
</center>
<p><br><p>

<center><table width=100%><tr><td valign="top">
<b>Vital statistics and other technical information</b><p>
Screen area: 30.5m x 14m<br>
Diameter: 9.71m<br>
Pixel pitch: 15.625mm<br>
Aspect ratio 2.18:1 (61/28)<br>
Native resolution 1952 x 896 pixels<p>
Each panel is a 32 x 32 array, 28 panels vertically
and 61 panels in circumference.<br>
A total of 1024 panels<p>
Cylindrical panorama vertical fov: 110.5 degrees.
<p align="justify">
Movie content is to be supplied as mp4 with h264 codec.
30fps or 60fps is recommended but the native movie frame rate will be honoured.
<p align="justify">
</p>
Recommended colour temperature to correct for display bias: 5000k
</p>
<p align="justify">
AAC encoded audio recommended, 48Khz Sample rate and 16 or 24 Bit depth.
Mastered to -14LUFS Integrated (Loudness units according to EBU R128 Standard) -2dB True Peak. 
</p>
<p align="justify">
Recommended rotation speed 10 minutes for 360 degrees.
</p>
</td><td valign="top">
	<center>
	<img src="http://paulbourke.net/panorama/Yagan/drawing.jpg" width=400 height=637 border=0
		alt="Yagan Square cylinder">
	</center>
</td></tr></table></center>
<p align="justify">
"Front" is defined as facing the Yagan square buildings, 180 degrees
away from Wellington St. This is located on the third quarter of the 
cylindrical frame. The first quarter of the frame is facing Wellington St.
</p>
<center>
	<img src="http://paulbourke.net/panorama/Yagan/front.jpg" width=800 height=368 border=0
		alt="Yagan Square cylinder">
</center><p>
<p align="justify">
The playback system has multiple operating modes, for example it embed a video frame
in a surround image, present a half frame (896x896),
apply automatic rotations, and blend across the left and right
edge of the frame. In the authors opinion the content creator should create a full
frame and apply those effects themselves. Certainly the blending across the seam
can be performed at much higher quality than the built-in blend. 
</p>

<p align="justify">
When encoding with ffmpeg it is important to specify yuv420 as the playback system
will not accept the higher quality yuv options. For example
</p>
<pre>
   ffmpeg -i frames/%04d.png -vcodec libx264 -pix_fmt yuv420p outputmoviename.mp4

   ffmpeg -i inputmoviename.mov -vcodec libx264 -pix_fmt yuv420p outputmoviename.mp4
</pre>
<br>

<b>Panorama</b>

<p align="justify">
One of the challenges of the aspect ratio is encountered when one wants
to place a seamless panorama on the cylinder. In the authors opinion presenting
an incomplete panorama should be avoided, it means that some viewers are seeing
the seam and therefore a compromised version of the work.
The aspect is close to 2:1
so the simple minded cropping of a equirectangular will result in significant
apparent distortion near the top and bottom edge. Simple cropping also results in
the wrong vertical field of view. The correct way (if it were an inverted cylinder
with the audience in the center) would be to create a cylindrical panorama of
110.5 degrees vertically, and 360 degrees horizontally.
Two examples of this are presented below, one starts with an equirectangular
and transforms that into a cylindrical panorama. 
</p>
<center>
	<img src="http://paulbourke.net/panorama/Yagan/equi1.jpg" width=800 height=400 border=0
		alt="Yagan Square cylinder">
</center><p>
<center>
   <img src="http://paulbourke.net/panorama/Yagan/cyl1.jpg" width=800 height=359 border=0
		alt="Yagan Square cylinder">
</center><p>
<p align="justify">
Note the main difference between
the two is that a equirectangular has equal angle steps vertically, while a 
cylindrical panorama has the same vertical relationship as a perspective projection.
The increased stretching towards the top and bottom arises due the relatively
large field of view vertically. A perspective projection with a 110 degree horizontal or
vertical field of view would exhibit the same effect.
</p>
<center>
   <img src="http://paulbourke.net/panorama/Yagan/equi2.jpg" width=800 height=400 border=0
	alt="Yagan Square cylinder">
</center><p>
<center>
   <img src="http://paulbourke.net/panorama/Yagan/cyl2.jpg" width=800 height=357 border=0
		alt="Yagan Square cylinder">
</center><p>
<br>

<b>Test examples</b>

<center><table><tr><td valign="top">
	<a href="http://paulbourke.net/panorama/Yagan/example1.jpg"><img src="http://paulbourke.net/panorama/Yagan/example1s.jpg" width=400 height=709 border=1
		alt="Yagan Square cylinder"></a><br>
	<smalltext>Cropped equirectangular</smalltext>
</td><td valign="top">
   <a href="http://paulbourke.net/panorama/Yagan/example2.jpg"><img src="http://paulbourke.net/panorama/Yagan/example2s.jpg" width=400 height=709 border=1
		alt="Yagan Square cylinder"></a><br>
	<smalltext>Ely Cathedral, courtesy David Carson</smalltext>
</td></tr></table></center><p>

<center><table><tr><td valign="top">
   <a href="http://paulbourke.net/panorama/Yagan/dervish.jpg"><img src="http://paulbourke.net/panorama/Yagan/dervish_s.jpg" width=400 height=709 border=1
		alt="Yagan Square cylinder"></a><br>
   <smalltext>Whirling Dervishes, video courtesy Sarah Kenderdine and Jeffrey Shaw</smalltext>
</td><td valign="top">
   <a href="http://paulbourke.net/panorama/Yagan/paul.jpg"><img src="http://paulbourke.net/panorama/Yagan/paul_s.jpg" width=400 height=711 border=1
		alt="Yagan Square cylinder"></a><br>
   <smalltext>Ultimate selfie display</smalltext>
</td></tr></table></center><p>
<br>

<b>Photography</b>

<p align="justify">
Unfortunately the display doesn't always photograph very well 
(see image above on the right) due to the Moire effects
arising between the discrete resolution of the camera and the resolution of the LEDs.
What this means is that for a particular camera there will be distances from the
cylinder that result in a much better photograph than other distances. This can be seen
in the following sequence (best to zoom in by 200%) taken with a mobile phone at
different distances. The Moire effects can be clearly seen and the third photograph
in the sequence is much better than the other three. Unfortunately there is no best
distance for everyone since it depends on the camera resolution.
</p>
<center>
	<a href="http://paulbourke.net/panorama/Yagan/interference.jpg"><img src="http://paulbourke.net/panorama/Yagan/interference_s.jpg" width=800 height=229 border=1
		alt="Yagan Square cylinder"></a><br>
</center><p>
<br>

<b>The interesting bit</b>

<p align="justify">
The really interesting thing about this display is to compare it to more traditional types.
Content created for a planar display has a single projection point, namely the aperture
of the camera, whether a real or virtual camera. Similarly, when one creates imagery for
a <a href="http://paulbourke.net/miscellaneous/AVIE.pdf">cylinder</a> 
inside which one stands (or an VR style head mounted display) the content is
typically a panorama of some sort, but it too has a single projection point, 
usually the center.  The view is
correct only if the viewer is located at the same point. But the cylinder here with the
audience on the outside is fundamentally different, there is no single projection point,
indeed there is a infinity of them all corresponding to points on circles around the cylinder.
Such displays are called multiperspective.
</p>

<p align="justify">
There are other multiperspective displays, perhaps the most common are spheres. Some commercial
products include Pufferfish and <a href="../../dome/magicplanet/index.html">MagicPlanet displays</a>.
A technology for generating stereoscopic panoramic imagery exists that allows cylindrical displays
(audience in the center) to operate as multiperspective, specifically, allowing multiple viewers to get
the correct stereoscopic view even through they are all looking in different directions. This
is called an <a href="../../papers/vsmm2006/index.html">omnidirectional stereoscopic panorama</a> and is
commonly used today to create precomputed stereoscopic content for head mounted displays,
360 stereo video cameras are also an approximation to the same technique.
</p>

<p align="justify">
So what's the problem? For someone watching a image representing a 3D scene on the cylinder, they
should get a certain projection. That is, the LEDs should present projection from the persons
position, and there is no technical reason why that cannot be achieved (for a single 
viewer position). However, for another
person a few meters away the correct view of the 3D scene would be different, and yet 
the portions of the cylinder visible to each viewer
overlap and obviously cannot be presenting both views.
The omnidirectional stereoscopic panorama solution is to render a large number of narrow
vertical slits and place them side-by-side forming a panorama, but this is conducted from
the center of the panorama and a continuous image results. The equivalent of rendering
narrow vertical slits from a circle on the outside of the cylinder does not
in general result in a continuous
image, indeed it <a href="../../miscellaneous/slitscan/index.html#slitscanobject">looks like this</a>.
The upshot is that it is very difficult (perhaps impossible) to create representations on the
cylinder that appear to have correct depth (perspective) effects. Imagery, even if it is a rendering
of a 3D scene, always appears to be a flat image pasted onto a cylinder.
</p>


</td></tr></table></center>
</body>
</html>

