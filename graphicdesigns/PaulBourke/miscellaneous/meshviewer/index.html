<html>
<head>
<link rel=StyleSheet href="../../pdbstyle.css" type="text/css" media=all>
<title>meshviewer</title>
</head>
<body>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<script language="JavaScript">
<!--
   if (self.location.href != top.location.href) {
      top.location.href = self.location.href;
   }
-->
</script>


<center><table width=80><tr><td>

<center>
<h1>meshviewer and siro2mesh</h1>
Written by <a href="../index.html">Paul Bourke</a><br>
January 2008
</center>
<p><br><p>

<p align="justify">
The following are brief note for users of "meshviewer", written initially
to aid in the interactive viewing of large textured meshes from the "sirovision"
software but suitable for other sources of mesh data. The main aim of developing
this was to support analysis features not available in the existing viewers,
to present the data in various novels displays (stereoscopic and dome), and
general to be in more control of a viewer rather than rely on feature support
by commercial applications.
</p>

<b>To convert a sirovision tiff file</b><p>
<ul>
<li><p align="justify">
Run the siro2mesh software, this extracts the mesh component.<br>
For example: siro2mesh sample5.tif<br>
This will create a file called "sample5.mesh".
</p>

<li><p align="justify">
Open the tiff file in an image processing package, eg: Photoshop and save as a TGA file. 
For example in the above it may be saved as sample5.tga.
</p>
</ul>
<p>

<b>To view the mesh and associated texture</b><p>
Run the software "meshviewer", for example: meshviewer sample5.mesh<br>
To overlay the texture: meshviewer -t sample5.tga sample5.mesh<br>
<p align="justify">
Use the left mouse button to rotate the mesh, use the centre mouse 
button to roll the mesh, use the right mouse key to access the pop-up 
menus. "+" and "-" to zoom ... see command usage for further options.
</p>

<b>Mesh file format</b><p>

<p align="justify">
The mesh file format is particularly simple. The first line contains the dimensions
of the mesh, that is, the number of vertices along each axis. The subsequent lines
each consist of 8 floating point numbers. They are: the (x,y,z) coordinate of the
vertex, the (u,v) values at that vertex, and finally the (r,g,b) value at that
vertex. Note that the (r,g,b) value may optionally not be used if a texture image is
supplied to "meshviewer". A sample mesh file is given here:
<a href="http://paulbourke.net/miscellaneous/meshviewer/sample5.mesh.zip">sample5.mesh.zip</a>.
</p>

<b>Example</b>
<p align="justify">
The following screen dumps illustrate a few aspects of the viewer. 
They use the texture map given below and the mesh file provided above.
</p>

<center>
	<a href="http://paulbourke.net/miscellaneous/meshviewer/sample5.jpg">
	<img src="http://paulbourke.net/miscellaneous/meshviewer/sample5s.jpg" width=800 height=465 border=1></a>
</center><p>

<center><table><tr><td>
	<center><a href="http://paulbourke.net/miscellaneous/meshviewer/0000.jpg"><img src="http://paulbourke.net/miscellaneous/meshviewer/0000s.jpg" width=400 height=300 border=1></a><br>
	&nbsp;
	</center>
</td><td>
	<center><a href="http://paulbourke.net/miscellaneous/meshviewer/0001.jpg"><img src="http://paulbourke.net/miscellaneous/meshviewer/0001s.jpg" width=400 height=300 border=1></a><br>
	&nbsp;
	</center>
</td></tr><tr><td>
	<center>
	<a href="http://paulbourke.net/miscellaneous/meshviewer/0002.jpg"><img src="http://paulbourke.net/miscellaneous/meshviewer/0002s.jpg" width=400 height=300 border=1></a><br>
	Information display</center>
</td><td>
	<center>
	<a href="http://paulbourke.net/miscellaneous/meshviewer/0003.jpg"><img src="http://paulbourke.net/miscellaneous/meshviewer/0003s.jpg" width=400 height=300 border=1></a><br>
	Reshading</center>
</td></tr></table></center><p>

<b>Command line usage</b><p>
<pre>
Usage: meshviewer [options] mesh_file_name
Options
   -h                           This text
   -d                           Debug/verbose mode
   -f                           Full screen
   -s                           Active stereo
   -ss                          Dual screen stereo
   -a                           Auto rotate
   -rw                          Wireframe
   -rf                          Flat shading
   -rs                          Diffuse shaded
   -rp                          Specular shaded
   -su n                        Sub sample mesh drawing by n
   -t s                         Optional texture image
   -bg r g b                    Background colour
   -l s                         Open a list of mesh files
   -c s                         Optional specification file
   -w s                         Mesh file for warping
   -fly                         Start in fly navigation mode, otherwise inspect

Interface
   Right mouse button           Popup menus
   Center mouse button          Roll camera
   [ ]                          Roll camera
   Left mouse button            Rotate camera (depends on navigation mode)
   Arrow keys                   Rotate camera (depends on navigation mode)
   Left mouse button + shift    Pan camera
   Arrow keys + shift           Pan camera
   Center mouse button + shift  Move camera forward or backward
   < >                          Move camera forward or backward
   + -                          Zoom in/out by changing aperture (ignored in fisheye)
   a A                          Automatic rotation
   9 0                          Change zero parallax distance (stereo only)
   i h c                        Information, help, construction lines
   f1 ... f6                    Special camera views
   1 2 3 ...                    Render modes
   n                            Flip surface normals
   w                            Window dump to TGA file
   r                            Toggle continuous window dump (Use with care)
   q esc                        Quit
</pre>

</td></tr></table></center>
</body>
</html>

