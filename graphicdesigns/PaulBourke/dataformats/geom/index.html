<html>
<head>
<link rel=StyleSheet href="../../pdbstyle.css" type="text/css" media=all>
<title>Geom Format</title>
</head>
<body>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<script language="JavaScript">
<!--
   if (self.location.href != top.location.href) {
      top.location.href = self.location.href;
   }
-->
</script>


<center><table width=800><tr><td>

<center>
<h1>Geom Format</h1>
Written by <a href="../index.html">Paul Bourke</a><br>
July 1999
</center>
<p><br><p>

<p align="justify">
The "geom" format contains low level geometric primitives, points, lines,
facets, etc. 
The "geom" file consists of a number of lines of printable ascii
characters, the first string in each line is the primitive ID. The rest
of the line (or lines) contain the data that is different for each
primitive. The arguments on each line are separated by any "white"
space (fscanf() is my parser).
After the last of the required arguments the rest of the
current line is considered a comment.
At the time of writing the primitives ID's and their required
arguments are a follows.
</p>

<table border=0 cellpadding=2 cellspacing=2><tr><td valign="top">
<b>ID</b>
</td><td valign="top">
<b>Description</b>
</td><td valign="top">
<b>Arguments</b>
</td><td valign="top">
<b>Comments</b>
</td></tr>

<tr><td valign="top">
<b>#</b>
</td><td valign="top">
Comment
</td><td valign="top">
&nbsp; 
</td><td valign="top">
Comments must start with a '#' in the first columns, they extend to
the end of the line.
</td></tr>

<tr><td valign="top">
<b>s</b>
</td><td valign="top">
Sphere<br>
</td><td valign="top">
center(x,y,z),<br>
radius,<br>
colour(r,g,b) 
</td><td valign="top">
Spheres should be used sparingly unless the rendering engine explicitly
supports them. For example, OpenGL does not and so each sphere becomes
a large number of polygons.
</td></tr>

<tr><td valign="top">
<b>st</b>
</td><td valign="top">
Textured Sphere<br>
</td><td valign="top">
center(x,y,z),<br>
radius,<br>
colour(r,g,b),<br>
texturefilename (tga)<br>
</td><td valign="top">
&nbsp;
</td></tr>

<tr><td valign="top">
<b>d</b>
</td><td valign="top">
Disk
</td><td valign="top">
vertex(x,y,z),<br>
normal(x,y,z),<br>
inner radius,<br>
outer radius,<br>
colour(r,g,b)
</td><td valign="top">
<center><img src="http://paulbourke.net/dataformats/geom/disk.gif" alt="disk"></center>
</td></tr>

<tr><td valign="top">
<b>c</b>
</td><td valign="top">
Cone
</td><td valign="top">
vertex1(x,y,z),<br>
vertex2(x,y,z),<br>
radius1,<br>
radius2,<br>
colour(r,g,b)
</td><td valign="top">
<center><img src="http://paulbourke.net/dataformats/geom/cone.gif" alt="cone"></center>
</td></tr>

<!--
<tr><td valign="top">
<b>t</b>
</td><td valign="top">
Torus
</td><td valign="top">
center(x,y,z),<br>
up(x,y,z),<br>
innerradius1,<br>
outerradius2,<br>
colour(r,g,b)
</td><td valign="top">
<center><img src="torus.gif" alt="torus"></center>
</td></tr>
-->

<tr><td valign="top">
<b>t</b>
</td><td valign="top">
Text
</td><td valign="top">
position(x,y,z),<br>
right(x,y,z),<br>
up(x,y,z),<br>
colour(r,g,b),<br>
textstring
</td><td valign="top">
The text is drawn from a start position, along the right vector,
and in the plane of the right-up vector. The size is determined by
the right and up vector lengths.
</td></tr>

<tr><td valign="top">
<b>p</b>
</td><td valign="top">
Point<br>
</td><td valign="top">
vertex(x,y,z),<br>
colour(r,g,b)
</td><td valign="top">
&nbsp;
</td></tr>

<tr><td valign="top">
<b>P</b>
</td><td valign="top">
Thick Point<br>
</td><td valign="top">
vertex(x,y,z),<br>
colour(r,g,b),<br>
size
</td><td valign="top">
The size is in pixel coordinates, not world coordinates.
</td></tr>

<tr><td valign="top">
<b>i</b>
</td><td valign="top">
Illumination<br>
(Point light source)
</td><td valign="top">
vertex(x,y,z),<br>
colour(r,g,b)
</td><td valign="top">
There may be limitations on the number of light sources allowed,
for example, a maximum of 8 for OpenGL based systems.
</td></tr>

<tr><td valign="top">
<b>l</b>
</td><td valign="top">
Line<br>
</td><td valign="top">
vertex1(x,y,z),<br>
vertex2(x,y,z),<br>
colour(r,g,b)
</td><td valign="top"> 
&nbsp;
</td></tr>

<tr><td valign="top">
<b>L</b>
</td><td valign="top">
Thick Line<br>
</td><td valign="top">
vertex1(x,y,z),<br>
vertex2(x,y,z),<br>
colour(r,g,b),<br>
width
</td><td valign="top">
&nbsp;
</td></tr>

<tr><td valign="top">
<b>lc</b>
</td><td valign="top">
Coolour Line<br>
</td><td valign="top">
vertex1(x,y,z),<br>
vertex2(x,y,z),<br>
colour1(r,g,b)<br>
colour2(r,g,b)<br>
</td><td valign="top">
Colour at each end of the line, blended along the line.
</td></tr>

<tr><td valign="top">
<b>f3</b>
</td><td valign="top">
3 vertex facet<br>
</td><td valign="top">
vertices[3],<br>
colour(r,g,b)
</td><td valign="top"> 
The normal for each vertex is created from the cross product of the
three given vertices.<br>
<center><img src="http://paulbourke.net/dataformats/geom/f3.gif" alt="f3"></center>
</td></tr>

<tr><td valign="top">
<b>f3n</b>
</td><td valign="top">
3 vertex facet<br>
With normals
</td><td valign="top">
vertices[3],<br>
normals[3],<br>
colour(r,g,b)
</td><td valign="top"> 
<center><img src="http://paulbourke.net/dataformats/geom/f3n.gif" alt="f3n"></center>
</td></tr>

<tr><td valign="top">
<b>f3c</b>
</td><td valign="top">
3 vertex facet<br>
With and colours
</td><td valign="top">
vertices[3],<br>
colour[3]
</td><td valign="top">
&nbsp;
</td></tr>

<tr><td valign="top">
<b>f3nc</b>
</td><td valign="top">
3 vertex facet<br>
With normals and colours
</td><td valign="top">
vertices[3],<br>
normals[3],<br>
colour[3]
</td><td valign="top"> 
Each vertex has a normal and colour, this is the general primitive for
representing "smooth" objects.
</td></tr>

<tr><td valign="top">
<b>f4</b>
</td><td valign="top">
4 vertex facet<br>
</td><td valign="top">
vertices[4],<br>
colour(r,g,b)
</td><td valign="top"> 
The normal for each vertex is calculated from the cross product of the
first 3 vertices. Note that the vertices need not be coplanar but the
effects that might occur in such circumstances is undefined. Non planar
4 vertex facets are not recommended.<br>
<center><img src="http://paulbourke.net/dataformats/geom/f4.gif" alt="f4"></center>
</td></tr>

<tr><td valign="top">
<b>f4n</b>
</td><td valign="top">
4 vertex facet<br>
With normals
</td><td valign="top">
vertices[4],<br>
normals[4],<br>
colour(r,g,b)
</td><td valign="top"> 
<center><img src="http://paulbourke.net/dataformats/geom/f4n.gif" alt="f4n"></center>
</td></tr>

<tr><td valign="top">
<b>f4c</b>
</td><td valign="top">
4 vertex facet<br>
With colours
</td><td valign="top">
vertices[4],<br>
colour[4]
</td><td valign="top">
&nbsp;
</td></tr>

<tr><td valign="top">
<b>f4nc</b>
</td><td valign="top">
4 vertex facet<br>
With normals and colours
</td><td valign="top">
vertices[4],<br>
normals[4],<br>
colour[4]
</td><td valign="top"> 
This is the most general 4 vertex facet for representing smooth objects.
</td></tr>

<tr><td valign="top">
<b>f4t</b>
</td><td valign="top">
4 vertex facet<br>
With texture<br>
</td><td valign="top">
vertices[4],<br>
colour,<br>
texturefilename (tga),<br>
scale,<br>
transparency [o,t]
</td><td valign="top"> 
The colour is only used when the object is displayed in a draft or
non texture mode (or if the viewer doesn't support texture). 
The texture scale is between 0 and 1.
1 is for a clamped textures over the whole plane, otherwise the texture 
will be scaled and tiled over the polygon.
The last argument is a flag for transparent or opaque in which case the 
colour is used internally to create an opaque mask.
</td></tr>

<tr><td valign="top">
<b>m</b>
</td><td valign="top">
Marker
</td><td valign="top">
type<br>size<br>vertex<br>colour
</td><td valign="top">
A non oriented symbol.
The size is in world coordinates.
The current types are: <br>
0 - tetrahedron<br>
1 - 3D plus<br>
2 - cube<br>
3 - octahedron<br>
</td></tr>

</table>

<p><br><p>

<h3>Example</h3>
The objects below are not supposed to look like anything sensible
but rather just give an example of a "geom" file.
<pre>
# Example geom file, this is a comment
l 0 0 0 1 0 0 1 0 0 red x axis
l 0 0 0 0 1 0 0 0.5 0 green y axis
l 0 0 0 0 0 1 0 0 1 blue z axis
s 0 0 0 0.5 1.0 0.5 0.5 ball
f4 -1 -1 -1   1 -1 -1   1 -1  1   -1 -1  1   0.5 0.5 0.5  bottom face of cube
f4 -1  1 -1   1  1 -1   1  1  1   -1  1  1   0.5 0.5 0.5  top face
f4 -1 -1  1  -1 -1 -1  -1  1 -1   -1  1  1   0.5 0.5 0.5  left face
f4  1 -1  1   1 -1 -1   1  1 -1    1  1  1   0.5 0.5 0.5  right face
f4 -1 -1  1   1 -1  1   1  1  1   -1  1  1   0.5 0.5 0.5  front face
f4 -1 -1 -1   1 -1 -1   1  1 -1   -1  1 -1   0.5 0.5 0.5  back face
f4nc -0 -1.3 1.3 -0 -1.2 1.4 0 -1.3 1.3 0 -1.4 1.2 -1 0 0 -1 0 0 -1 -0.03 0.04 -1 -0.03 0.03 1 0 0 1 0.11 0 1 0.11 0 1 0 0 
f3 -67 27 -53 -67 27 -53 -67 27 -53 1 0 0
f3n -67 27 -53 -67 27 -53 -67 27 -53 0.02 -0.9 -0.2 0.9 -0.3 -0.3 0.5 -0.3 -0.8 1 0 0
p 0 0 0 1 0 0
</pre>

</td></tr></table></center>
</body>
</html>

