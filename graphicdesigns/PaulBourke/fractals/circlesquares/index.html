<html>
<head>
<link rel=StyleSheet href="../../pdbstyle.css" type="text/css" media=all>
<title>Circle Squares</title>
</head>
<body>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<script language="JavaScript">
<!--
   if (self.location.href != top.location.href) {
      top.location.href = self.location.href;
   }
-->
</script>



<center><table width=800><tr><td>

<center>
<h1>Circle Squares fractal</h1>
Written by <a href="../index.html">Paul Bourke</a><br>
January 1990, updated December 2006
</center>
<p>

This Moire like pattern is created by the function<p>
<center>
z<sup>2</sup> modulo m
</center>
<p align=justify">
Where z (complex) are points on a rectangular region of the complex plane
corresponding to the image being created. M is an integer that determines the
colour resolution, typically around 200. modulo arithmetic on a complex
number is applied to the magnitude, so
</p>
<center>
z modulo m = (|z| modulo m) * ( z<sub>real</sub> + i z<sub>imag</sub>) / |z|
</center>
<p align="justify">
Where |z| represents the magnitude of the complex number and is a real
number, the modulo of a real number with m
is the remainder on division by m. For each z the corresponding position on
the image plane is shaded in proportion to the magnitude of z, namely |z|.
</p>

<center><table cellpadding=10 cellspacing=0><tr><td>
	<a href="1.jpg">
	<img src="1s.jpg" width=400 height=400 border=1></a><br>
	-256 &lt; z<sub>real</sub> z<sub>imag</sub> &lt; 256
</td><td>
	<a href="2.jpg">
	<img src="2s.jpg" width=400 height=400 border=1></a><br>
   -128 &lt; z<sub>real</sub> z<sub>imag</sub> &lt; 128
</tr><tr><td>
	<a href="3.jpg">
	<img src="3s.jpg" width=400 height=400 border=1></a>
</td><td>
	<a href="4.jpg">
	<img src="4s.jpg" width=400 height=400 border=1></a>
</td></tr></table></center>

<p><br><br><p>

<b>Contribution by Tim Meehan</b>
<p align="justify">
I was doing some research that involved numerical Fresnel diffraction and 
noticed that one of my images looked very similar to your circle fractals.  
The function was exp(kj(x<sup>2</sup>+y<sup>2</sup>)).  
The 'k' is a constant, and the function 
represents the thin lens amplitude transmittance function for Fresnel diffraction.  
If you take the argument of the previous function, you get images that look 
very similar to your circle squares.  
</p>
<center><table cellpadding=10><tr><td>
	<img src="k10_arg.png" width=256 height=256 border=1>
</td><td>
	<img src="k100_arg.png" width=256 height=256 border=1>
</td></tr>
<tr><td colspan=2>
Also, if you take the real (or imaginary)
part the variation from dark to light is a lot smoother and nicer.
</td></tr>
<tr><td>
	<img src="k10_real.png" width=256 height=256 border=1>
</td><td>
	<img src="k100_real.png" width=256 height=256 border=1>
</td></tr></table></center>
<p>
Python code: <a href="thin_lens.py">thin_lens.py</a> and
<a href="bmp.py">bmp.py</a>.

<p><br><br><p>

<b>Contribution by Santiago Zubieta</b><p>
<p align="justify">
Santiago has found similar patterns while exploring bit-wise and modulus operations
on raw pixel indices. Java code fragment follows:
</p>
<pre>
for (int i=0; i&lt;width; ++i) {
    for (int j=0; j&lt;height; ++j) {
       int x = i*i-2*(i|j)+j*j;
       x %= 255;
       x = Math.abs(x);
       g.setColor(new Color(x,x,x));
       g.drawRect(i, j, 1, 1);
    }
}</pre>
<center>
	<img src="Santiago1.png" width=800 height=800 border=1><br>
	<font size=-1>Directional grep scale ramp</font><br>
<p>
	<img src="Santiago2.png" width=800 height=800 border=1><br>
   <font size=-1>Periodic grep scale ramp</font><br>
</center>

</td></tr></tabvle></center>
</body>
</html>

