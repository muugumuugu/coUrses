<html>
<head>
<link rel=StyleSheet href="../../pdbstyle.css" type="text/css" media=all>
<title>DLA - Diffusion Limited Aggregation</title>
</head>
<body>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<script language="JavaScript">
<!--
   if (self.location.href != top.location.href) {
      top.location.href = self.location.href;
   }
-->
</script>


<center><table width=800 cellpadding=0 cellspacing=0 border=0><tr><td>

<center>
<h1>DLA - Diffusion Limited Aggregation</h1>
Written By <a href="../index.html">Paul Bourke</a><br>
Original: June 1991, Updated: January 2004, Updated: Sept 2014<p>
Sample source code (brute force): <a href="dla2D.zip">dla2D.zip</a>
</center>
<p><br><p>

<p align="justify">
Many attractive images and life-like structures
can be generated using models of physical processes from areas of 
chemistry and physics. One such example is diffusion  limited 
aggregation or DLA which describes, among other  things, the 
diffusion and aggregation of zinc ions in an  electrolytic solution 
onto electrodes. "Diffusion" because the particles forming the structure
wander around randomly before attaching themselves ("Aggregating")
to the structure. "Diffusion-limited" because the particles are
considered to be in low concentrations so they don't come in
contact with each other and the structure grows one particle
at a time rather then by chunks of particles.
Other examples can be found in coral growth, the path
taken by lightning, coalescing of dust or smoke particles, and the 
growth of some crystals. Perhaps the first
serious study of such processes was made by Witten, T.A. and Sander, L. M. 
and published by them in 1981, titled: "Diffusion limited aggregation, 
a kinetic critical phenomena" in Physical Review Letters. number 47.
</p>

<p align="justify">
Another more colourful  description involves a city 
square surrounded by taverns.  Drunks leave the taverns and stagger 
randomly around the square until they finally trip over one their 
insensate companions at which time, lulled by the sounds of peaceful  
snoring, they lie down and fall asleep. The tendril like  structure 
is an aerial view of the sleeping crowd in the  morning.
</p>

<p align="justify">
There are a number of ways of simulating this process by computer,
perhaps the most common is to start with a white image except for
a single black pixel in the center. New points are introduced at the
borders and randomly (approximation of Brownian motion) walk until 
they are close enough to stick to
an existing black pixel. A typical example of this is shown below
in figure 1. If a point, during its random walk, approaches an edge
of the image there are two strategies. The point either bounces off
the edge or the image is toroidally bound (a point moving off the
left edge enters on the right, a point moving off the right edge enters
on the left, similarly for top and bottom). In general new points
can be seeded anywhere in the image area, not just around the border
without any significant visual difference.<br>
</p>

<center>
<img src = "dla3.gif" width=800 height=800><br>
<font size=-1>Figure 1. Point attractor</font>
</center><p>

<p align="justify">
Another attractor geometry is a line, see figure 2. In this case the
bottom row of pixels are initially black and new points enter from the
top. The image is normally horizontally circular, that is, points move
off the left appear on the right and visa-versa.<br>
</p>

<center>
<img src = "dla4.gif" width=800 height=800><br>
<font size=-1>Figure 2. Line attractor</font>
</center><p>

<p align="justify">
Figure 3 shows a box attractor, new points enter in the interior (the
center of the image say).
The source code supplied here generates the forms by a rather brute force
method which is hardly the most efficient. A common efficiency measure is
to start the new particles within a certain range of the current structure
and abandon them if they move outside some other range.<br>
</p>

<center>
<img src = "dla5.gif" width=800 height=800><br>
<font size=-1>Figure 3. Rectangle attractor</font>
</center><p>

<p align="justify">
There are a number of ways of adding colour, figure 4 has a circular
seed region (toroidal bounds) and the particles are coloured by the
order in which they were introduced.<br>
</p>

<center>
<img src = "dla6.gif" width=800 height=681><br>
<font size=-1>Figure 4. Circular attractor</font>
</center><p>

<center>
<img src = "dla7.gif" width=800 height=800><br>
<font size=-1>Figure 5. Internal circular attractor</font>
</center><p>

<p align="justify">
Another variation is to vary the so called "stickiness". In all the above
example if the wandering particle struck part of the existing structure
it always stuck (stickiness = 1). This can be modified by introducing
a probability of sticking, the general result is to make
the form more hairy and solid.
</p>

<center>
<img src = "dla8.gif" width=800 height=800><br>
<font size=-1>Figure 6. Stickines = 0.2</font>
</center><p>
<center>
<img src = "dla9.gif" width=800 height=700><br>
<font size=-1>Figure 7. Stickines = 0.05</font>
</center><p>
<center>
<img src = "dla10.gif" width=800 height=800><br>
<font size=-1>Figure 8. Stickines = 0.01</font>
</center><p>
<br><p>

<center>
	<a href="StephenKlebs.jpg">
	<img src="StephenKlebs_s.jpg" width=800 height=600 border=1></a><br>
	<font size=-1>Frosty Windshield in the Morning Woods, Martha's Vineyard.
	Courtesy: <a href="https://www.instagram.com/stephen.klebs/">Stephen Klebs</a></font>
</center>

<br><p>
<b>Using spheres of decreasing radius</b><p>
<center><img src="dlacircles1.png" width=800 height=800></center><p>
<center><img src="dlacircles2.png" width=800 height=800></center><p>
<center><img src="dlacircles3.png" width=800 height=800></center><p>
<center><img src="dlacircles4.png" width=800 height=800></center><p>


<p><br><br>

<center><table border=0 width=100%><tr><td>
<center>
<h1>Diffusion Limited Aggregation<br>(DLA) in 3D</h1>
Written by <a href="../index.html">Paul Bourke</a><br>
January 2004<p><br>
See also: <a href="../../papers/dla3d/index.html">
Constrained Diffusion Limited Aggregation in 3 Dimensions</a><br>
Computers and Graphics, Volume 30, Issue 4 , August 2006, Pages 646-649<p>
<a href="3dprint/index.html">Pipeline for processing models from dla3dviewer for 3D printing</a><p>
</center>
</td><td>
<img src="einfachKomplex.jpg" width=200 height=130 border=1>
<p>
</td></tr></table></center><p>
<p><br><p>

<p align="justify">
The following are examples of growth in three dimensions based upon the same
principles as diffusion limited aggregation, normally performed in
<a href="index.html">two dimensions</a>. The basic principle involves a particle
that moves around randomly until it gets close to part of the existing
structure, at which point it sticks and becomes part of the structure.
The process is started with a seeding structure, normally a single point, and
continues until the structure reaches a desired size.
<br>
<br>
<font size=-1>Click on the images here for higher resolution versions</font>
</p>
<p>

<center><table border=0 width=100%>
<tr><td valign="top">
<center>
<a href="4000.html"><img src="4000s.jpg" border=1 width=300 height=300></a>
</center>
</td><td>
&nbsp;&nbsp;&nbsp;
</td><td>
<center>
<a href="dla7.html"><img src="dla7s.jpg" border=1 width=300 height=300></a>
</center>
</td></tr></table></center><p>

<p align="justify">
Exhibited at Museum of Design, Zurich.
einfach komplex &ndash; Bildb&auml;ume und Baumbilder in der Wissenschaft.
Simply Complex -- Picture-Trees and Tree Pictures in Science.
30 April 2005 -- 4 September 2005
</p>

<center><table border=0 width=100%>
<tr><td>
<center>
<a href="dla2.html"><img src="dla2s.jpg" border=1 width=300 height=300></a>
</center>
</td><td>
&nbsp;
</td><td>
<center>
<a href="dla5.html"><img src="dla5s.jpg" border=1 width=300 height=300></a>
</center>
</td></tr>
<tr><td colspan=3><br><br></td></tr>

<tr><td>
<center>
<a href="dla1.html"><img src="dla1s.jpg" border=1 width=300 height=300></a>
</center>
</td><td>
&nbsp;
</td><td>
<center>
<a href="dla3.html"><img src="dla3s.jpg" border=1 width=300 height=300></a>
</center>
</td></tr></table></center><p>

<p align="justify">
The renderings here are created using POV-Ray, each particle is actually represented
as a cone and a piecewise Bezier curve is used to smooth continuous chains of
particles. As particles are added the thickness of the branch leading to that
particle in thickened.
</p>

<center><table border=0 width=100%>
<tr><td>
<center>
<a href="dla4.html"><img src="dla4s.jpg" border=1 width=300 height=300></a>
</center>
</td><td>
&nbsp;
</td><td>
<center>
<a href="dla6.html"><img src="dla6s.jpg" border=1 width=300 height=300></a>
</center>
</td></tr></table></center><p>

<p align="justify">
A further extension is to constrain the DLA growth to some "vessel".
In the following the constraint takes the form a box (left) or
cylinder (right) with one end open.
</p>

<center><table border=0 width=100%>
<tr><td>
<center>
<a href="dla8.html"><img src="dla8s.jpg" border=1 width=300 height=300></a>
</center>
</td><td>
&nbsp;
</td><td>
<center>
<a href="dla9.html"><img src="dla9s.jpg" border=1 width=300 height=300></a>
</center>
</td></tr></table></center><p>

<p align="justify">
Grown over a sphere (planetarium), left: looking from inside the planetarium,
right: from the outside of the dome.
</p>

<center><table border=0 width=100%>
<tr><td>
<center>
<a href="dla10.html"><img src="dla10s.jpg" border=1 width=300 height=300></a>
</center>
</td><td>
&nbsp;
</td><td>
<center>
<a href="dla11.html"><img src="dla11s.jpg" border=1 width=300 height=300></a>
</center>
</td></tr></table></center><p>

<p align="justify">
DLA grown within a 3D scanned model of the human head (plus antlers), 
described by a STL file.
Part of modelling exercise for Philippe Vranjes.
</p>

<center><table border=0 width=100%>
<tr><td>
<center>
<a href="head1.html"><img src="head1s.jpg" border=1 width=300 height=464></a>
</center>
</td><td>
&nbsp;
</td><td>
<center>
<a href="head2.html"><img src="head2s.jpg" border=1 width=300 height=464></a>
</center>
</td></tr></table></center><p>

<center>
<a href="root.html"><img src="root_s.jpg" border=1 width=600 height=192></a>
</center><p>

<b>Software</b><p>

<p align="justify">
The software presented here is made available for Mac OS-X, for
Mac OS-X X-Windows must be installed and running. DLA structures can be grown in 3D,
constraint surfaces applied, and resulting structures saved in PovRay format for
high quality rendering. 
</p>

<center><table border=0 width=100%>
<tr><td>
<center>
<a href="view1a.jpg">
<img src="view1a_s.jpg" border=1 width=300 height=229></a><br>
<font size=-1>Screen dump from dla3dviewer</font>
</center>
</td><td>
&nbsp;
</td><td>
<center>
<a href="view1b.jpg">
<img src="view1b_s.jpg" border=1 width=300 height=229></a><br>
<font size=-1>Resulting render from PovRay (Unmodified from export)</font>
</center>
</td></tr></table></center><p>

<b>Command line usage</b><p>

<pre>
> dla3dviewer -h
Usage: dla3dviewer [command line options]
Command line options
       -h    this text
       -f    full screen
       -s    active (quad buffer) stereo
      -ss    dual screen stereo
Mouse controls
     left    rotate camera
   middle    roll camera
    right    menus
Function keys: see menus
Keyboard commands
        q    quit
        h    reset camera
      [,]    roll camera
      <,>    more camera forward, backward
      +,-    zoom camera in, out
        w    window dump to TGA file
</pre>
<p>

<center><table border=0 width=100%>
<tr><td>
<center>
<a href="view2b.jpg">
<img src="view2b_s.jpg" border=1 width=300 height=196></a><br>
<font size=-1>Screen dump from dla3dviewer</font>
</center>
</td><td>
&nbsp;
</td><td>
<center>
<a href="view2a.jpg">
<img src="view2a_s.jpg" border=1 width=300 height=196></a><br>
<font size=-1>Resulting render from PovRay</font>
</center> 
</td></tr></table></center><p>

<!--
<b>Software Notes</b><p>
<ul>
<li><p align="justify">
You need to install XQuartz from here:
<a href="https://www.xquartz.org/">https://www.xquartz.org/</a>
</p>
<li><p align="justify">
The software expects a three button mouse, note that under Mac OS-X the middle
and left button can be activated by using the option and control keys. The left
mouse button rotates the camera about the model, the middle button rolls the camera,
and the right button brings up a menu system.
</p>
<li><p align="justify">
Useful keys include the '<' and '>' keys for moving the camera towards to away
from the model. The camera is always pointing towards the origin which is where the
initial seed particle is placed.
</p>
<li><p align="justify">
Using the menus the distribution of the introduced particles can be varied, the
default is to introduce new particles on the surface of a sphere. When "extras"
are turned on the last few thousand positions of introduced particles are shown.
Particles are introduced just past the maximum range of the current model.
</p>
</ul>
-->

<center><table border=0 width=100%>
<tr><td valign="top">
<b>Settings dialog</b><p>
<ul>
<li><p align="justify">
Random seed: Each seed creates a unique structure, alternatively the same
structure will result from the same seed (all other conditions being equal).
</p>
<li><p align="justify">
Bias towards origin: On each time-step the current particle moves in a random
direction, the bias moves the particle towards the origin, generally by a very small
amount.
</p>
<li><p align="justify">
Branch length: This sets the scale of the model and is the length of an added branch
as well as defining how close a particle needs to get to the existing DLA structure
in order to "stick" to it.
</p>
<li><p align="justify">
Stickiness: This is the probability of a particle sticking to the existing DLA
structure once it is close enough. In general this control determines the density
and fuzziness of the final structure. <a href="index.html">More information</a>.
</p>
<li><p align="justify">
Particle rotation: On each time step this rotates the current particle about the
z axis by (usually) a very small angle. Adds a swirling effect to the DLA and can
vary the fractal dimension.
</p>
<li><p align="justify">
Branch thickness: This is used when the DLA structure is drawn with solid branches,
instead of lines and points. This is also used in most of the export formats. The
minimum value will be the thickness of the end of the branches.
</p>
<li><p align="justify">
Intersection range is used to avoid self intersections.
</p>
<li><p align="justify">
Multiple roots can be created, the range is used by the 
built in root seed distributions distribution.
</p>
The constraint surface can be scaled, translated, and rotated.
</ul>
</td><td>
&nbsp;
</td><td>
<center>
<img src="settings.jpg" border=1 width=300 height=415></a><p>
<img src="settings2.jpg" border=1 width=300 height=275></a><p>
</center>
</td></tr></table></center><p>

<center><table border=0 width=100%>
<tr><td>
<center>
<a href="render1.jpg">
<img src="render1s.jpg" border=1 width=300 height=420></a><br>
<font size=-1>Growth inside a cup</font>
</center>
</td><td>
&nbsp; 
</td><td> 
<center>
<a href="render2.jpg">
<img src="render2s.jpg" border=1 width=300 height=420></a><br>
&nbsp;
</center>
</td></tr></table></center><p>

<center>
<a href="physical.jpg">
<img src="physicals.jpg" border=1 width=500 height=276></a><br>
<font size=-1>Physical realisations of various growth stages by David Sutton.</font>
</center><p>


<center><table border=0 width=100%>
<tr><td>
<center>
<a href="multiple1.jpg">
<img src="multiple1s.jpg" border=1 width=300 height=300></a><br>
<font size=-1>Multiple independent seeds</font>
</center>
</td><td>
&nbsp; 
</td><td> 
<center>
<a href="multiple2.jpg">
<img src="multiple2s.jpg" border=1 width=300 height=300></a><br>
<font size=-1>Each growth acts as a constraint on others</font>
</center>
</td></tr></table></center><p>

<center><table border=0 width=100%>
<tr><td>
	<center>
	<a href="breast1.jpg">
	<img src="breast1s.jpg" border=1 width=300 height=300></a><br>
	<font size=-1></font>
	</center>
</td><td>
	&nbsp;
</td><td>
	<center>
	<a href="breast2.jpg">
	<img src="breast2s.jpg" border=1 width=400 height=300></a><br>
	<font size=-1></font>
	</center>
</td></tr></table></center><p>

	<center>
	<a href="Vessels1.jpg">
	<img src="Vessels1_small.jpg" width=400 height=564 border=1></a>
	</center>
<p>
	<center>
	<a href="Vessels2.jpg">
	<img src="Vessels2_small.jpg" width=400 height=331 border=1></a><br>
	<font size=-1>Further examples by David Sutton</font>
	</center>
<p>

<center>
<a href="arch_small.mov"><img src="arch_small.png" width=500 height=500 border=1></a><br>
<font size=-1>
Project by Michael Eden, building DLA structure within Architectural elements.
</font>
</center>
<p>

<center>
<a href="sample1.png"><img src="sample1s.png" width=800 height=800 border=1></a><p>
<a href="sample2.png"><img src="sample2s.png" width=800 height=800 border=1></a><p>
<a href="sample3.png"><img src="sample3s.png" width=800 height=800 border=1></a><p>
<a href="sample4.png"><img src="sample4s.png" width=800 height=800 border=1></a><p>
</center>

<br><br><br>




<center>
<a name="poster">
<h1>Constrained Diffusion Limited Aggregation in 3 Dimensions</h1>
</a>
<a href="../index.html">Paul Bourke</a><br>
Poster: Graphite (ACM Siggraph), Dunedin November/December 2005
</center>
<p><br><p>

<b>Abstract</b><br>
<p align="justify">
Diffusion Limited Aggregation (DLA) has usually been studied in 2 dimensions as a
model of fractal growth processes such as branching, lightning, snowflakes,
mineral deposits, and coral. Here, the basic principles are extended into 3
dimensions and used to create believable models of root systems. A
straightforward approach is introduced for constraining the growth of the 3
dimensional DLA by a surface or containing it within a vessel.
</p>

<b>PDF version</b>:
<a href="dla3d.pdf">dla3d.pdf</a><p>

<center>
<img src="image.jpg" width=484 height=686 border=1>
</center>

<br><br>

<b>Miscellaneous images</a>

<center>
<table border=0 valign=center>
<tr><td>
<img src="heart.jpg" border=1 width=477 height=600>
<br><font size=-1>Credits: William Ewing</font>
</td></tr>
</table>
</center>

<p><br><p>
<h3>DLA in 3 Dimensions, volumetric</h3>
<p align="justify">
The standard 2D DLA can be most simply extended into 3 dimensions by using a 3D pixel grid,
more commonly known as a voxel grid. During the random walk, indead of just 8 possible new
positions (2D) there are now 26 possible new direction for the particle to move at each step of the
random walk.
</p>
<center>
	<a href="3d1.jpg"><img src="3d1s.jpg" width=800 height=640 border=1></a>
</center><p>

</td></tr></table></center><p>
</body>
</html>
