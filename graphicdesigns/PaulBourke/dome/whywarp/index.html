<html>
<head>
<link rel=StyleSheet href="../../pdbstyle.css" type="text/css" media=all>
<title>Why warp?</title>
</head>
<body>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<script language="JavaScript">
<!--
   if (self.location.href != top.location.href) {
      top.location.href = self.location.href;
   }
-->
</script>



<center><table width=800><tr><td>

<center>
<h1>Why warp?</h1>
<a href="../index.html">Paul Bourke</a><br>
July 2014<p>
</center>

<p align="justify">
The following will describe reasons why one needs to warp (often called image correction)
fisheye images before presenting them in a dome environment. This is targeted at single projector
systems mainly because those developing multiple projector systems are well aware of the
need to warp the images sent to the projectors.
</p>

<p align="justify">
If one did not need to warp then it would make software simpler and hence software
developers would like to avoid the issue, there are plenty of examples of this if one
looks at the current range of astronomy software offerings which while they might
provide fisheye images either ignore the practical requirement for image warping or
only provide solutions for very narrow/precise situations.
</p>

<p align="justify">
Fisheye image warping is often associated with the spherical mirror projection system developed by the author. This will not be discussed further here since there are any number of documents
describing the process <a href="../index.html">here</a>. Suffice to say that since a spherical mirror
is placed between the projector and the dome, the imagery on the dome would look horribly
distorted if one did not warp it. This warping needs to take account of the optics and geometry of
the whole system in order for the fisheye to appear correct on the dome surface. The information
on how to warp the fisheye is encapsulated in a mesh described 
<a href="../../dataformats/meshwarp/index.html">here</a>
and
<a href="../warpingfisheye/index.html">here</a>. While there are other bespoke methods this approach is
extremely general and can handle all the cases outlined here as well as others.
</p>

<p align="justify">
What is not often realised is that fisheye warping is also very often required for
single projector system employing a fisheye lens. There are a number of practical situations
where this is necessary and they will be described below. 
</p>

<p align="justify">
<b>Non centered fisheye lens</b><br>
An ideal fisheye lens will present a fisheye image correctly
on a dome surface if it is located at the center of the dome. This is often not practical
because there is some other device at the center such as a star projector. The
most common situation is the location of a star projector in the centre of the dome, in
which case the fisheye lens may be located off center.
</p>
<center>
<img src="http://paulbourke.net/dome/whywarp/planetarium.png" width=600 height=798 border=0>
</center><p>

<p align="justify">
<b>Well off center fisheye lens</b><br>
There are small domes where the projector anywhere near
the front dome surface would interfere with the viewers experience. In this case the fisheye
may be located towards the rim of the dome. Two example are shown below, one where the 
projector is mounted in the ceiling and the other on the floor.
</p>
<center>
<img src="http://paulbourke.net/dome/whywarp/ceiling.png" width=800 height=533 border=1><p>
<img src="http://paulbourke.net/dome/whywarp/floor.png" width=800 height=533 border=1><p>
</center>

<b>Non linear radial fisheye</b><br>
<p align="justify">
Not all fisheye lenses have a perfectly linear mapping between radius on the
fisheye plane and longitude, indeed most do not. This leads generally to a compression
of the image towards the spring line of the dome. This and other practical matters
(such as fisheye lens centering) can be readily corrected by an image warping.
</p>

</td></tr></table></center>
</body>
</html>

