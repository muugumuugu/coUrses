<html>
<head>
<link rel=StyleSheet href="../../pdbstyle.css" type="text/css" media=all>
<title>Blender games in the iDome</title>
</head>
<body>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<script language="JavaScript">
<!--
   if (self.location.href != top.location.href) {
      top.location.href = self.location.href;
   }
-->
</script>


<center><table width=800><tr><td>

<center>
<h1>Blender games in the iDome</h1>
<h3>Portuguese version: <a href="http://paulbourke.net/dome/BlenderiDome/index_pt.html">Jogos em Blender no iDome</a></h3>

Implementation by Dalai Felinto: <a href="mailto:dfelinto@yahoo.com">dfelinto@yahoo.com</a><br>
Supported
by SAT (Society for Arts and Technology) within the SAT Metalab immersion research program.
<p>
Source code samples and testing by <a href="../index.html">Paul Bourke</a><br>
April 2009
<p>
See also: <a href="../UnityiDome/index.html">Unity Game engine and the iDome</a><p>
And: <a href="../../papers/blender09/index.html">Presentation slides by Dalai Felinto</a>
at the First Argentina Blender Conference.
</center><p><br><p>

<p align="justify">
The following documents support for fisheye and warped fisheye in the Blender
realtime game engine. While the
examples shown here are in the iDome, the technique is suited to any orientated hemispherical
surface including the more traditionally aligned planetarium dome. The support has been
added to the next release of Blender, namely version 2.49.
It uses the multi-pass texture algorithm as described
<a href="../dometexture/index.html">here</a>. Briefly, that involves rendering the
scene 4 times and placing the subsequent images onto a mesh designed especially such that
the result, when viewed with an orthographic camera, is a fisheye projection.
Support for fulldome projection using a spherical mirror instead of a fisheye lens
is achieved by an image warping described <a href="../../papers/graphite2005/index.html">here</a>.
The Blender implementation supports direct fisheye projection (projector with fisheye
lens) as well as systems requiring warped fisheye images. The warped fisheye solution 
provides support for spherical mirror based systems (as illustrated here), 
various truncated fisheye configurations,
and support for fisheye lens with non-linear radial functions.
</p>

<center>
<table><tr><td width=235>
<a href="http://paulbourke.net/dome/BlenderiDome/fisheye1.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/fisheye1s.jpg" width=225 height=225 border=1></a>
</td><td width=310>
	<center>
   <a href="http://paulbourke.net/dome/BlenderiDome/warp1.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/warp1s.jpg" width=300 height=169 border=1></a><br>
	Model courtesy of Mike Pan.
	</center>
</td><td width=310>
	<a href="http://paulbourke.net/dome/BlenderiDome/idome1.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/idome1s.jpg" width=300 height=225 border=1></a>
</td></tr></table>
</center><p>

<p align="justify">
Please note that while the images in the iDome on this page appear distorted, that is
because the camera is not at the correct position. When sitting at the center of the
hemisphere the scene appears natural, for example straight lines are straight. This is
the case for any surround or stereoscopic projection, the imagery is only strictly correct
from a single viewing position.
</p>

<center>
<table><tr><td width=235>
   <a href="http://paulbourke.net/dome/BlenderiDome/fisheye2.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/fisheye2s.jpg" width=225 height=225 border=1></a>
</td><td width=310>
	<center>
   <a href="http://paulbourke.net/dome/BlenderiDome/warp2.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/warp2s.jpg" width=300 height=169 border=1></a>
	</center>
</td><td width=310>
   <a href="http://paulbourke.net/dome/BlenderiDome/idome2.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/idome2s.jpg" width=300 height=225 border=1></a>
</td></tr></table>
</center><p>

<p align="justify">
As with most software packages that support the spherical mirror, they create
a fisheye image by whatever algorithm they like.
That fisheye image is warped by reading a mesh designed especially for the
particular installation. Performed this way allows a site to create a precise
warping mesh which all software uses. Importantly also, software doesn't need to
know the specifics of a particular sites configuration, exactly what the warping mesh
does is independent of the interactive software.
The blender implementation is no different, the
first image below shows the distorted fisheye with an (distorted) overlaid polar grid. 
The image on the dome can be seen to have an undistorted polar grid.
</p>

<center>
<table><tr><td width=410>
<a href="http://paulbourke.net/dome/BlenderiDome/mesh1.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/mesh1s.jpg" width=400 height=225 border=1></a>
</td><td width=410>
<a href="http://paulbourke.net/dome/BlenderiDome/mesh2.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/mesh2s.jpg" width=400 height=300 border=1></a>
</td></tr></table>
</center><p>

<h3>Example 2</h3>
<p align="justify">
Popular Habitation Project:
This is an architecture and urbanism project
developed as coursework at the University Federal Fluminense (Niter&oacute;i / RJ - Brazil).
The project was developed by Dalai Felinto, Maria Sorrentino,
and Nathalia Lopes. Supervised by architect Ger&ocirc;nimo Leit&atilde;o.
</p>

<center>
<table><tr><td width=420>
	<a href="http://paulbourke.net/dome/BlenderiDome/car1.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/car1s.jpg" width=400 height=300 border=1></a>
</td><td width=420>
	<a href="http://paulbourke.net/dome/BlenderiDome/car2.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/car2s.jpg" width=400 height=300 border=1></a>
</td></tr>
<tr><td>&nbsp;</td></tr>
<tr><td width=420>
	<a href="http://paulbourke.net/dome/BlenderiDome/car3.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/car3s.jpg" width=400 height=300 border=1></a>
</td><td width=420>
	<a href="http://paulbourke.net/dome/BlenderiDome/car4.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/car4s.jpg" width=400 height=300 border=1></a>
</td></tr></table>
</center>

<p>
<b>Movie example</b> (QuickTime, H264 codec)<p>
<center>
<a href="http://paulbourke.net/dome/BlenderiDome/Blender_iDome_shorter.mov">
<img src="http://paulbourke.net/dome/BlenderiDome/movieintro.jpg" width=800 height=450 border=1>
</a>
</center>
<p>

<h3>Example 3</h3>
<p align="justify">
ClubSilo by Luma Labs.
</p>

<center>
<table><tr><td width=420>
   <a href="http://paulbourke.net/dome/BlenderiDome/club1.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/club1s.jpg" width=400 height=266 border=1></a>
</td><td width=420>
   <a href="http://paulbourke.net/dome/BlenderiDome/club2.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/club2s.jpg" width=400 height=266 border=1></a>
</td></tr>
<tr><td>&nbsp;</td></tr>
<tr><td width=420>
   <a href="http://paulbourke.net/dome/BlenderiDome/club3.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/club3s.jpg" width=400 height=266 border=1></a>
</td><td width=420>
   <a href="http://paulbourke.net/dome/BlenderiDome/club4.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/club4s.jpg" width=400 height=266 border=1></a>
</td></tr></table>
</center>
<p>
<p align="justify">
Please notice that the image blurring in these images is due to the 1/2 second
exposure for the photos in a low light room. In reality the image is equally
crisp and undistorted across the dome surface.
</p>

<h3>Example 4</h3>
<p align="justify">
Yo Frankie, the open source game by the Blender Institute.
</p>

<center>
<table><tr><td width=420>
   <a href="http://paulbourke.net/dome/BlenderiDome/yo0.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/yo0s.jpg" width=400 height=266 border=1></a>
</td><td width=420>
   <a href="http://paulbourke.net/dome/BlenderiDome/yo1.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/yo1s.jpg" width=400 height=266 border=1></a>
</td></tr>
<tr><td>&nbsp;</td></tr>
<tr><td width=420>
   <a href="http://paulbourke.net/dome/BlenderiDome/yo2.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/yo2s.jpg" width=400 height=266 border=1></a>
</td><td width=420>
   <a href="http://paulbourke.net/dome/BlenderiDome/yo3.jpg"><img src="http://paulbourke.net/dome/BlenderiDome/yo3s.jpg" width=400 height=266 border=1></a>
</td></tr></table>
</center>
<p>
<p align="justify">
</p>

</td></tr></table></center>
</body>
</html>

