<html>
<head>
<link rel=StyleSheet href="../../pdbstyle.css" type="text/css" media=all>
<title>Sphere mapper</title>
</head>
<body>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<script language="JavaScript">
<!--
   if (self.location.href != top.location.href) {
      top.location.href = self.location.href;
   }
-->
</script>


<center><table width=800><tr><td>

<center>
<h1>Sphere Mapper</h1>
Written by <a href="../index.html">Paul Bourke</a><br>
May 2009
</center>
<p><br><p>

<p align="justify">
The following derives warping meshes for projecting fisheye images
into a hemispherical dome such that the resulting images look "correct"
for an observer on the outside of the dome, that is, on the right
side of the diagram below. "Correct" is taken to mean that if one
were to project lines of longitude and latitude then they would
appear as expected as one looked at the dome from different directions.
Note that as described above the images would also look correct for
an observer at the center of the dome, except they would be casting
a shadow.
</p>

<center>
<img src="http://paulbourke.net/dome/spheremapper/diagram.jpg" width=900 height=476 border=0>
</center><p>

<p align="justify">
The mapping is achieved by simulating the geometry of the situation,
tracing rays through mesh points on the projectors image space, and finding
where those rays strike the inside surface of the sphere. Once this point
on the dome is found the fisheye coordinates can be calculated which in turn
determines the texture coordinates for the mesh point. The mesh is saved in
the same format used by the author for realtime warping of images for the
iDome and planetariums. These mesh files are being used in the 
<a href="../warpplayer/index.html">warpplayer</a> software, 
<a href="../UnityiDome/index.html">Unity3D</a> game engine, 
<a href="../BlenderiDome/index.html">Blender</a> game, Software Bisque, and many other
packages.
</p>

Sample input image<p>
<center>
	<a href="http://paulbourke.net/dome/spheremapper/colourradial.jpg">
	<img src="http://paulbourke.net/dome/spheremapper/colourradial_s.jpg" width=600 height=600 border=1>
	</a>
</center><p>

Warped image examples given specifications on top left of image<p>
<center>
<table><tr><td>
   <a href="http://paulbourke.net/dome/spheremapper/sample1.jpg">
   <img src="http://paulbourke.net/dome/spheremapper/sample1_s.jpg" width=400 height=300 border=1>
   </a><br>Short throw lens example, throw: 1.0
</td><td>
   <a href="http://paulbourke.net/dome/spheremapper/sample2.jpg">
   <img src="http://paulbourke.net/dome/spheremapper/sample2_s.jpg" width=400 height=300 border=1>
   </a><br>Standard lens example, throw: 2.0
</td></tr></table>
</center><p>

</td></tr></table></center>
</body>
</html>





