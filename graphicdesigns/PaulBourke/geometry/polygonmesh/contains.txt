
public static bool Contains( Point[] points, Point p ) 
{
   bool result = false;

   for( int i = 0; i < points.Length - 1; i++ )
   {
      if( ( ( ( points[ i + 1 ].Y <= p.Y ) && ( p.Y < points[ i ].Y ) ) || ( ( points[ i ].Y <= p.Y ) && ( p.Y < points[ i + 1 ].Y ) ) ) && ( p.X < ( points[ i ].X - points[ i + 1 ].X ) * ( p.Y - points[ i + 1 ].Y ) / ( points[ i ].Y - points[ i + 1 ].Y ) + points[ i + 1 ].X ) )
      {
         result = !result;
      }
   }
   return result;
}
