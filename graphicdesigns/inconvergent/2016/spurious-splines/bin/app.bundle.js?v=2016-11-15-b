!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function main(){(0,_utils.printInfo)("running main. yess"),window.drawings||(window.drawings={});var story={introduction:scene.getSceneSpline,splines:scene.getSceneSplines,"more-points":scene.getSceneSpline2,expose:scene.getSceneExpose,"varying-noise":scene.getSceneVarying,multi:scene.getSceneMulti,circle:scene.getSceneCircle,circles:scene.getSceneCircles};Object.keys(story).forEach(function(sceneName){(0,_utils.printInfo)("updating: "+sceneName),(0,_utils.updateAndStartCanvas)(sceneName,story[sceneName])})}var _utils=__webpack_require__(1),_scenes=__webpack_require__(2),scene=_interopRequireWildcard(_scenes);main()},function(module,exports){"use strict";function printInfo(){for(var s="",_len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];for(var i=0;i<args.length;i++)s=s+" "+JSON.stringify(args[i]);console.log(s)}function printWarn(){for(var s="",_len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];for(var i=0;i<args.length;i++)s=s+" "+JSON.stringify(args[i]);console.warn(s)}function updateAndStartCanvas(name,getScene){function scrollHandler(){var inView=isInViewport(container),animId=window.drawings[canvasId];inView?animId||(printInfo("starting: ",canvasId),animloop(scene,canvasId)):animId&&(printInfo("stopping: ",canvasId),cancelAnimationFrame(animId),window.drawings[canvasId]=void 0)}function clickHandler(){window.removeEventListener("scroll",scrollHandler,!1),canvas.removeEventListener("click",clickHandler,!1),window.drawings[canvasId]&&(printInfo("stopping: ",canvasId),cancelAnimationFrame(window.drawings[canvasId]),window.drawings[canvasId]=void 0),updateAndStartCanvas(name,getScene)}var canvasId="canvas-"+name,containerId="container-"+name,cs=getCanvasSize(),width=cs.width,height=cs.height,canvasStr='<canvas width="'+width+'" height="'+height+'"\n  class="drawing" id="'+canvasId+'"></canvas>',container=document.getElementById(containerId);container.innerHTML=canvasStr;var canvas=document.getElementById(canvasId),ctx=canvas.getContext("2d"),scene=getScene(ctx,width,height);isInViewport(container)&&animloop(scene,canvasId),window.addEventListener("scroll",scrollHandler,!1),canvas.addEventListener("click",clickHandler,!1)}function animloop(f,canvasId){window.drawings[canvasId]=requestAnimationFrame(function(){return animloop(f,canvasId)}),f()}function getCanvasSize(){var width=Math.max(window.innerWidth-60,320),height=Math.max(.6*window.innerHeight,400);return{width:width,height:height}}function isInViewport(element){var rect=element.getBoundingClientRect(),html=document.documentElement,bottom=rect.bottom,top=rect.top,mid=.5*(bottom+top);return mid>0&&mid<(window.innerHeight||html.clientHeight)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.printInfo=printInfo,exports.printWarn=printWarn,exports.updateAndStartCanvas=updateAndStartCanvas,exports.animloop=animloop,exports.getCanvasSize=getCanvasSize,exports.isInViewport=isInViewport,function(){for(var lastTime=0,vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)})}()},function(module,exports,__webpack_require__){"use strict";function getSceneSpline(ctx,width,height){function scene(){ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY,ctx.strokeStyle=CYAN,(0,_draw.drawStroke)(ctx,points),ctx.strokeStyle=GRAY,(0,_draw.drawAsSpline)(ctx,points);var rnd=Math.random()*TWOPI,p=points[1];points[1]={x:(0,_array.limit)(p.x+Math.cos(rnd)*noise,boundary.xMax,boundary.xMin),y:(0,_array.limit)(p.y+Math.sin(rnd)*noise,boundary.yMax,boundary.yMin)},points.forEach(function(pp,i){var x=pp.x,y=pp.y;ctx.beginPath(),ctx.arc(x,y,rad,0,TWOPI),1===i?ctx.stroke():ctx.fill()})}ctx.strokeStyle=GRAY,ctx.fillStyle=GRAY,ctx.strokeStyle=GRAY,ctx.lineJoin="round",ctx.lineWidth=5;var num=3,boundary=(0,_draw.getBoundary)(width,height),noise=3,rad=10,points=(0,_array.getRndXRndY)(num,boundary.xMin,boundary.xMax,boundary.yMin,boundary.yMax);return scene}function getSceneSplines(ctx,width,height){function scene(){ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY,ctx.strokeStyle=CYAN,(0,_draw.drawStroke)(ctx,points),ctx.strokeStyle=GRAY,(0,_draw.drawAsSpline)(ctx,points),(0,_draw.drawDots)(ctx,points,rad,!0),points=(0,_array.randomWalk)(points,noise).map(function(p){return{x:(0,_array.limit)(p.x,boundary.xMax,boundary.xMin),y:(0,_array.limit)(p.y,boundary.yMax,boundary.yMin)}})}ctx.strokeStyle=GRAY,ctx.fillStyle=GRAY,ctx.strokeStyle=GRAY,ctx.lineJoin="round",ctx.lineWidth=4;var num=5,boundary=(0,_draw.getBoundary)(width,height),noise=3,rad=10,points=(0,_array.getRndXRndY)(num,boundary.xMin,boundary.xMax,boundary.yMin,boundary.yMax);return scene}function getSceneSpline2(ctx,width,height){function scene(){ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY,(0,_draw.drawAsSpline)(ctx,points),points=(0,_array.randomWalk)(points,noise)}ctx.fillStyle=GRAY,ctx.strokeStyle=GRAY,ctx.lineWidth=5,ctx.lineJoin="round";var num=50,boundary=(0,_draw.getBoundary)(width,height),noise=3,points=(0,_array.getLinspaceXLinspaceY)(num,boundary.xMin,boundary.xMax,boundary.yMid,boundary.yMid);return scene}function getSceneExpose(ctx,width,height){function scene(){ctx.setLineDash([1,1+6*Math.random()]),(0,_draw.drawAsSpline)(ctx,points),points=(0,_array.randomWalk)(points,noise)}ctx.strokeStyle=GRAY,ctx.fillStyle=GRAY,ctx.strokeStyle=LIGHTGRAY,ctx.lineWidth=1,ctx.lineJoin="round",ctx.lineWidth=.5;var num=6+Math.floor(100*Math.random()),boundary=(0,_draw.getBoundary)(width,height),noise=1,points=(0,_array.getLinspaceXLinspaceY)(num,boundary.xMin,boundary.xMax,boundary.yMid,boundary.yMid);return scene}function getSceneVarying(ctx,width,height){function scene(){ctx.setLineDash([1,1+6*Math.random()]),(0,_draw.drawAsSpline)(ctx,points),points=(0,_array.randomWalkScale)(points,noise,scale)}ctx.strokeStyle=GRAY,ctx.fillStyle=GRAY,ctx.strokeStyle=LIGHTGRAY,ctx.lineWidth=1,ctx.lineJoin="round",ctx.lineWidth=.5;var num=4+Math.floor(40*Math.random()),boundary=(0,_draw.getBoundary)(width,height),noise=1,points=(0,_array.getLinspaceXLinspaceY)(num,boundary.xMin,boundary.xMax,boundary.yMid,boundary.yMid),scale=(0,_array.getLinspace)(num,0,10);return scene}function getSceneMulti(ctx,width,height){function scene(){ctx.setLineDash([1,1+6*Math.random()]),allPoints=allPoints.map(function(pp){return(0,_draw.drawAsSpline)(ctx,pp),(0,_array.randomWalkScale)(pp,noise,scale)})}ctx.strokeStyle=GRAY,ctx.fillStyle=GRAY,ctx.strokeStyle=LIGHTGRAY,ctx.lineWidth=1,ctx.lineJoin="round",ctx.lineWidth=.5;var boundary=(0,_draw.getBoundary)(width,height),lineNum=(boundary.xr-boundary.xl)/40,noise=1,scale=(0,_array.getLinspace)(120,0,10),allPoints=(0,_array.getLinspaceXLinspaceY)(lineNum,boundary.xMin,boundary.xMax,0,0).map(function(p){var points=(0,_array.getLinspaceXLinspaceY)(4+Math.floor(20*Math.random()),p.x,p.x,boundary.yMin,boundary.yMax);return points});return scene}function getSceneCircle(ctx,width,height){function scene(){ctx.setLineDash([1,1+6*Math.random()]),allPoints=allPoints.map(function(pp){return(0,_draw.drawAsSpline)(ctx,pp),(0,_array.randomWalkScale)(pp,noise,scale)})}ctx.strokeStyle=GRAY,ctx.fillStyle=GRAY,ctx.strokeStyle=LIGHTGRAY,ctx.lineWidth=1,ctx.lineJoin="round",ctx.lineWidth=.5;var boundary=(0,_draw.getBoundary)(width,height),lineNum=6,noise=1,scale=(0,_array.getLinspace)(120,0,10),rad=.3*Math.min(width,height),allPoints=(0,_array.getLinspaceXLinspaceY)(lineNum,boundary.xMid,boundary.xMid,boundary.yMid,boundary.yMid).map(function(p){return(0,_array.getCirc)(10+Math.floor(15*Math.random()),p.x,p.y,rad)});return scene}function getSceneCircles(ctx,width,height){function scene(){ctx.setLineDash([1,1+6*Math.random()]),allPoints=allPoints.map(function(pp){return(0,_draw.drawAsSpline)(ctx,pp),(0,_array.randomWalkScale)(pp,noise,scale)})}ctx.strokeStyle=GRAY,ctx.fillStyle=GRAY,ctx.strokeStyle=LIGHTGRAY,ctx.lineWidth=1,ctx.lineJoin="round",ctx.lineWidth=.5;var boundary=(0,_draw.getBoundary)(width,height),noise=1,scale=(0,_array.getLinspace)(120,0,10),nx=Math.floor(width/100),ny=Math.floor(height/100),rad=30,edge=20,allPoints=(0,_array.getLinspaceGrid)(nx,ny,boundary.xMin+edge,boundary.xMax-edge,boundary.yMin+edge,boundary.yMax-edge).map(function(p){return(0,_array.getCirc)(10+Math.floor(15*Math.random()),p.x,p.y,rad)});return scene}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSceneSpline=getSceneSpline,exports.getSceneSplines=getSceneSplines,exports.getSceneSpline2=getSceneSpline2,exports.getSceneExpose=getSceneExpose,exports.getSceneVarying=getSceneVarying,exports.getSceneMulti=getSceneMulti,exports.getSceneCircle=getSceneCircle,exports.getSceneCircles=getSceneCircles;var _array=__webpack_require__(3),_draw=__webpack_require__(4),TWOPI=2*Math.PI,WHITE="rgba(255, 255, 255, 1.0)",GRAY="rgba(0, 0, 0, 0.6)",CYAN="rgba(0, 200, 200, 0.6)",LIGHTGRAY="rgba(0, 0, 0, 0.05)"},function(module,exports,__webpack_require__){"use strict";function getNs(n,v){for(var res=[],i=0;i<n;i++)res.push(v);return res}function getRnd(n,min,max){for(var res=[],i=0;i<n;i++)res.push(min+Math.random()*(max-min));return res}function getRndXRndY(n,xMin,xMax,yMin,yMax){for(var res=[],i=0;i<n;i++)res.push({x:xMin+Math.random()*(xMax-xMin),y:yMin+Math.random()*(yMax-yMin)});return res}function getLinspace(n,mi,ma){for(var res=[],s=(ma-mi)/(n-1),y=mi,i=0;i<n;i++)res.push(y),y+=s;return res}function getLinspaceGrid(nx,ny,xMin,xMax,yMin,yMax){for(var res=[],sx=(xMax-xMin)/(nx-1),sy=(yMax-yMin)/(ny-1),y=yMin,i=0;i<ny;i++){for(var x=xMin,j=0;j<nx;j++)res.push({x:x,y:y}),x+=sx;y+=sy}return res}function getRndXLinspaceY(n,xMin,xMax,yMin,yMax){for(var res=[],s=(yMax-yMin)/(n-1),y=yMin,i=0;i<n;i++)res.push({x:xMin+Math.random()*(xMax-xMin),y:y}),y+=s;return res}function getLinspaceXLinspaceY(n,xMin,xMax,yMin,yMax){for(var res=[],sX=(xMax-xMin)/(n-1),sY=(yMax-yMin)/(n-1),x=xMin,y=yMin,i=0;i<n;i++)res.push({x:x,y:y}),x+=sX,y+=sY;return res}function getCirc(n,ix,iy,rad){for(var res=[],d=TWOPI/n,a=0,i=0;i<n;i++){var x=ix+Math.cos(a)*rad,y=iy+Math.sin(a)*rad;res.push({x:x,y:y}),a+=d}return res}function getRndCirc(n,ix,iy,rad){for(var res=[],i=0;i<n;i++){var a=Math.random()*TWOPI,x=ix+Math.cos(a)*rad,y=iy+Math.sin(a)*rad;res.push({x:x,y:y})}return res}function randomWalk(points,noise){return points.map(function(p){var rnd=Math.random()*TWOPI;return{x:p.x+Math.cos(rnd)*noise,y:p.y+Math.sin(rnd)*noise}})}function randomWalkScale(points,noise,scale){return points.map(function(p,i){var rnd=Math.random()*TWOPI;return{x:p.x+Math.cos(rnd)*noise*scale[i],y:p.y+Math.sin(rnd)*noise*scale[i]}})}function limit(v,ma,mi){return Math.max(Math.min(v,ma),mi)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getNs=getNs,exports.getRnd=getRnd,exports.getRndXRndY=getRndXRndY,exports.getLinspace=getLinspace,exports.getLinspaceGrid=getLinspaceGrid,exports.getRndXLinspaceY=getRndXLinspaceY,exports.getLinspaceXLinspaceY=getLinspaceXLinspaceY,exports.getCirc=getCirc,exports.getRndCirc=getRndCirc,exports.randomWalk=randomWalk,exports.randomWalkScale=randomWalkScale,exports.limit=limit;var TWOPI=(__webpack_require__(1),2*Math.PI)},function(module,exports,__webpack_require__){"use strict";function stroke(ctx,n,a,b){for(var dx=b.x-a.x,dy=b.y-a.y,i=0;i<n;i++){var rnd=Math.random();ctx.beginPath(),ctx.rect(a.x+rnd*dx,a.y+rnd*dy,1,1),ctx.fill()}}function drawStroke(ctx,points){ctx.beginPath(),ctx.moveTo(points[0].x,points[0].y);for(var i=1;i<points.length;i++)ctx.lineTo(points[i].x,points[i].y);ctx.stroke()}function drawDots(ctx,points,rad,fill){points.forEach(function(p){var x=p.x,y=p.y;ctx.beginPath(),ctx.arc(x,y,rad,0,TWOPI),fill?ctx.fill():ctx.stroke()})}function drawAsSpline(ctx,points){ctx.beginPath(),ctx.moveTo(points[0].x,points[0].y);for(var i=1;i<points.length-2;i++){var xm=(points[i].x+points[i+1].x)/2,ym=(points[i].y+points[i+1].y)/2;ctx.quadraticCurveTo(points[i].x,points[i].y,xm,ym)}var end=points.length-2;ctx.quadraticCurveTo(points[end].x,points[end].y,points[end+1].x,points[end+1].y),ctx.stroke()}function clear(ctx,width,height){ctx.beginPath(),ctx.rect(0,0,width,height),ctx.fill()}function getBoundary(width,height){var edgeX=5*width/100,edgeTopY=.2*height,edgeBottomY=.2*height,xl=0,xr=width,yb=height,yt=0,xMin=edgeX,xMax=width-edgeX,yMin=edgeTopY,yMax=height-edgeBottomY,yMid=.5*(yMax+yMin),xMid=.5*(xMax+xMin);return{xMin:xMin,xMax:xMax,yMin:yMin,yMax:yMax,yMid:yMid,xMid:xMid,xl:xl,xr:xr,yb:yb,yt:yt}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.stroke=stroke,exports.drawStroke=drawStroke,exports.drawDots=drawDots,exports.drawAsSpline=drawAsSpline,exports.clear=clear,exports.getBoundary=getBoundary;var TWOPI=(__webpack_require__(1),Math.PI,2*Math.PI)}]);