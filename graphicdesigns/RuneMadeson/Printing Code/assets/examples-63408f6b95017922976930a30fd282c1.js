!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Rune=e()}}(function(){return function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){},{}],2:[function(e,t,n){function i(e){var t,r,n,i=e[0]/255,a=e[1]/255,o=e[2]/255,s=Math.min(i,a,o),l=Math.max(i,a,o),u=l-s;return l==s?t=0:i==l?t=(a-o)/u:a==l?t=2+(o-i)/u:o==l&&(t=4+(i-a)/u),t=Math.min(60*t,360),0>t&&(t+=360),n=(s+l)/2,r=l==s?0:.5>=n?u/(l+s):u/(2-l-s),[t,100*r,100*n]}function a(e){var t,r,n,i=e[0],a=e[1],o=e[2],s=Math.min(i,a,o),l=Math.max(i,a,o),u=l-s;return r=0==l?0:u/l*1e3/10,l==s?t=0:i==l?t=(a-o)/u:a==l?t=2+(o-i)/u:o==l&&(t=4+(i-a)/u),t=Math.min(60*t,360),0>t&&(t+=360),n=l/255*1e3/10,[t,r,n]}function o(e){var t=e[0],r=e[1],n=e[2],a=i(e)[0],o=1/255*Math.min(t,Math.min(r,n)),n=1-1/255*Math.max(t,Math.max(r,n));return[a,100*o,100*n]}function s(e){var t,r,n,i,a=e[0]/255,o=e[1]/255,s=e[2]/255;return i=Math.min(1-a,1-o,1-s),t=(1-a-i)/(1-i)||0,r=(1-o-i)/(1-i)||0,n=(1-s-i)/(1-i)||0,[100*t,100*r,100*n,100*i]}function l(e){return Z[JSON.stringify(e)]}function u(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=.4124*t+.3576*r+.1805*n,a=.2126*t+.7152*r+.0722*n,o=.0193*t+.1192*r+.9505*n;return[100*i,100*a,100*o]}function c(e){var t,r,n,i=u(e),a=i[0],o=i[1],s=i[2];return a/=95.047,o/=100,s/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,t=116*o-16,r=500*(a-o),n=200*(o-s),[t,r,n]}function f(e){return B(c(e))}function h(e){var t,r,n,i,a,o=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return a=255*l,[a,a,a];r=.5>l?l*(1+s):l+s-l*s,t=2*l-r,i=[0,0,0];for(var u=0;3>u;u++)n=o+1/3*-(u-1),0>n&&n++,n>1&&n--,a=1>6*n?t+6*(r-t)*n:1>2*n?r:2>3*n?t+(r-t)*(2/3-n)*6:t,i[u]=255*a;return i}function d(e){var t,r,n=e[0],i=e[1]/100,a=e[2]/100;return 0===a?[0,0,0]:(a*=2,i*=1>=a?a:2-a,r=(a+i)/2,t=2*i/(a+i),[n,100*t,100*r])}function p(e){return o(h(e))}function v(e){return s(h(e))}function m(e){return l(h(e))}function y(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,a=t-Math.floor(t),o=255*n*(1-r),s=255*n*(1-r*a),l=255*n*(1-r*(1-a)),n=255*n;switch(i){case 0:return[n,l,o];case 1:return[s,n,o];case 2:return[o,n,l];case 3:return[o,s,n];case 4:return[l,o,n];case 5:return[n,o,s]}}function x(e){var t,r,n=e[0],i=e[1]/100,a=e[2]/100;return r=(2-i)*a,t=i*a,t/=1>=r?r:2-r,t=t||0,r/=2,[n,100*t,100*r]}function w(e){return o(y(e))}function k(e){return s(y(e))}function S(e){return l(y(e))}function C(e){var t,n,i,a,o=e[0]/360,s=e[1]/100,l=e[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),t=Math.floor(6*o),n=1-l,i=6*o-t,0!=(1&t)&&(i=1-i),a=s+i*(n-s),t){default:case 6:case 0:r=n,g=a,b=s;break;case 1:r=a,g=n,b=s;break;case 2:r=s,g=n,b=a;break;case 3:r=s,g=a,b=n;break;case 4:r=a,g=s,b=n;break;case 5:r=n,g=s,b=a}return[255*r,255*g,255*b]}function T(e){return i(C(e))}function O(e){return a(C(e))}function M(e){return s(C(e))}function A(e){return l(C(e))}function L(e){var t,r,n,i=e[0]/100,a=e[1]/100,o=e[2]/100,s=e[3]/100;return t=1-Math.min(1,i*(1-s)+s),r=1-Math.min(1,a*(1-s)+s),n=1-Math.min(1,o*(1-s)+s),[255*t,255*r,255*n]}function E(e){return i(L(e))}function U(e){return a(L(e))}function N(e){return o(L(e))}function I(e){return l(L(e))}function R(e){var t,r,n,i=e[0]/100,a=e[1]/100,o=e[2]/100;return t=3.2406*i+-1.5372*a+o*-.4986,r=i*-.9689+1.8758*a+.0415*o,n=.0557*i+a*-.204+1.057*o,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:t=12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=12.92*n,t=Math.min(Math.max(0,t),1),r=Math.min(Math.max(0,r),1),n=Math.min(Math.max(0,n),1),[255*t,255*r,255*n]}function P(e){var t,r,n,i=e[0],a=e[1],o=e[2];return i/=95.047,a/=100,o/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,t=116*a-16,r=500*(i-a),n=200*(a-o),[t,r,n]}function D(e){return B(P(e))}function j(e){var t,r,n,i,a=e[0],o=e[1],s=e[2];return 8>=a?(r=100*a/903.3,i=7.787*(r/100)+16/116):(r=100*Math.pow((a+16)/116,3),i=Math.pow(r/100,1/3)),t=.008856>=t/95.047?t=95.047*(o/500+i-16/116)/7.787:95.047*Math.pow(o/500+i,3),n=.008859>=n/108.883?n=108.883*(i-s/200-16/116)/7.787:108.883*Math.pow(i-s/200,3),[t,r,n]}function B(e){var t,r,n,i=e[0],a=e[1],o=e[2];return t=Math.atan2(o,a),r=360*t/2/Math.PI,0>r&&(r+=360),n=Math.sqrt(a*a+o*o),[i,n,r]}function H(e){return R(j(e))}function W(e){var t,r,n,i=e[0],a=e[1],o=e[2];return n=o/360*2*Math.PI,t=a*Math.cos(n),r=a*Math.sin(n),[i,t,r]}function F(e){return j(W(e))}function _(e){return H(W(e))}function z(e){return $[e]}function G(e){return i(z(e))}function V(e){return a(z(e))}function q(e){return o(z(e))}function Y(e){return s(z(e))}function X(e){return c(z(e))}function K(e){return u(z(e))}t.exports={rgb2hsl:i,rgb2hsv:a,rgb2hwb:o,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:u,rgb2lab:c,rgb2lch:f,hsl2rgb:h,hsl2hsv:d,hsl2hwb:p,hsl2cmyk:v,hsl2keyword:m,hsv2rgb:y,hsv2hsl:x,hsv2hwb:w,hsv2cmyk:k,hsv2keyword:S,hwb2rgb:C,hwb2hsl:T,hwb2hsv:O,hwb2cmyk:M,hwb2keyword:A,cmyk2rgb:L,cmyk2hsl:E,cmyk2hsv:U,cmyk2hwb:N,cmyk2keyword:I,keyword2rgb:z,keyword2hsl:G,keyword2hsv:V,keyword2hwb:q,keyword2cmyk:Y,keyword2lab:X,keyword2xyz:K,xyz2rgb:R,xyz2lab:P,xyz2lch:D,lab2xyz:j,lab2rgb:H,lab2lch:B,lch2lab:W,lch2xyz:F,lch2rgb:_};var $={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Z={};for(var J in $)Z[JSON.stringify($[J])]=J},{}],3:[function(e,t,r){var n=e("./conversions"),i=function(){return new u};for(var a in n){i[a+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),n[e](t)}}(a);var o=/(\w+)2(\w+)/.exec(a),s=o[1],l=o[2];i[s]=i[s]||{},i[s][l]=i[a]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var r=n[e](t);if("string"==typeof r||void 0===r)return r;for(var i=0;i<r.length;i++)r[i]=Math.round(r[i]);return r}}(a)}var u=function(){this.convs={}};u.prototype.routeSpace=function(e,t){var r=t[0];return void 0===r?this.getValues(e):("number"==typeof r&&(r=Array.prototype.slice.call(t)),this.setValues(e,r))},u.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},u.prototype.getValues=function(e){var t=this.convs[e];if(!t){var r=this.space,n=this.convs[r];t=i[r][e](n),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){u.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),t.exports=i},{"./conversions":2}],4:[function(e,t,r){function n(e,t,r){var n=e?e.length:0;return r&&a(e,t,r)&&(t=!1),n?i(e,t):[]}var i=e("../internal/baseFlatten"),a=e("../internal/isIterateeCall");t.exports=n},{"../internal/baseFlatten":23,"../internal/isIterateeCall":56}],5:[function(e,t,r){function n(e){var t=e?e.length:0;return t?e[t-1]:void 0}t.exports=n},{}],6:[function(e,t,r){var n=e("../internal/baseDifference"),i=e("../internal/isArrayLike"),a=e("../function/restParam"),o=a(function(e,t){return i(e)?n(e,t):[]});t.exports=o},{"../function/restParam":10,"../internal/baseDifference":21,"../internal/isArrayLike":54}],7:[function(e,t,r){t.exports=e("./forEach")},{"./forEach":8}],8:[function(e,t,r){var n=e("../internal/arrayEach"),i=e("../internal/baseEach"),a=e("../internal/createForEach"),o=a(n,i);t.exports=o},{"../internal/arrayEach":12,"../internal/baseEach":22,"../internal/createForEach":46}],9:[function(e,t,r){function n(e,t,r){var n=s(e)?i:o;return t=a(t,r,3),n(e,t)}var i=e("../internal/arrayMap"),a=e("../internal/baseCallback"),o=e("../internal/baseMap"),s=e("../lang/isArray");t.exports=n},{"../internal/arrayMap":13,"../internal/baseCallback":19,"../internal/baseMap":31,"../lang/isArray":65}],10:[function(e,t,r){function n(e,t){if("function"!=typeof e)throw new TypeError(i);return t=a(void 0===t?e.length-1:+t||0,0),function(){for(var r=arguments,n=-1,i=a(r.length-t,0),o=Array(i);++n<i;)o[n]=r[t+n];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,r[0],o);case 2:return e.call(this,r[0],r[1],o)}var s=Array(t+1);for(n=-1;++n<t;)s[n]=r[n];return s[t]=o,e.apply(this,s)}}var i="Expected a function",a=Math.max;t.exports=n},{}],11:[function(e,t,r){(function(r){function n(e){var t=e?e.length:0;for(this.data={hash:s(null),set:new o};t--;)this.push(e[t])}var i=e("./cachePush"),a=e("./getNative"),o=a(r,"Set"),s=a(Object,"create");n.prototype.push=i,t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cachePush":40,"./getNative":52}],12:[function(e,t,r){function n(e,t){for(var r=-1,n=e.length;++r<n&&t(e[r],r,e)!==!1;);return e}t.exports=n},{}],13:[function(e,t,r){function n(e,t){for(var r=-1,n=e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}t.exports=n},{}],14:[function(e,t,r){function n(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}t.exports=n},{}],15:[function(e,t,r){function n(e,t){for(var r=-1,n=e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}t.exports=n},{}],16:[function(e,t,r){function n(e,t){return void 0===e?t:e}t.exports=n},{}],17:[function(e,t,r){function n(e,t,r){for(var n=-1,a=i(t),o=a.length;++n<o;){var s=a[n],l=e[s],u=r(l,t[s],s,e,t);(u===u?u===l:l!==l)&&(void 0!==l||s in e)||(e[s]=u)}return e}var i=e("../object/keys");t.exports=n},{"../object/keys":72}],18:[function(e,t,r){function n(e,t){return null==t?e:i(t,a(t),e)}var i=e("./baseCopy"),a=e("../object/keys");t.exports=n},{"../object/keys":72,"./baseCopy":20}],19:[function(e,t,r){function n(e,t,r){var n=typeof e;return"function"==n?void 0===t?e:o(e,t,r):null==e?s:"object"==n?i(e):void 0===t?l(e):a(e,t)}var i=e("./baseMatches"),a=e("./baseMatchesProperty"),o=e("./bindCallback"),s=e("../utility/identity"),l=e("../utility/property");t.exports=n},{"../utility/identity":75,"../utility/property":76,"./baseMatches":32,"./baseMatchesProperty":33,"./bindCallback":38}],20:[function(e,t,r){function n(e,t,r){r||(r={});for(var n=-1,i=t.length;++n<i;){var a=t[n];r[a]=e[a]}return r}t.exports=n},{}],21:[function(e,t,r){function n(e,t){var r=e?e.length:0,n=[];if(!r)return n;var l=-1,u=i,c=!0,f=c&&t.length>=s?o(t):null,h=t.length;f&&(u=a,c=!1,t=f);e:for(;++l<r;){var d=e[l];if(c&&d===d){for(var p=h;p--;)if(t[p]===d)continue e;n.push(d)}else u(t,d,0)<0&&n.push(d)}return n}var i=e("./baseIndexOf"),a=e("./cacheIndexOf"),o=e("./createCache"),s=200;t.exports=n},{"./baseIndexOf":27,"./cacheIndexOf":39,"./createCache":44}],22:[function(e,t,r){var n=e("./baseForOwn"),i=e("./createBaseEach"),a=i(n);t.exports=a},{"./baseForOwn":25,"./createBaseEach":42}],23:[function(e,t,r){function n(e,t,r,u){u||(u=[]);for(var c=-1,f=e.length;++c<f;){var h=e[c];l(h)&&s(h)&&(r||o(h)||a(h))?t?n(h,t,r,u):i(u,h):r||(u[u.length]=h)}return u}var i=e("./arrayPush"),a=e("../lang/isArguments"),o=e("../lang/isArray"),s=e("./isArrayLike"),l=e("./isObjectLike");t.exports=n},{"../lang/isArguments":64,"../lang/isArray":65,"./arrayPush":14,"./isArrayLike":54,"./isObjectLike":59}],24:[function(e,t,r){var n=e("./createBaseFor"),i=n();t.exports=i},{"./createBaseFor":43}],25:[function(e,t,r){function n(e,t){return i(e,t,a)}var i=e("./baseFor"),a=e("../object/keys");t.exports=n},{"../object/keys":72,"./baseFor":24}],26:[function(e,t,r){function n(e,t,r){if(null!=e){void 0!==r&&r in i(e)&&(t=[r]);for(var n=0,a=t.length;null!=e&&a>n;)e=e[t[n++]];return n&&n==a?e:void 0}}var i=e("./toObject");t.exports=n},{"./toObject":62}],27:[function(e,t,r){function n(e,t,r){if(t!==t)return i(e,r);for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var i=e("./indexOfNaN");t.exports=n},{"./indexOfNaN":53}],28:[function(e,t,r){function n(e,t,r,s,l,u){return e===t?!0:null==e||null==t||!a(e)&&!o(t)?e!==e&&t!==t:i(e,t,n,r,s,l,u)}var i=e("./baseIsEqualDeep"),a=e("../lang/isObject"),o=e("./isObjectLike");t.exports=n},{"../lang/isObject":68,"./baseIsEqualDeep":29,"./isObjectLike":59}],29:[function(e,t,r){function n(e,t,r,n,h,v,g){var m=s(e),y=s(t),b=c,x=c;m||(b=p.call(e),b==u?b=f:b!=f&&(m=l(e))),y||(x=p.call(t),x==u?x=f:x!=f&&(y=l(t)));var w=b==f,k=x==f,S=b==x;if(S&&!m&&!w)return a(e,t,b);if(!h){var C=w&&d.call(e,"__wrapped__"),T=k&&d.call(t,"__wrapped__");if(C||T)return r(C?e.value():e,T?t.value():t,n,h,v,g)}if(!S)return!1;v||(v=[]),g||(g=[]);for(var O=v.length;O--;)if(v[O]==e)return g[O]==t;v.push(e),g.push(t);var M=(m?i:o)(e,t,r,n,h,v,g);return v.pop(),g.pop(),M}var i=e("./equalArrays"),a=e("./equalByTag"),o=e("./equalObjects"),s=e("../lang/isArray"),l=e("../lang/isTypedArray"),u="[object Arguments]",c="[object Array]",f="[object Object]",h=Object.prototype,d=h.hasOwnProperty,p=h.toString;t.exports=n},{"../lang/isArray":65,"../lang/isTypedArray":69,"./equalArrays":47,"./equalByTag":48,"./equalObjects":49}],30:[function(e,t,r){function n(e,t,r){var n=t.length,o=n,s=!r;if(null==e)return!o;for(e=a(e);n--;){var l=t[n];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++n<o;){l=t[n];var u=l[0],c=e[u],f=l[1];if(s&&l[2]){if(void 0===c&&!(u in e))return!1}else{var h=r?r(c,f,u):void 0;if(!(void 0===h?i(f,c,r,!0):h))return!1}}return!0}var i=e("./baseIsEqual"),a=e("./toObject");t.exports=n},{"./baseIsEqual":28,"./toObject":62}],31:[function(e,t,r){function n(e,t){var r=-1,n=a(e)?Array(e.length):[];return i(e,function(e,i,a){n[++r]=t(e,i,a)}),n}var i=e("./baseEach"),a=e("./isArrayLike");t.exports=n},{"./baseEach":22,"./isArrayLike":54}],32:[function(e,t,r){function n(e){var t=a(e);if(1==t.length&&t[0][2]){var r=t[0][0],n=t[0][1];return function(e){return null==e?!1:e[r]===n&&(void 0!==n||r in o(e))}}return function(e){return i(e,t)}}var i=e("./baseIsMatch"),a=e("./getMatchData"),o=e("./toObject");t.exports=n},{"./baseIsMatch":30,"./getMatchData":51,"./toObject":62}],33:[function(e,t,r){function n(e,t){var r=s(e),n=l(e)&&u(t),d=e+"";return e=h(e),function(s){if(null==s)return!1;var l=d;if(s=f(s),(r||!n)&&!(l in s)){if(s=1==e.length?s:i(s,o(e,0,-1)),null==s)return!1;l=c(e),s=f(s)}return s[l]===t?void 0!==t||l in s:a(t,s[l],void 0,!0)}}var i=e("./baseGet"),a=e("./baseIsEqual"),o=e("./baseSlice"),s=e("../lang/isArray"),l=e("./isKey"),u=e("./isStrictComparable"),c=e("../array/last"),f=e("./toObject"),h=e("./toPath");t.exports=n},{"../array/last":5,"../lang/isArray":65,"./baseGet":26,"./baseIsEqual":28,"./baseSlice":36,"./isKey":57,"./isStrictComparable":60,"./toObject":62,"./toPath":63}],34:[function(e,t,r){function n(e){return function(t){return null==t?void 0:t[e]}}t.exports=n},{}],35:[function(e,t,r){function n(e){var t=e+"";return e=a(e),function(r){return i(r,e,t)}}var i=e("./baseGet"),a=e("./toPath");t.exports=n},{"./baseGet":26,"./toPath":63}],36:[function(e,t,r){function n(e,t,r){var n=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),r=void 0===r||r>i?i:+r||0,0>r&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}t.exports=n},{}],37:[function(e,t,r){function n(e){return null==e?"":e+""}t.exports=n},{}],38:[function(e,t,r){function n(e,t,r){if("function"!=typeof e)return i;if(void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,a){return e.call(t,r,n,i,a)};case 5:return function(r,n,i,a,o){return e.call(t,r,n,i,a,o)}}return function(){return e.apply(t,arguments)}}var i=e("../utility/identity");t.exports=n},{"../utility/identity":75}],39:[function(e,t,r){function n(e,t){var r=e.data,n="string"==typeof t||i(t)?r.set.has(t):r.hash[t];return n?0:-1}var i=e("../lang/isObject");t.exports=n},{"../lang/isObject":68}],40:[function(e,t,r){function n(e){var t=this.data;"string"==typeof e||i(e)?t.set.add(e):t.hash[e]=!0}var i=e("../lang/isObject");t.exports=n},{"../lang/isObject":68}],41:[function(e,t,r){function n(e){return o(function(t,r){var n=-1,o=null==t?0:r.length,s=o>2?r[o-2]:void 0,l=o>2?r[2]:void 0,u=o>1?r[o-1]:void 0;for("function"==typeof s?(s=i(s,u,5),o-=2):(s="function"==typeof u?u:void 0,o-=s?1:0),l&&a(r[0],r[1],l)&&(s=3>o?void 0:s,o=1);++n<o;){var c=r[n];c&&e(t,c,s)}return t})}var i=e("./bindCallback"),a=e("./isIterateeCall"),o=e("../function/restParam");t.exports=n},{"../function/restParam":10,"./bindCallback":38,"./isIterateeCall":56}],42:[function(e,t,r){function n(e,t){return function(r,n){var s=r?i(r):0;if(!a(s))return e(r,n);for(var l=t?s:-1,u=o(r);(t?l--:++l<s)&&n(u[l],l,u)!==!1;);return r}}var i=e("./getLength"),a=e("./isLength"),o=e("./toObject");t.exports=n},{"./getLength":50,"./isLength":58,"./toObject":62}],43:[function(e,t,r){function n(e){return function(t,r,n){for(var a=i(t),o=n(t),s=o.length,l=e?s:-1;e?l--:++l<s;){var u=o[l];if(r(a[u],u,a)===!1)break}return t}}var i=e("./toObject");t.exports=n},{"./toObject":62}],44:[function(e,t,r){(function(r){function n(e){return s&&o?new i(e):null}var i=e("./SetCache"),a=e("./getNative"),o=a(r,"Set"),s=a(Object,"create");t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./SetCache":11,"./getNative":52}],45:[function(e,t,r){function n(e,t){return i(function(r){var n=r[0];return null==n?n:(r.push(t),e.apply(void 0,r))})}var i=e("../function/restParam");t.exports=n},{"../function/restParam":10}],46:[function(e,t,r){function n(e,t){return function(r,n,o){return"function"==typeof n&&void 0===o&&a(r)?e(r,n):t(r,i(n,o,3))}}var i=e("./bindCallback"),a=e("../lang/isArray");t.exports=n},{"../lang/isArray":65,"./bindCallback":38}],47:[function(e,t,r){function n(e,t,r,n,a,o,s){var l=-1,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;for(;++l<u;){var f=e[l],h=t[l],d=n?n(a?h:f,a?f:h,l):void 0;if(void 0!==d){if(d)continue;return!1}if(a){if(!i(t,function(e){return f===e||r(f,e,n,a,o,s)}))return!1}else if(f!==h&&!r(f,h,n,a,o,s))return!1}return!0}var i=e("./arraySome");t.exports=n},{"./arraySome":15}],48:[function(e,t,r){function n(e,t,r){switch(r){case i:case a:return+e==+t;case o:return e.name==t.name&&e.message==t.message;case s:return e!=+e?t!=+t:e==+t;case l:case u:return e==t+""}return!1}var i="[object Boolean]",a="[object Date]",o="[object Error]",s="[object Number]",l="[object RegExp]",u="[object String]";t.exports=n},{}],49:[function(e,t,r){function n(e,t,r,n,a,s,l){var u=i(e),c=u.length,f=i(t),h=f.length;if(c!=h&&!a)return!1;for(var d=c;d--;){var p=u[d];if(!(a?p in t:o.call(t,p)))return!1}for(var v=a;++d<c;){p=u[d];var g=e[p],m=t[p],y=n?n(a?m:g,a?g:m,p):void 0;if(!(void 0===y?r(g,m,n,a,s,l):y))return!1;v||(v="constructor"==p)}if(!v){var b=e.constructor,x=t.constructor;if(b!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x))return!1}return!0}var i=e("../object/keys"),a=Object.prototype,o=a.hasOwnProperty;t.exports=n},{"../object/keys":72}],50:[function(e,t,r){var n=e("./baseProperty"),i=n("length");t.exports=i},{"./baseProperty":34}],51:[function(e,t,r){function n(e){for(var t=a(e),r=t.length;r--;)t[r][2]=i(t[r][1]);return t}var i=e("./isStrictComparable"),a=e("../object/pairs");t.exports=n},{"../object/pairs":74,"./isStrictComparable":60}],52:[function(e,t,r){function n(e,t){var r=null==e?void 0:e[t];return i(r)?r:void 0}var i=e("../lang/isNative");t.exports=n},{"../lang/isNative":67}],53:[function(e,t,r){function n(e,t,r){for(var n=e.length,i=t+(r?0:-1);r?i--:++i<n;){var a=e[i];if(a!==a)return i}return-1}t.exports=n},{}],54:[function(e,t,r){function n(e){return null!=e&&a(i(e))}var i=e("./getLength"),a=e("./isLength");t.exports=n},{"./getLength":50,"./isLength":58}],55:[function(e,t,r){function n(e,t){return e="number"==typeof e||i.test(e)?+e:-1,t=null==t?a:t,e>-1&&e%1==0&&t>e}var i=/^\d+$/,a=9007199254740991;t.exports=n},{}],56:[function(e,t,r){function n(e,t,r){if(!o(r))return!1;var n=typeof t;if("number"==n?i(r)&&a(t,r.length):"string"==n&&t in r){var s=r[t];return e===e?e===s:s!==s}return!1}var i=e("./isArrayLike"),a=e("./isIndex"),o=e("../lang/isObject");t.exports=n},{"../lang/isObject":68,"./isArrayLike":54,"./isIndex":55}],57:[function(e,t,r){function n(e,t){var r=typeof e;if("string"==r&&s.test(e)||"number"==r)return!0;if(i(e))return!1;var n=!o.test(e);return n||null!=t&&e in a(t)}var i=e("../lang/isArray"),a=e("./toObject"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=n},{"../lang/isArray":65,"./toObject":62}],58:[function(e,t,r){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}var i=9007199254740991;t.exports=n},{}],59:[function(e,t,r){function n(e){return!!e&&"object"==typeof e}t.exports=n},{}],60:[function(e,t,r){function n(e){return e===e&&!i(e)}var i=e("../lang/isObject");t.exports=n},{"../lang/isObject":68}],61:[function(e,t,r){function n(e){for(var t=l(e),r=t.length,n=r&&e.length,u=!!n&&s(n)&&(a(e)||i(e)),f=-1,h=[];++f<r;){var d=t[f];(u&&o(d,n)||c.call(e,d))&&h.push(d)}return h}var i=e("../lang/isArguments"),a=e("../lang/isArray"),o=e("./isIndex"),s=e("./isLength"),l=e("../object/keysIn"),u=Object.prototype,c=u.hasOwnProperty;t.exports=n},{"../lang/isArguments":64,"../lang/isArray":65,"../object/keysIn":73,"./isIndex":55,"./isLength":58}],62:[function(e,t,r){function n(e){return i(e)?e:Object(e)}var i=e("../lang/isObject");t.exports=n},{"../lang/isObject":68}],63:[function(e,t,r){function n(e){if(a(e))return e;var t=[];return i(e).replace(o,function(e,r,n,i){t.push(n?i.replace(s,"$1"):r||e)}),t}var i=e("./baseToString"),a=e("../lang/isArray"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;t.exports=n},{"../lang/isArray":65,"./baseToString":37}],64:[function(e,t,r){function n(e){return a(e)&&i(e)&&s.call(e,"callee")&&!l.call(e,"callee")}var i=e("../internal/isArrayLike"),a=e("../internal/isObjectLike"),o=Object.prototype,s=o.hasOwnProperty,l=o.propertyIsEnumerable;t.exports=n},{"../internal/isArrayLike":54,"../internal/isObjectLike":59}],65:[function(e,t,r){var n=e("../internal/getNative"),i=e("../internal/isLength"),a=e("../internal/isObjectLike"),o="[object Array]",s=Object.prototype,l=s.toString,u=n(Array,"isArray"),c=u||function(e){return a(e)&&i(e.length)&&l.call(e)==o};t.exports=c},{"../internal/getNative":52,"../internal/isLength":58,"../internal/isObjectLike":59}],66:[function(e,t,r){function n(e){return i(e)&&s.call(e)==a}var i=e("./isObject"),a="[object Function]",o=Object.prototype,s=o.toString;t.exports=n},{"./isObject":68}],67:[function(e,t,r){function n(e){return null==e?!1:i(e)?c.test(l.call(e)):a(e)&&o.test(e)}var i=e("./isFunction"),a=e("../internal/isObjectLike"),o=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},{"../internal/isObjectLike":59,"./isFunction":66}],68:[function(e,t,r){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=n},{}],69:[function(e,t,r){function n(e){return a(e)&&i(e.length)&&!!L[U.call(e)]}var i=e("../internal/isLength"),a=e("../internal/isObjectLike"),o="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Function]",h="[object Map]",d="[object Number]",p="[object Object]",v="[object RegExp]",g="[object Set]",m="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",x="[object Float32Array]",w="[object Float64Array]",k="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",T="[object Uint8Array]",O="[object Uint8ClampedArray]",M="[object Uint16Array]",A="[object Uint32Array]",L={};L[x]=L[w]=L[k]=L[S]=L[C]=L[T]=L[O]=L[M]=L[A]=!0,L[o]=L[s]=L[b]=L[l]=L[u]=L[c]=L[f]=L[h]=L[d]=L[p]=L[v]=L[g]=L[m]=L[y]=!1;var E=Object.prototype,U=E.toString;t.exports=n},{"../internal/isLength":58,"../internal/isObjectLike":59}],70:[function(e,t,r){var n=e("../internal/assignWith"),i=e("../internal/baseAssign"),a=e("../internal/createAssigner"),o=a(function(e,t,r){return r?n(e,t,r):i(e,t)});t.exports=o},{"../internal/assignWith":17,"../internal/baseAssign":18,"../internal/createAssigner":41}],71:[function(e,t,r){var n=e("./assign"),i=e("../internal/assignDefaults"),a=e("../internal/createDefaults"),o=a(n,i);t.exports=o},{"../internal/assignDefaults":16,"../internal/createDefaults":45,"./assign":70}],72:[function(e,t,r){var n=e("../internal/getNative"),i=e("../internal/isArrayLike"),a=e("../lang/isObject"),o=e("../internal/shimKeys"),s=n(Object,"keys"),l=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?o(e):a(e)?s(e):[]}:o;t.exports=l},{"../internal/getNative":52,"../internal/isArrayLike":54,"../internal/shimKeys":61,"../lang/isObject":68}],73:[function(e,t,r){function n(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(a(e)||i(e))&&t||0;for(var r=e.constructor,n=-1,u="function"==typeof r&&r.prototype===e,f=Array(t),h=t>0;++n<t;)f[n]=n+"";for(var d in e)h&&o(d,t)||"constructor"==d&&(u||!c.call(e,d))||f.push(d);return f}var i=e("../lang/isArguments"),a=e("../lang/isArray"),o=e("../internal/isIndex"),s=e("../internal/isLength"),l=e("../lang/isObject"),u=Object.prototype,c=u.hasOwnProperty;t.exports=n},{"../internal/isIndex":55,"../internal/isLength":58,"../lang/isArguments":64,"../lang/isArray":65,"../lang/isObject":68}],74:[function(e,t,r){function n(e){e=a(e);for(var t=-1,r=i(e),n=r.length,o=Array(n);++t<n;){var s=r[t];o[t]=[s,e[s]]}return o}var i=e("./keys"),a=e("../internal/toObject");t.exports=n},{"../internal/toObject":62,"./keys":72}],75:[function(e,t,r){function n(e){return e}t.exports=n},{}],76:[function(e,t,r){function n(e){return o(e)?i(e):a(e)}var i=e("../internal/baseProperty"),a=e("../internal/basePropertyDeep"),o=e("../internal/isKey");t.exports=n},{"../internal/baseProperty":34,"../internal/basePropertyDeep":35,"../internal/isKey":57}],77:[function(e,t,r){var n=e("./vdom/create-element.js");t.exports=n},{"./vdom/create-element.js":89}],78:[function(e,t,r){var n=e("./vtree/diff.js");t.exports=n},{"./vtree/diff.js":112}],79:[function(e,t,r){var n=e("./virtual-hyperscript/index.js");t.exports=n},{"./virtual-hyperscript/index.js":97}],80:[function(e,t,r){t.exports=function(e){var t,r=String.prototype.split,n=/()??/.exec("")[1]===e;return t=function(t,i,a){if("[object RegExp]"!==Object.prototype.toString.call(i))return r.call(t,i,a);var o,s,l,u,c=[],f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),h=0,i=new RegExp(i.source,f+"g");for(t+="",n||(o=new RegExp("^"+i.source+"$(?!\\s)",f)),a=a===e?-1>>>0:a>>>0;(s=i.exec(t))&&(l=s.index+s[0].length,!(l>h&&(c.push(t.slice(h,s.index)),!n&&s.length>1&&s[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(s[t]=e)}),s.length>1&&s.index<t.length&&Array.prototype.push.apply(c,s.slice(1)),u=s[0].length,h=l,c.length>=a)));)i.lastIndex===s.index&&i.lastIndex++;return h===t.length?(u||!i.test(""))&&c.push(""):c.push(t.slice(h)),c.length>a?c.slice(0,a):c}}()},{}],81:[function(e,t,r){"use strict";function n(e){var t=e[o];return t||(t=e[o]={}),t}var i=e("individual/one-version"),a="7";i("ev-store",a);var o="__EV_STORE_KEY@"+a;t.exports=n},{"individual/one-version":83}],82:[function(e,t,r){(function(e){"use strict";function r(e,t){return e in n?n[e]:(n[e]=t,t)}var n="undefined"!=typeof window?window:"undefined"!=typeof e?e:{};t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],83:[function(e,t,r){"use strict";function n(e,t,r){var n="__INDIVIDUAL_ONE_VERSION_"+e,a=n+"_ENFORCE_SINGLETON",o=i(a,t);if(o!==t)throw new Error("Can only have one copy of "+e+".\nYou already have version "+o+" installed.\nThis means you cannot install version "+t);return i(n,r)}var i=e("./index.js");t.exports=n},{"./index.js":82}],84:[function(e,t,r){(function(r){var n="undefined"!=typeof r?r:"undefined"!=typeof window?window:{},i=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var a=n["__GLOBAL_DOCUMENT_CACHE@4"];a||(a=n["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":1}],85:[function(e,t,r){"use strict";t.exports=function(e){return"object"==typeof e&&null!==e}},{}],86:[function(e,t,r){function n(e){return"[object Array]"===a.call(e)}var i=Array.isArray,a=Object.prototype.toString;t.exports=i||n},{}],87:[function(e,t,r){var n=e("./vdom/patch.js");t.exports=n},{"./vdom/patch.js":92}],88:[function(e,t,r){function n(e,t,r){for(var n in t){var o=t[n];void 0===o?i(e,n,o,r):l(o)?(i(e,n,o,r),o.hook&&o.hook(e,n,r?r[n]:void 0)):s(o)?a(e,t,r,n,o):e[n]=o}}function i(e,t,r,n){if(n){var i=n[t];if(l(i))i.unhook&&i.unhook(e,t,r);else if("attributes"===t)for(var a in i)e.removeAttribute(a);else if("style"===t)for(var o in i)e.style[o]="";else"string"==typeof i?e[t]="":e[t]=null;
}}function a(e,t,r,n,i){var a=r?r[n]:void 0;if("attributes"!==n){if(a&&s(a)&&o(a)!==o(i))return void(e[n]=i);s(e[n])||(e[n]={});var l="style"===n?"":void 0;for(var u in i){var c=i[u];e[n][u]=void 0===c?l:c}}else for(var f in i){var h=i[f];void 0===h?e.removeAttribute(f):e.setAttribute(f,h)}}function o(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var s=e("is-object"),l=e("../vnode/is-vhook.js");t.exports=n},{"../vnode/is-vhook.js":103,"is-object":85}],89:[function(e,t,r){function n(e,t){var r=t?t.document||i:i,c=t?t.warn:null;if(e=u(e).a,l(e))return e.init();if(s(e))return r.createTextNode(e.text);if(!o(e))return c&&c("Item is not a valid virtual dom node",e),null;var f=null===e.namespace?r.createElement(e.tagName):r.createElementNS(e.namespace,e.tagName),h=e.properties;a(f,h);for(var d=e.children,p=0;p<d.length;p++){var v=n(d[p],t);v&&f.appendChild(v)}return f}var i=e("global/document"),a=e("./apply-properties"),o=e("../vnode/is-vnode.js"),s=e("../vnode/is-vtext.js"),l=e("../vnode/is-widget.js"),u=e("../vnode/handle-thunk.js");t.exports=n},{"../vnode/handle-thunk.js":101,"../vnode/is-vnode.js":104,"../vnode/is-vtext.js":105,"../vnode/is-widget.js":106,"./apply-properties":88,"global/document":84}],90:[function(e,t,r){function n(e,t,r,n){return r&&0!==r.length?(r.sort(o),i(e,t,r,n,0)):{}}function i(e,t,r,n,o){if(n=n||{},e){a(r,o,o)&&(n[o]=e);var l=t.children;if(l)for(var u=e.childNodes,c=0;c<t.children.length;c++){o+=1;var f=l[c]||s,h=o+(f.count||0);a(r,o,h)&&i(u[c],f,r,n,o),o=h}}return n}function a(e,t,r){if(0===e.length)return!1;for(var n,i,a=0,o=e.length-1;o>=a;){if(n=(o+a)/2>>0,i=e[n],a===o)return i>=t&&r>=i;if(t>i)a=n+1;else{if(!(i>r))return!0;o=n-1}}return!1}function o(e,t){return e>t?1:-1}var s={};t.exports=n},{}],91:[function(e,t,r){function n(e,t,r){var n=e.type,u=e.vNode,d=e.patch;switch(n){case p.REMOVE:return i(t,u);case p.INSERT:return a(t,d,r);case p.VTEXT:return o(t,u,d,r);case p.WIDGET:return s(t,u,d,r);case p.VNODE:return l(t,u,d,r);case p.ORDER:return c(t,d),t;case p.PROPS:return h(t,d,u.properties),t;case p.THUNK:return f(t,r.patch(t,d,r));default:return t}}function i(e,t){var r=e.parentNode;return r&&r.removeChild(e),u(e,t),null}function a(e,t,r){var n=r.render(t,r);return e&&e.appendChild(n),e}function o(e,t,r,n){var i;if(3===e.nodeType)e.replaceData(0,e.length,r.text),i=e;else{var a=e.parentNode;i=n.render(r,n),a&&i!==e&&a.replaceChild(i,e)}return i}function s(e,t,r,n){var i,a=v(t,r);i=a?r.update(t,e)||e:n.render(r,n);var o=e.parentNode;return o&&i!==e&&o.replaceChild(i,e),a||u(e,t),i}function l(e,t,r,n){var i=e.parentNode,a=n.render(r,n);return i&&a!==e&&i.replaceChild(a,e),a}function u(e,t){"function"==typeof t.destroy&&d(t)&&t.destroy(e)}function c(e,t){for(var r,n,i,a=e.childNodes,o={},s=0;s<t.removes.length;s++)n=t.removes[s],r=a[n.from],n.key&&(o[n.key]=r),e.removeChild(r);for(var l=a.length,u=0;u<t.inserts.length;u++)i=t.inserts[u],r=o[i.key],e.insertBefore(r,i.to>=l++?null:a[i.to])}function f(e,t){return e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e),t}var h=e("./apply-properties"),d=e("../vnode/is-widget.js"),p=e("../vnode/vpatch.js"),v=e("./update-widget");t.exports=n},{"../vnode/is-widget.js":106,"../vnode/vpatch.js":109,"./apply-properties":88,"./update-widget":93}],92:[function(e,t,r){function n(e,t,r){return r=r||{},r.patch=r.patch&&r.patch!==n?r.patch:i,r.render=r.render||u,r.patch(e,t,r)}function i(e,t,r){var n=o(t);if(0===n.length)return e;var i=c(e,t.a,n),l=e.ownerDocument;r.document||l===s||(r.document=l);for(var u=0;u<n.length;u++){var f=n[u];e=a(e,i[f],t[f],r)}return e}function a(e,t,r,n){if(!t)return e;var i;if(l(r))for(var a=0;a<r.length;a++)i=f(r[a],t,n),t===e&&(e=i);else i=f(r,t,n),t===e&&(e=i);return e}function o(e){var t=[];for(var r in e)"a"!==r&&t.push(Number(r));return t}var s=e("global/document"),l=e("x-is-array"),u=e("./create-element"),c=e("./dom-index"),f=e("./patch-op");t.exports=n},{"./create-element":89,"./dom-index":90,"./patch-op":91,"global/document":84,"x-is-array":86}],93:[function(e,t,r){function n(e,t){return i(e)&&i(t)?"name"in e&&"name"in t?e.id===t.id:e.init===t.init:!1}var i=e("../vnode/is-widget.js");t.exports=n},{"../vnode/is-widget.js":106}],94:[function(e,t,r){"use strict";function n(e,t){return this instanceof n?(this.namespace=e,void(this.value=t)):new n(e,t)}t.exports=n,n.prototype.hook=function(e,t,r){r&&"AttributeHook"===r.type&&r.value===this.value&&r.namespace===this.namespace||e.setAttributeNS(this.namespace,t,this.value)},n.prototype.unhook=function(e,t,r){if(!r||"AttributeHook"!==r.type||r.namespace!==this.namespace){var n=t.indexOf(":"),i=n>-1?t.substr(n+1):t;e.removeAttributeNS(this.namespace,i)}},n.prototype.type="AttributeHook"},{}],95:[function(e,t,r){"use strict";function n(e){return this instanceof n?void(this.value=e):new n(e)}var i=e("ev-store");t.exports=n,n.prototype.hook=function(e,t){var r=i(e),n=t.substr(3);r[n]=this.value},n.prototype.unhook=function(e,t){var r=i(e),n=t.substr(3);r[n]=void 0}},{"ev-store":81}],96:[function(e,t,r){"use strict";function n(e){return this instanceof n?void(this.value=e):new n(e)}t.exports=n,n.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)}},{}],97:[function(e,t,r){"use strict";function n(e,t,r){var n,o,l,u,c=[];return!r&&s(t)&&(r=t,o={}),o=o||t||{},n=y(e,o),o.hasOwnProperty("key")&&(l=o.key,o.key=void 0),o.hasOwnProperty("namespace")&&(u=o.namespace,o.namespace=void 0),"INPUT"!==n||u||!o.hasOwnProperty("value")||void 0===o.value||g(o.value)||(o.value=b(o.value)),a(o),void 0!==r&&null!==r&&i(r,c,n,o),new f(n,o,c,l,u)}function i(e,t,r,n){if("string"==typeof e)t.push(new h(e));else if("number"==typeof e)t.push(new h(String(e)));else if(o(e))t.push(e);else{if(!c(e)){if(null===e||void 0===e)return;throw l({foreignObject:e,parentVnode:{tagName:r,properties:n}})}for(var a=0;a<e.length;a++)i(e[a],t,r,n)}}function a(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];if(g(r))continue;"ev-"===t.substr(0,3)&&(e[t]=x(r))}}function o(e){return d(e)||p(e)||v(e)||m(e)}function s(e){return"string"==typeof e||c(e)||o(e)}function l(e){var t=new Error;return t.type="virtual-hyperscript.unexpected.virtual-element",t.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+u(e.foreignObject)+".\nThe parent vnode is:\n"+u(e.parentVnode),t.foreignObject=e.foreignObject,t.parentVnode=e.parentVnode,t}function u(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}var c=e("x-is-array"),f=e("../vnode/vnode.js"),h=e("../vnode/vtext.js"),d=e("../vnode/is-vnode"),p=e("../vnode/is-vtext"),v=e("../vnode/is-widget"),g=e("../vnode/is-vhook"),m=e("../vnode/is-thunk"),y=e("./parse-tag.js"),b=e("./hooks/soft-set-hook.js"),x=e("./hooks/ev-hook.js");t.exports=n},{"../vnode/is-thunk":102,"../vnode/is-vhook":103,"../vnode/is-vnode":104,"../vnode/is-vtext":105,"../vnode/is-widget":106,"../vnode/vnode.js":108,"../vnode/vtext.js":110,"./hooks/ev-hook.js":95,"./hooks/soft-set-hook.js":96,"./parse-tag.js":98,"x-is-array":86}],98:[function(e,t,r){"use strict";function n(e,t){if(!e)return"DIV";var r=!t.hasOwnProperty("id"),n=i(e,a),s=null;o.test(n[1])&&(s="DIV");var l,u,c,f;for(f=0;f<n.length;f++)u=n[f],u&&(c=u.charAt(0),s?"."===c?(l=l||[],l.push(u.substring(1,u.length))):"#"===c&&r&&(t.id=u.substring(1,u.length)):s=u);return l&&(t.className&&l.push(t.className),t.className=l.join(" ")),t.namespace?s:s.toUpperCase()}var i=e("browser-split"),a=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,o=/^\.|#/;t.exports=n},{"browser-split":80}],99:[function(e,t,r){"use strict";function n(e){return l.hasOwnProperty(e)?l[e]:void 0}var i=null,a="http://www.w3.org/2001/xml-events",o="http://www.w3.org/1999/xlink",s="http://www.w3.org/XML/1998/namespace",l={about:i,"accent-height":i,accumulate:i,additive:i,"alignment-baseline":i,alphabetic:i,amplitude:i,"arabic-form":i,ascent:i,attributeName:i,attributeType:i,azimuth:i,bandwidth:i,baseFrequency:i,baseProfile:i,"baseline-shift":i,bbox:i,begin:i,bias:i,by:i,calcMode:i,"cap-height":i,"class":i,clip:i,"clip-path":i,"clip-rule":i,clipPathUnits:i,color:i,"color-interpolation":i,"color-interpolation-filters":i,"color-profile":i,"color-rendering":i,content:i,contentScriptType:i,contentStyleType:i,cursor:i,cx:i,cy:i,d:i,datatype:i,defaultAction:i,descent:i,diffuseConstant:i,direction:i,display:i,divisor:i,"dominant-baseline":i,dur:i,dx:i,dy:i,edgeMode:i,editable:i,elevation:i,"enable-background":i,end:i,"ev:event":a,event:i,exponent:i,externalResourcesRequired:i,fill:i,"fill-opacity":i,"fill-rule":i,filter:i,filterRes:i,filterUnits:i,"flood-color":i,"flood-opacity":i,focusHighlight:i,focusable:i,"font-family":i,"font-size":i,"font-size-adjust":i,"font-stretch":i,"font-style":i,"font-variant":i,"font-weight":i,format:i,from:i,fx:i,fy:i,g1:i,g2:i,"glyph-name":i,"glyph-orientation-horizontal":i,"glyph-orientation-vertical":i,glyphRef:i,gradientTransform:i,gradientUnits:i,handler:i,hanging:i,height:i,"horiz-adv-x":i,"horiz-origin-x":i,"horiz-origin-y":i,id:i,ideographic:i,"image-rendering":i,"in":i,in2:i,initialVisibility:i,intercept:i,k:i,k1:i,k2:i,k3:i,k4:i,kernelMatrix:i,kernelUnitLength:i,kerning:i,keyPoints:i,keySplines:i,keyTimes:i,lang:i,lengthAdjust:i,"letter-spacing":i,"lighting-color":i,limitingConeAngle:i,local:i,"marker-end":i,"marker-mid":i,"marker-start":i,markerHeight:i,markerUnits:i,markerWidth:i,mask:i,maskContentUnits:i,maskUnits:i,mathematical:i,max:i,media:i,mediaCharacterEncoding:i,mediaContentEncodings:i,mediaSize:i,mediaTime:i,method:i,min:i,mode:i,name:i,"nav-down":i,"nav-down-left":i,"nav-down-right":i,"nav-left":i,"nav-next":i,"nav-prev":i,"nav-right":i,"nav-up":i,"nav-up-left":i,"nav-up-right":i,numOctaves:i,observer:i,offset:i,opacity:i,operator:i,order:i,orient:i,orientation:i,origin:i,overflow:i,overlay:i,"overline-position":i,"overline-thickness":i,"panose-1":i,path:i,pathLength:i,patternContentUnits:i,patternTransform:i,patternUnits:i,phase:i,playbackOrder:i,"pointer-events":i,points:i,pointsAtX:i,pointsAtY:i,pointsAtZ:i,preserveAlpha:i,preserveAspectRatio:i,primitiveUnits:i,propagate:i,property:i,r:i,radius:i,refX:i,refY:i,rel:i,"rendering-intent":i,repeatCount:i,repeatDur:i,requiredExtensions:i,requiredFeatures:i,requiredFonts:i,requiredFormats:i,resource:i,restart:i,result:i,rev:i,role:i,rotate:i,rx:i,ry:i,scale:i,seed:i,"shape-rendering":i,slope:i,snapshotTime:i,spacing:i,specularConstant:i,specularExponent:i,spreadMethod:i,startOffset:i,stdDeviation:i,stemh:i,stemv:i,stitchTiles:i,"stop-color":i,"stop-opacity":i,"strikethrough-position":i,"strikethrough-thickness":i,string:i,stroke:i,"stroke-dasharray":i,"stroke-dashoffset":i,"stroke-linecap":i,"stroke-linejoin":i,"stroke-miterlimit":i,"stroke-opacity":i,"stroke-width":i,surfaceScale:i,syncBehavior:i,syncBehaviorDefault:i,syncMaster:i,syncTolerance:i,syncToleranceDefault:i,systemLanguage:i,tableValues:i,target:i,targetX:i,targetY:i,"text-anchor":i,"text-decoration":i,"text-rendering":i,textLength:i,timelineBegin:i,title:i,to:i,transform:i,transformBehavior:i,type:i,"typeof":i,u1:i,u2:i,"underline-position":i,"underline-thickness":i,unicode:i,"unicode-bidi":i,"unicode-range":i,"units-per-em":i,"v-alphabetic":i,"v-hanging":i,"v-ideographic":i,"v-mathematical":i,values:i,version:i,"vert-adv-y":i,"vert-origin-x":i,"vert-origin-y":i,viewBox:i,viewTarget:i,visibility:i,width:i,widths:i,"word-spacing":i,"writing-mode":i,x:i,"x-height":i,x1:i,x2:i,xChannelSelector:i,"xlink:actuate":o,"xlink:arcrole":o,"xlink:href":o,"xlink:role":o,"xlink:show":o,"xlink:title":o,"xlink:type":o,"xml:base":s,"xml:id":s,"xml:lang":s,"xml:space":s,y:i,y1:i,y2:i,yChannelSelector:i,z:i,zoomAndPan:i};t.exports=n},{}],100:[function(e,t,r){"use strict";function n(e,t,r){!r&&i(t)&&(r=t,t={}),t=t||{},t.namespace=u;var n=t.attributes||(t.attributes={});for(var a in t)if(t.hasOwnProperty(a)){var c=s(a);if(void 0!==c){var f=t[a];("string"==typeof f||"number"==typeof f||"boolean"==typeof f)&&(null===c?(n[a]=f,t[a]=void 0):t[a]=l(c,f))}}return o(e,t,r)}function i(e){return"string"==typeof e||a(e)}var a=e("x-is-array"),o=e("./index.js"),s=e("./svg-attribute-namespace"),l=e("./hooks/attribute-hook"),u="http://www.w3.org/2000/svg";t.exports=n},{"./hooks/attribute-hook":94,"./index.js":97,"./svg-attribute-namespace":99,"x-is-array":86}],101:[function(e,t,r){function n(e,t){var r=e,n=t;return l(t)&&(n=i(t,e)),l(e)&&(r=i(e,null)),{a:r,b:n}}function i(e,t){var r=e.vnode;if(r||(r=e.vnode=e.render(t)),!(a(r)||o(r)||s(r)))throw new Error("thunk did not return a valid node");return r}var a=e("./is-vnode"),o=e("./is-vtext"),s=e("./is-widget"),l=e("./is-thunk");t.exports=n},{"./is-thunk":102,"./is-vnode":104,"./is-vtext":105,"./is-widget":106}],102:[function(e,t,r){function n(e){return e&&"Thunk"===e.type}t.exports=n},{}],103:[function(e,t,r){function n(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}t.exports=n},{}],104:[function(e,t,r){function n(e){return e&&"VirtualNode"===e.type&&e.version===i}var i=e("./version");t.exports=n},{"./version":107}],105:[function(e,t,r){function n(e){return e&&"VirtualText"===e.type&&e.version===i}var i=e("./version");t.exports=n},{"./version":107}],106:[function(e,t,r){function n(e){return e&&"Widget"===e.type}t.exports=n},{}],107:[function(e,t,r){t.exports="2"},{}],108:[function(e,t,r){function n(e,t,r,n,i){this.tagName=e,this.properties=t||u,this.children=r||c,this.key=null!=n?String(n):void 0,this.namespace="string"==typeof i?i:null;var f,h=r&&r.length||0,d=0,p=!1,v=!1,g=!1;for(var m in t)if(t.hasOwnProperty(m)){var y=t[m];l(y)&&y.unhook&&(f||(f={}),f[m]=y)}for(var b=0;h>b;b++){var x=r[b];a(x)?(d+=x.count||0,!p&&x.hasWidgets&&(p=!0),!v&&x.hasThunks&&(v=!0),g||!x.hooks&&!x.descendantHooks||(g=!0)):!p&&o(x)?"function"==typeof x.destroy&&(p=!0):!v&&s(x)&&(v=!0)}this.count=h+d,this.hasWidgets=p,this.hasThunks=v,this.hooks=f,this.descendantHooks=g}var i=e("./version"),a=e("./is-vnode"),o=e("./is-widget"),s=e("./is-thunk"),l=e("./is-vhook");t.exports=n;var u={},c=[];n.prototype.version=i,n.prototype.type="VirtualNode"},{"./is-thunk":102,"./is-vhook":103,"./is-vnode":104,"./is-widget":106,"./version":107}],109:[function(e,t,r){function n(e,t,r){this.type=Number(e),this.vNode=t,this.patch=r}var i=e("./version");n.NONE=0,n.VTEXT=1,n.VNODE=2,n.WIDGET=3,n.PROPS=4,n.ORDER=5,n.INSERT=6,n.REMOVE=7,n.THUNK=8,t.exports=n,n.prototype.version=i,n.prototype.type="VirtualPatch"},{"./version":107}],110:[function(e,t,r){function n(e){this.text=String(e)}var i=e("./version");t.exports=n,n.prototype.version=i,n.prototype.type="VirtualText"},{"./version":107}],111:[function(e,t,r){function n(e,t){var r;for(var s in e){s in t||(r=r||{},r[s]=void 0);var l=e[s],u=t[s];if(l!==u)if(a(l)&&a(u))if(i(u)!==i(l))r=r||{},r[s]=u;else if(o(u))r=r||{},r[s]=u;else{var c=n(l,u);c&&(r=r||{},r[s]=c)}else r=r||{},r[s]=u}for(var f in t)f in e||(r=r||{},r[f]=t[f]);return r}function i(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var a=e("is-object"),o=e("../vnode/is-vhook");t.exports=n},{"../vnode/is-vhook":103,"is-object":85}],112:[function(e,t,r){function n(e,t){var r={a:e};return i(e,t,r,0),r}function i(e,t,r,n){if(e!==t){var i=r[n],s=!1;if(w(e)||w(t))l(e,t,r,n);else if(null==t)x(e)||(o(e,r,n),i=r[n]),i=v(i,new m(m.REMOVE,e,t));else if(y(t))if(y(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var u=S(e.properties,t.properties);u&&(i=v(i,new m(m.PROPS,e,u))),i=a(e,t,r,i,n)}else i=v(i,new m(m.VNODE,e,t)),s=!0;else i=v(i,new m(m.VNODE,e,t)),s=!0;else b(t)?b(e)?e.text!==t.text&&(i=v(i,new m(m.VTEXT,e,t))):(i=v(i,new m(m.VTEXT,e,t)),s=!0):x(t)&&(x(e)||(s=!0),i=v(i,new m(m.WIDGET,e,t)));i&&(r[n]=i),s&&o(e,r,n)}}function a(e,t,r,n,a){for(var o=e.children,s=h(o,t.children),l=s.children,u=o.length,c=l.length,f=u>c?u:c,d=0;f>d;d++){var p=o[d],g=l[d];a+=1,p?i(p,g,r,a):g&&(n=v(n,new m(m.INSERT,null,g))),y(p)&&p.count&&(a+=p.count)}return s.moves&&(n=v(n,new m(m.ORDER,e,s.moves))),n}function o(e,t,r){c(e,t,r),s(e,t,r)}function s(e,t,r){if(x(e))"function"==typeof e.destroy&&(t[r]=v(t[r],new m(m.REMOVE,e,null)));else if(y(e)&&(e.hasWidgets||e.hasThunks))for(var n=e.children,i=n.length,a=0;i>a;a++){var o=n[a];r+=1,s(o,t,r),y(o)&&o.count&&(r+=o.count)}else w(e)&&l(e,null,t,r)}function l(e,t,r,i){var a=k(e,t),o=n(a.a,a.b);u(o)&&(r[i]=new m(m.THUNK,null,o))}function u(e){for(var t in e)if("a"!==t)return!0;return!1}function c(e,t,r){if(y(e)){if(e.hooks&&(t[r]=v(t[r],new m(m.PROPS,e,f(e.hooks)))),e.descendantHooks||e.hasThunks)for(var n=e.children,i=n.length,a=0;i>a;a++){var o=n[a];r+=1,c(o,t,r),y(o)&&o.count&&(r+=o.count)}}else w(e)&&l(e,null,t,r)}function f(e){var t={};for(var r in e)t[r]=void 0;return t}function h(e,t){var r=p(t),n=r.keys,i=r.free;if(i.length===t.length)return{children:t,moves:null};var a=p(e),o=a.keys,s=a.free;if(s.length===e.length)return{children:t,moves:null};for(var l=[],u=0,c=i.length,f=0,h=0;h<e.length;h++){var v,g=e[h];g.key?n.hasOwnProperty(g.key)?(v=n[g.key],l.push(t[v])):(v=h-f++,l.push(null)):c>u?(v=i[u++],l.push(t[v])):(v=h-f++,l.push(null))}for(var m=u>=i.length?t.length:i[u],y=0;y<t.length;y++){var b=t[y];b.key?o.hasOwnProperty(b.key)||l.push(b):y>=m&&l.push(b)}for(var x,w=l.slice(),k=0,S=[],C=[],T=0;T<t.length;){var O=t[T];for(x=w[k];null===x&&w.length;)S.push(d(w,k,null)),x=w[k];x&&x.key===O.key?(k++,T++):O.key?(x&&x.key&&n[x.key]!==T+1?(S.push(d(w,k,x.key)),x=w[k],x&&x.key===O.key?k++:C.push({key:O.key,to:T})):C.push({key:O.key,to:T}),T++):x&&x.key&&S.push(d(w,k,x.key))}for(;k<w.length;)x=w[k],S.push(d(w,k,x&&x.key));return S.length!==f||C.length?{children:l,moves:{removes:S,inserts:C}}:{children:l,moves:null}}function d(e,t,r){return e.splice(t,1),{from:t,key:r}}function p(e){for(var t={},r=[],n=e.length,i=0;n>i;i++){var a=e[i];a.key?t[a.key]=i:r.push(i)}return{keys:t,free:r}}function v(e,t){return e?(g(e)?e.push(t):e=[e,t],e):t}var g=e("x-is-array"),m=e("../vnode/vpatch"),y=e("../vnode/is-vnode"),b=e("../vnode/is-vtext"),x=e("../vnode/is-widget"),w=e("../vnode/is-thunk"),k=e("../vnode/handle-thunk"),S=e("./diff-props");t.exports=n},{"../vnode/handle-thunk":101,"../vnode/is-thunk":102,"../vnode/is-vnode":104,"../vnode/is-vtext":105,"../vnode/is-widget":106,"../vnode/vpatch":109,"./diff-props":111,"x-is-array":86}],113:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("./bezier"),s=n(o),l=e("./vector"),u=n(l),c=function(){function e(){i(this,e)}return a(e,[{key:"add",value:function(e){var t=this.copy();return t.vec1&&(t.vec1=t.vec1.add(e)),t.vec2&&(t.vec2=t.vec2.add(e)),t.vec3&&(t.vec3=t.vec3.add(e)),t}},{key:"sub",value:function(e){var t=this.copy();return t.vec1&&(t.vec1=t.vec1.sub(e)),t.vec2&&(t.vec2=t.vec2.sub(e)),t.vec3&&(t.vec3=t.vec3.sub(e)),t}},{key:"multiply",value:function(e){var t=this.copy();return t.vec1&&(t.vec1=t.vec1.multiply(e)),t.vec2&&(t.vec2=t.vec2.multiply(e)),t.vec3&&(t.vec3=t.vec3.multiply(e)),t}},{key:"copy",value:function(){var t=new e;return t.command=this.command,this.vec1&&(t.vec1=this.vec1.copy()),this.vec2&&(t.vec2=this.vec2.copy()),this.vec3&&(t.vec3=this.vec3.copy()),t}},{key:"setMove",value:function(e,t){return this.command="move",this.vec1=new u["default"](e,t),this}},{key:"setLine",value:function(e,t){return this.command="line",this.vec1=new u["default"](e,t),this}},{key:"setCurve",value:function(e,t,r,n,i,a){return"undefined"!=typeof a?(this.command="cubic",this.vec1=new u["default"](e,t),this.vec2=new u["default"](r,n),this.vec3=new u["default"](i,a)):(this.command="quad",this.vec1=new u["default"](e,t),this.vec2=new u["default"](r,n)),this}},{key:"setClose",value:function(){return this.command="close",this}},{key:"length",value:function(){if("move"==this.command)return 0;if("line"==this.command)return this.vec1.length();if("quad"==this.command)return new s["default"](0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y).length();if("cubic"==this.command)return new s["default"](0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y,this.vec3.x,this.vec3.y).length();throw new Error("Cannot compute length for this type of anchor")}},{key:"vectorAt",value:function(e){e>1&&(e=1),0>e&&(e=0);if("line"==this.command)return new u["default"](this.vec1.x,this.vec1.y).multiply(e);if("quad"==this.command)return new s["default"](0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y).get(e);if("cubic"==this.command)return new s["default"](0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y,this.vec3.x,this.vec3.y).get(e);throw new Error("Cannot compute vectorAt for this type of anchor")}}]),e}();r["default"]=c},{"./bezier":114,"./vector":131}],114:[function(e,t,r){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}!function(){var e=Math.abs,r=(Math.min,Math.max,Math.cos),i=Math.sin,a=(Math.acos,Math.asin,Math.atan2),o=Math.sqrt,s=(Math.PI,{x:0,y:0,z:0}),l={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){var r=t(e),n=r.x*r.x+r.y*r.y;return"undefined"!=typeof r.z&&(n+=r.z*r.z),o(n)},length:function(e){var t,r,n=.5,i=0,a=this.Tvalues.length;for(t=0;a>t;t++)r=n*this.Tvalues[t]+n,i+=this.Cvalues[t]*this.arcfn(r,e);return n*i},angle:function(e,t,r){var n,i=t.x-e.x,s=t.y-e.y,l=r.x-e.x,u=r.y-e.y,c=i*u-s*l,f=o(i*i+s*s),h=o(l*l+u*u);return i/=f,s/=f,l/=h,u/=h,n=i*l+s*u,a(c,n)},dist:function(e,t){var r=e.x-t.x,n=e.y-t.y;return o(r*r+n*n)},align:function(e,t){var n=t.p1.x,o=t.p1.y,s=-a(t.p2.y-o,t.p2.x-n),l=function(e){return{x:(e.x-n)*r(s)-(e.y-o)*i(s),y:(e.x-n)*i(s)+(e.y-o)*r(s)}};return e.map(l)}},u=function(t){var r=t&&t.forEach?t:arguments;if("object"===n(r[0])){r=[];for(var i=0;i<t.length;i++)["x","y","z"].forEach(function(e){"undefined"!=typeof t[i][e]&&r.push(t[i][e])})}var a=r.length;if(6!==a&&8!==a&&9!==a&&12!==a)throw console.log(t),new Error("This Bezier curve library only supports quadratic and cubic curves (in 2d and 3d)");var o=9===a||12===a;this._3d=o;for(var s=[],u=0,c=o?3:2;a>u;u+=c){var f={x:r[u],y:r[u+1]};o&&(f.z=r[u+2]),s.push(f)}this.order=s.length-1,this.points=s;var h=["x","y"];o&&h.push("z"),this.dims=h,this.dimlen=h.length,function(t){for(var r=l.align(s,{p1:s[0],p2:s[t.order]}),n=0;n<r.length;n++)if(e(r[n].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()};u.utils=l,u.prototype={update:function(){this.dpoints=[];for(var e=this.points,t=e.length,r=t-1;t>1;t--,r--){for(var n,i=[],a=0;r>a;a++)n={x:r*(e[a+1].x-e[a].x),y:r*(e[a+1].y-e[a].y)},this._3d&&(n.z=r*(e[a+1].z-e[a].z)),i.push(n);this.dpoints.push(i),e=i}this.computedirection()},computedirection:function(){var e=this.points,t=l.angle(e[0],e[this.order],e[1]);this.clockwise=t>0},length:function(){return l.length(this.derivative.bind(this))},get:function(e){return this.compute(e)},compute:function(e){if(0===e)return this.points[0];if(1===e)return this.points[this.order];var t,r,n,i=1-e,a=i*i,o=e*e,l=0,u=this.points;2===this.order&&(u=[u[0],u[1],u[2],s],t=a,r=i*e*2,n=o),3===this.order&&(t=a*i,r=a*e*3,n=i*o*3,l=e*o);var c={x:t*u[0].x+r*u[1].x+n*u[2].x+l*u[3].x,y:t*u[0].y+r*u[1].y+n*u[2].y+l*u[3].y};return this._3d&&(c.z=t*u[0].z+r*u[1].z+n*u[2].z+l*u[3].z),c},derivative:function(e){var t,r,n=1-e,i=0,a=this.dpoints[0];2===this.order&&(a=[a[0],a[1],s],t=n,r=e),3===this.order&&(t=n*n,r=n*e*2,i=e*e);var o={x:t*a[0].x+r*a[1].x+i*a[2].x,y:t*a[0].y+r*a[1].y+i*a[2].y};return this._3d&&(o.z=t*a[0].z+r*a[1].z+i*a[2].z),o}},t.exports=u}()},{}],115:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("color-convert"),s=n(o),l=function(){function e(t,r,n,a,o){if(i(this,e),this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},t instanceof e)return t;if("hsv"==t)this.setValues("hsv",{h:r%360,s:n,v:a}),o&&this.setValues("alpha",o);else if("string"==typeof t){var s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(!s)throw new Error('Unable to parse color from string "'+t+'"');this.setValues("rgb",[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]),r&&this.setValues("alpha",r)}else"undefined"==typeof n?(this.setValues("rgb",{r:t,g:t,b:t}),r&&this.setValues("alpha",r)):"undefined"!=typeof t&&(this.setValues("rgb",{r:t,g:r,b:n}),a&&this.setValues("alpha",a))}return a(e,[{key:"rgb",value:function(e){return this.setSpace("rgb",arguments)}},{key:"hsl",value:function(e){return this.setSpace("hsl",arguments)}},{key:"hsv",value:function(e){return this.setSpace("hsv",arguments)}},{key:"hwb",value:function(e){return this.setSpace("hwb",arguments)}},{key:"cmyk",value:function(e){return this.setSpace("cmyk",arguments)}},{key:"rgbArray",value:function(){return this.values.rgb}},{key:"hslArray",value:function(){return this.values.hsl}},{key:"hsvArray",value:function(){return this.values.hsv}},{key:"hwbArray",value:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb}},{key:"cmykArray",value:function(){return this.values.cmyk}},{key:"rgbaArray",value:function(){var e=this.values.rgb;return e.concat([this.values.alpha])}},{key:"hslaArray",value:function(){var e=this.values.hsl;return e.concat([this.values.alpha])}},{key:"alpha",value:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)}},{key:"red",value:function(e){return this.setChannel("rgb",0,e)}},{key:"green",value:function(e){return this.setChannel("rgb",1,e)}},{key:"blue",value:function(e){return this.setChannel("rgb",2,e)}},{key:"hue",value:function(e){return this.setChannel("hsl",0,e)}},{key:"saturation",value:function(e){return this.setChannel("hsl",1,e)}},{key:"lightness",value:function(e){return this.setChannel("hsl",2,e)}},{key:"saturationv",value:function(e){return this.setChannel("hsv",1,e)}},{key:"whiteness",value:function(e){return this.setChannel("hwb",1,e)}},{key:"blackness",value:function(e){return this.setChannel("hwb",2,e)}},{key:"value",value:function(e){return this.setChannel("hsv",2,e)}},{key:"cyan",value:function(e){return this.setChannel("cmyk",0,e)}},{key:"magenta",value:function(e){return this.setChannel("cmyk",1,e)}},{key:"yellow",value:function(e){return this.setChannel("cmyk",2,e)}},{key:"black",value:function(e){return this.setChannel("cmyk",3,e)}},{key:"luminosity",value:function(){for(var e=this.values.rgb,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=.03928>=n?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]}},{key:"contrast",value:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)}},{key:"level",value:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""}},{key:"dark",value:function(){var e=this.values.rgb,t=(299*e[0]+587*e[1]+114*e[2])/1e3;return 128>t}},{key:"light",value:function(){return!this.dark()}},{key:"negate",value:function(){for(var e=[],t=0;3>t;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this}},{key:"lighten",value:function(e){return this.values.hsl[2]+=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this}},{key:"darken",value:function(e){return this.values.hsl[2]-=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this}},{key:"saturate",value:function(e){return this.values.hsl[1]+=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this}},{key:"desaturate",value:function(e){return this.values.hsl[1]-=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this}},{key:"whiten",value:function(e){return this.values.hwb[1]+=this.values.hwb[1]*e,this.setValues("hwb",this.values.hwb),this}},{key:"blacken",value:function(e){return this.values.hwb[2]+=this.values.hwb[2]*e,this.setValues("hwb",this.values.hwb),this}},{key:"greyscale",value:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this}},{key:"clearer",value:function(e){return this.setValues("alpha",this.values.alpha-this.values.alpha*e),this}},{key:"opaquer",value:function(e){return this.setValues("alpha",this.values.alpha+this.values.alpha*e),this}},{key:"rotate",value:function(e){var t=this.values.hsl[0];return t=(t+e)%360,t=0>t?360+t:t,this.values.hsl[0]=t,this.setValues("hsl",this.values.hsl),this}},{key:"mix",value:function(e,t){var r=this,n=e,i=void 0!==t?t:.5,a=2*i-1,o=r.alpha()-n.alpha(),s=((a*o==-1?a:(a+o)/(1+a*o))+1)/2,l=1-s;return this.rgb(s*r.red()+l*n.red(),s*r.green()+l*n.green(),s*r.blue()+l*n.blue()).alpha(r.alpha()*i+n.alpha()*(1-i))}},{key:"toJSON",value:function(){return this.rgb()}},{key:"copy",value:function(){return(new e).rgb(this.rgb())}},{key:"getValues",value:function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=this.values[e][r];return 1!=this.values.alpha&&(t.a=this.values.alpha),t}},{key:"setValues",value:function(e,t){var r={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},n={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},i=1;if("alpha"==e)i=t;else if(t.length)this.values[e]=t.slice(0,e.length),i=t[e.length];else if(void 0!==t[e.charAt(0)]){for(var a=0;a<e.length;a++)this.values[e][a]=t[e.charAt(a)];i=t.a}else if(void 0!==t[r[e][0]]){for(var o=r[e],a=0;a<e.length;a++)this.values[e][a]=t[o[a]];i=t.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==i?i:this.values.alpha)),"alpha"!=e){for(var a=0;a<e.length;a++){var l=Math.max(0,Math.min(n[e][a],this.values[e][a]));this.values[e][a]=Math.round(l)}for(var u in r){u!=e&&(this.values[u]=s["default"][e][u](this.values[e]));for(var a=0;a<u.length;a++){var l=Math.max(0,Math.min(n[u][a],this.values[u][a]));this.values[u][a]=Math.round(l)}}return!0}}},{key:"setSpace",value:function(e,t){var r=t[0];return void 0===r?this.getValues(e):("number"==typeof r&&(r=Array.prototype.slice.call(t)),this.setValues(e,r),this)}},{key:"setChannel",value:function(e,t,r){return void 0===r?this.values[e][t]:(this.values[e][t]=r,this.setValues(e,this.values[e]),this)}}]),e}();l.Convert=s["default"],r["default"]=l},{"color-convert":3}],116:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={on:function(e,t){return this._events||(this._events={}),this._events[e]=this._events[e]||[],this._events[e].push(t),this},off:function(e,t){if(this._events[e]&&!t)delete this._events[e];else if(this._events[e]){e=this._events[e];for(var r=e.length;r--;)e[r]===t&&e.splice(r-1,1)}else 0===arguments.length&&(this._events={});return this},trigger:function(e){if(this._events&&this._events[e])for(var t=this._events[e],r=arguments.length>1?[arguments[1]]:[],n=t.length;n--;)t[n].apply(this,r);return this}};r["default"]=n},{}],117:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,
n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("lodash/object/assign"),s=n(o),l=e("lodash/object/defaults"),u=n(l),c=e("./mixins"),f=e("./group"),h=n(f),d=function(){function e(t){i(this,e),this.moveable(),this.modules=[];var r=u["default"](t||{},{x:0,y:0,columns:10,rows:1,gutterWidth:0,gutterHeight:0,moduleWidth:50,moduleHeight:500});"undefined"!=typeof r.gutter&&(r.gutterWidth=r.gutter,r.gutterHeight=r.gutter),"undefined"!=typeof r.width?r.moduleWidth=(r.width-(r.columns-1)*r.gutterWidth)/r.columns:r.width=r.moduleWidth*r.columns+r.gutterWidth*(r.columns-1),"undefined"!=typeof r.height?r.moduleHeight=(r.height-(r.rows-1)*r.gutterHeight)/r.rows:r.height=r.moduleHeight*r.rows+r.gutterHeight*(r.rows-1),s["default"](this.vars,r),this.computeGrid()}return a(e,[{key:"add",value:function(e,t,r){t||(t=1),r||(r=1);var n=t-1+(r-1)*this.vars.columns;if(!this.modules[n])throw new Error("Column or row does not exist");this.modules[n].add(e)}},{key:"getModule",value:function(e,t){var r=e-1+(t-1)*this.vars.columns;return this.modules[r]?this.modules[r]:void 0}},{key:"computeGrid",value:function(){this.modules=[];for(var e=0;e<this.vars.rows;e++)for(var t=0;t<this.vars.columns;t++){var r=t*this.vars.moduleWidth+t*this.vars.gutterWidth,n=e*this.vars.moduleHeight+e*this.vars.gutterHeight;this.modules.push(new h["default"](r,n))}}}]),e}();s["default"](d.prototype,c.Shapeable,c.Moveable,{type:"grid"}),r["default"]=d},{"./group":118,"./mixins":119,"lodash/object/assign":70,"lodash/object/defaults":71}],118:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("lodash/array/without"),s=n(o),l=e("lodash/object/assign"),u=n(l),c=e("lodash/collection/each"),f=n(c),h=e("./mixins"),d=e("./utils"),p=n(d),v=e("./vector"),g=(n(v),function(){function e(t,r){i(this,e),this.moveable(),this.children=[],"undefined"!=typeof t&&(this.vars.x=t),"undefined"!=typeof r&&(this.vars.y=r)}return a(e,[{key:"add",value:function(e){e.parent&&e.parent.remove(e),this.children.push(e),e.parent=this}},{key:"remove",value:function(e){this.children=s["default"](this.children,e),e.parent=!1}},{key:"copy",value:function t(r){for(var t=new e,n=0;n<this.children.length;n++)this.children[n].copy(t);return p["default"].copyMixinVars(this,t),p["default"].groupLogic(t,this.parent,r),t}},{key:"scale",value:function(e){return f["default"](this.children,function(t){t.vars.x*=e,t.vars.y*=e,t.scale(e)}),this}}]),e}());u["default"](g.prototype,h.Moveable,{type:"group"}),r["default"]=g},{"./mixins":119,"./utils":130,"./vector":131,"lodash/array/without":6,"lodash/collection/each":7,"lodash/object/assign":70}],119:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.Styleable=r.Sizeable=r.Moveable=void 0;var i=e("./utils"),a=(n(i),e("./color")),o=n(a),s=e("./vector"),l=n(s),u={moveable:function(e){this.vars=this.vars||{},this.vars.x=e?e.vars.x:0,this.vars.y=e?e.vars.y:0,this.vars.rotation=e?e.vars.rotation:0,this.vars.rotationX=e?e.vars.rotationX:0,this.vars.rotationY=e?e.vars.rotationY:0},move:function(e,t,r){return this.vars.x=r?this.vars.x+e:e,this.vars.y=r?this.vars.y+t:t,this},rotate:function(e,t,r,n){return this.vars.rotation=e,(t||r)&&(this.vars.rotationX=t||0,this.vars.rotationY=r||0),n&&(this.vars.rotationX+=this.vars.x,this.vars.rotationY+=this.vars.y),this},addParent:function(e){return e.add(this),this},removeParent:function(){return this.parent&&this.parent.remove(this),this},stagepos:function(){var e=new l["default"](this.vars.x,this.vars.y);return this.parent&&(e=e.add(this.parent.stagepos())),e}},c={sizeable:function(e){this.vars=this.vars||{},this.vars.width=e?e.vars.width:0,this.vars.height=e?e.vars.height:0}},f={styleable:function(e){this.vars=this.vars||{},this.vars.fill=new o["default"](128),this.vars.stroke=new o["default"](0),e&&(e.vars.fill===!1?this.vars.fill=!1:e.vars.fill&&(this.vars.fill=e.vars.fill.copy()),e.vars.stroke===!1?this.vars.stroke=!1:e.vars.stroke&&(this.vars.stroke=e.vars.stroke.copy()))},fill:function(e,t,r,n,i){return e===!1?this.vars.fill=!1:this.vars.fill=new o["default"](e,t,r,n,i),this},stroke:function(e,t,r,n,i){return e===!1?this.vars.stroke=!1:this.vars.stroke=new o["default"](e,t,r,n,i),this},strokeWidth:function(e){return this.vars.strokeWidth=e,this},strokeCap:function(e){return this.vars.strokeCap=e,this},strokeJoin:function(e){return this.vars.strokeJoin=e,this},strokeMiterlimit:function(e){return this.vars.strokeMiterlimit=e,this},strokeDash:function(e){return this.vars.strokeDash=e,this},strokeDashOffset:function(e){return this.vars.strokeDashOffset=e,this}};r.Moveable=u,r.Sizeable=c,r.Styleable=f},{"./color":115,"./utils":130,"./vector":131}],120:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("lodash/array/flatten"),s=n(o),l=e("lodash/collection/each"),u=n(l),c=e("lodash/collection/map"),f=n(c),h=e("./shapes/circle"),d=n(h),p=e("./shapes/rectangle"),v=n(p),g=e("./shapes/line"),m=n(g),y=e("virtual-dom/h"),b=(n(y),e("virtual-dom/diff")),x=n(b),w=e("virtual-dom/patch"),k=n(w),S=e("virtual-dom/create-element"),C=n(S),T=e("virtual-dom/virtual-hyperscript/svg"),O=n(T),M=function(){function e(t){i(this,e),this.params=t,this.tree=O["default"]("svg",{width:this.s(t.width),height:this.s(t.height)}),this.el=C["default"](this.tree)}return a(e,[{key:"render",value:function(e,t){var r=O["default"]("svg",{width:this.s(this.params.width),height:this.s(this.params.height)},[this.objectsToSVG(e.children,t)]),n=x["default"](this.tree,r);this.el=k["default"](this.el,n),this.tree=r}},{key:"objectToSVG",value:function(e,t){return this[e.type+"ToSVG"]?this[e.type+"ToSVG"](e,t):void console.error("Rune.Render: Object not recognized",e)}},{key:"objectsToSVG",value:function(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.objectToSVG(e[n],t));return s["default"](r,!0)}},{key:"rectangleToSVG",value:function(e){var t={x:this.s(e.vars.x),y:this.s(e.vars.y),width:this.s(e.vars.width),height:this.s(e.vars.height)};return this.transformAttribute(t,e),this.styleableAttributes(e,t),O["default"]("rect",t)}},{key:"ellipseToSVG",value:function(e){var t={cx:this.s(e.vars.x),cy:this.s(e.vars.y),rx:this.s(e.vars.width/2),ry:this.s(e.vars.height/2)};return this.transformAttribute(t,e),this.styleableAttributes(e,t),O["default"]("ellipse",t)}},{key:"circleToSVG",value:function(e){var t={cx:this.s(e.vars.x),cy:this.s(e.vars.y),r:this.s(e.vars.radius)};return this.transformAttribute(t,e),this.styleableAttributes(e,t),O["default"]("circle",t)}},{key:"lineToSVG",value:function(e){var t={x1:this.s(e.vars.x),y1:this.s(e.vars.y),x2:this.s(e.vars.x2),y2:this.s(e.vars.y2)};return this.transformAttribute(t,e),this.styleableAttributes(e,t),O["default"]("line",t)}},{key:"triangleToSVG",value:function(e){var t={points:"0 0 "+e.vars.x2+" "+e.vars.y2+" "+e.vars.x3+" "+e.vars.y3};return this.transformAttribute(t,e),this.styleableAttributes(e,t),O["default"]("polygon",t)}},{key:"polygonToSVG",value:function(e){var t={points:f["default"](e.vars.vectors,function(e){return e.x+" "+e.y}).join(" ")};return this.transformAttribute(t,e),this.styleableAttributes(e,t),O["default"]("polygon",t)}},{key:"pathToSVG",value:function(e,t){var r={};this.dAttribute(e,r),this.transformAttribute(r,e),this.styleableAttributes(e,r),this.optionalAttributes(e,r,{fillRule:"fill-rule"});var n=[O["default"]("path",r)];return t&&t.debug&&(n=n.concat(this.debugPathToSVG(e))),n}},{key:"textToSVG",value:function(e,t){var r={x:this.s(e.vars.x),y:this.s(e.vars.y)};if(this.transformAttribute(r,e),this.styleableAttributes(e,r),e.vars.textAlign){var n={left:"start",center:"middle",right:"end"};r["text-anchor"]=n[e.vars.textAlign]}if(this.optionalAttributes(e,r,{fontFamily:"font-family",textAlign:"text-align",fontStyle:"font-style",fontWeight:"font-weight",fontSize:"font-size",letterSpacing:"letter-spacing",textDecoration:"text-decoration"}),e.vars.textAlign){var n={left:"start",center:"middle",right:"end"};r["text-anchor"]=n[e.vars.textAlign]}return O["default"]("text",r,e.vars.text)}},{key:"groupToSVG",value:function(e){if(e.children&&0!=e.children.length){var t={};return this.transformAttribute(t,e),O["default"]("g",t,this.objectsToSVG(e.children))}}},{key:"gridToSVG",value:function(e,t){var r={};this.transformAttribute(r,e);var n=this.objectsToSVG(e.modules);return t&&t.debug&&(n=n.concat(this.debugGridToSVG(e))),O["default"]("g",r,s["default"](n,!0))}},{key:"optionalAttributes",value:function(e,t,r){u["default"](r,function(r,n){e.vars[n]&&(t[r]=this.s(e.vars[n]))},this)}},{key:"sizeableAttributes",value:function(e,t){t.width=this.s(e.vars.width),t.height=this.s(e.vars.height)}},{key:"styleableAttributes",value:function(e,t){function r(e){var t=e.rgb();return"rgb("+t.r+", "+t.g+", "+t.b+")"}if(e.vars.fill===!1)t.fill="none";else if(e.vars.fill){t.fill=r(e.vars.fill);var n=e.vars.fill.alpha();1>n&&(t["fill-opacity"]=this.s(n))}if(e.vars.stroke===!1)t.stroke="none";else if(e.vars.stroke){t.stroke=r(e.vars.stroke);var n=e.vars.stroke.alpha();1>n&&(t["stroke-opacity"]=this.s(n))}e.vars.strokeWidth&&(t["stroke-width"]=this.s(e.vars.strokeWidth)),e.vars.strokeCap&&(t["stroke-linecap"]=e.vars.strokeCap),e.vars.strokeJoin&&(t["stroke-linejoin"]=e.vars.strokeJoin),e.vars.strokeMiterlimit&&(t["stroke-miterlimit"]=this.s(e.vars.strokeMiterlimit)),e.vars.strokeDash&&(t["stroke-dasharray"]=e.vars.strokeDash),e.vars.strokeDashOffset&&(t["stroke-dashoffset"]=this.s(e.vars.strokeDashOffset))}},{key:"transformAttribute",value:function(e,t){var r=t.vars,n=[];if(r.rotation){var i="rotate("+r.rotation;(r.rotationX||r.rotationY)&&(i+=" "+r.rotationX+" "+r.rotationY),n.push(i+")")}"group"!=t.type&&"path"!=t.type&&"polygon"!=t.type&&"grid"!=t.type&&"triangle"!=t.type||!r.x&&!r.y||n.push("translate("+r.x+" "+r.y+")"),n.length>0&&(e.transform=n.join(" ").trim())}},{key:"dAttribute",value:function(e,t){t.d=f["default"](e.vars.anchors,function(e){return"move"==e.command?(e.relative?"m":"M")+" "+[e.vec1.x,e.vec1.y].join(" "):"line"==e.command?(e.relative?"l":"L")+" "+[e.vec1.x,e.vec1.y].join(" "):"cubic"==e.command?(e.relative?"c":"C")+" "+[e.vec1.x,e.vec1.y,e.vec2.x,e.vec2.y,e.vec3.x,e.vec3.y].join(" "):"quad"==e.command&&"undefined"!=typeof e.vec2?(e.relative?"q":"Q")+" "+[e.vec1.x,e.vec1.y,e.vec2.x,e.vec2.y].join(" "):"quad"==e.command?(e.relative?"t":"T")+" "+[e.vec1.x,e.vec1.y].join(" "):"close"==e.command?"Z":void 0}).join(" ").trim()}},{key:"debugPathToSVG",value:function(e){var t=this,r=[];return u["default"](e.vars.anchors,function(n,i){if("cubic"==n.command){r.push(t.debugLine(e.vars.x+n.vec1.x,e.vars.y+n.vec1.y,e.vars.x+n.vec3.x,e.vars.y+n.vec3.y)),r.push(t.debugLine(e.vars.x+n.vec2.x,e.vars.y+n.vec2.y,e.vars.x+n.vec3.x,e.vars.y+n.vec3.y));for(var i=1;4>i;i++)r.push(t.debugCircle(e.vars.x+n["vec"+i].x,e.vars.y+n["vec"+i].y))}else if("quad"==n.command&&"undefined"!=typeof n.vec2){r.push(t.debugLine(e.vars.x+n.vec1.x,e.vars.y+n.vec1.y,e.vars.x+n.vec2.x,e.vars.y+n.vec2.y));for(var i=1;3>i;i++)r.push(t.debugCircle(e.vars.x+n["vec"+i].x,e.vars.y+n["vec"+i].y))}}),r}},{key:"debugGridToSVG",value:function(e){var t=[];t.push(this.debugRect(0,0,e.vars.width,e.vars.height));for(var r=0,n=0;n<e.vars.columns-1;n++)r+=e.vars.moduleWidth,t.push(this.debugLine(r,0,r,e.vars.height)),r+=e.vars.gutterWidth,t.push(this.debugLine(r,0,r,e.vars.height));for(var i=0,n=0;n<e.vars.rows-1;n++)i+=e.vars.moduleHeight,t.push(this.debugLine(0,i,e.vars.width,i)),i+=e.vars.gutterHeight,t.push(this.debugLine(0,i,e.vars.width,i));return t}},{key:"debugCircle",value:function(e,t){var r=new d["default"](e,t,4).fill(212,18,229).stroke(!1);return this.circleToSVG(r)}},{key:"debugRect",value:function(e,t,r,n){var i=new v["default"](e,t,r,n).stroke(212,18,229).fill(!1);return this.rectangleToSVG(i)}},{key:"debugLine",value:function(e,t,r,n){var i=new m["default"](e,t,r,n).stroke(212,18,229);return this.lineToSVG(i)}},{key:"s",value:function(e){return"string"!=typeof e&&"undefined"!=typeof e.toString?e.toString():e}}]),e}();r["default"]=M},{"./shapes/circle":122,"./shapes/line":124,"./shapes/rectangle":127,"lodash/array/flatten":4,"lodash/collection/each":7,"lodash/collection/map":9,"virtual-dom/create-element":77,"virtual-dom/diff":78,"virtual-dom/h":79,"virtual-dom/patch":87,"virtual-dom/virtual-hyperscript/svg":100}],121:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("lodash/object/defaults"),s=n(o),l=e("lodash/object/assign"),u=n(l),c=e("./vector"),f=n(c),h=e("./anchor"),d=n(h),p=e("./color"),v=n(p),g=e("./group"),m=n(g),y=e("./grid"),b=n(y),x=e("./utils"),w=n(x),k=e("./events"),S=n(k),C=e("./render"),T=n(C),O=e("./shapes/circle"),M=n(O),A=e("./shapes/ellipse"),L=n(A),E=e("./shapes/line"),U=n(E),N=e("./shapes/triangle"),I=n(N),R=e("./shapes/path"),P=n(R),D=e("./shapes/polygon"),j=n(D),B=e("./shapes/rectangle"),H=n(B),W=e("./shapes/text"),F=n(W),_=e("./mixins"),z=function(){function e(t){i(this,e);var r=s["default"](t||{},{width:640,height:480,debug:!1,frameRate:60});this.width=r.width,this.height=r.height,this.renderer=new T["default"](r),this.stage=new m["default"],this.debug=r.debug,this.frameCount=1,this.frameRate=r.frameRate,r.container&&"undefined"!=typeof window&&("string"==typeof r.container&&(r.container=document.querySelector(r.container)),r.container?this.appendTo(r.container):console.error("Container element not found")),this.initEvents()}return a(e,[{key:"initEvents",value:function(){"undefined"!=typeof window&&this.initMouseMove()}},{key:"initMouseMove",value:function(){var e=this,t=function(t){var r=e.renderer.el.getBoundingClientRect();e.trigger("mousemove",{x:t.pageX-r.left,y:t.pageY-r.top})};document.addEventListener("mousemove",t,!1)}},{key:"group",value:function(e,t,r){var n=new m["default"](e,t);return w["default"].groupLogic(n,this.stage,r),n}},{key:"triangle",value:function(e,t,r,n,i,a,o){var s=new I["default"](e,t,r,n,i,a);return w["default"].groupLogic(s,this.stage,o),s}},{key:"rect",value:function(e,t,r,n,i){var a=new H["default"](e,t,r,n);return w["default"].groupLogic(a,this.stage,i),a}},{key:"ellipse",value:function(e,t,r,n,i){var a=new L["default"](e,t,r,n);return w["default"].groupLogic(a,this.stage,i),a}},{key:"circle",value:function(e,t,r,n){var i=new M["default"](e,t,r);return w["default"].groupLogic(i,this.stage,n),i}},{key:"line",value:function(e,t,r,n,i){var a=new U["default"](e,t,r,n);return w["default"].groupLogic(a,this.stage,i),a}},{key:"polygon",value:function(e,t,r){var n=new j["default"](e,t);return w["default"].groupLogic(n,this.stage,r),n}},{key:"path",value:function(e,t,r){var n=new P["default"](e,t);return w["default"].groupLogic(n,this.stage,r),n}},{key:"text",value:function(e,t,r,n){var i=new F["default"](e,t,r);return w["default"].groupLogic(i,this.stage,n),i}},{key:"grid",value:function(e,t){var r=new b["default"](e);return w["default"].groupLogic(r,this.stage,t),r}},{key:"play",value:function(){if(this.pauseNext)return void(this.pauseNext=!1);if(this.frameRate>=60)this.playNow();else{var e=this;setTimeout(function(){e.playNow()},1e3/this.frameRate)}}},{key:"playNow",value:function(){var e=this;this.trigger("draw",{frameCount:this.frameCount}),this.animationFrame=requestAnimationFrame(function(){e.play()}),this.draw()}},{key:"pause",value:function(){this.pauseNext=!0}},{key:"getEl",value:function(){return this.renderer.el}},{key:"appendTo",value:function(e){return e.appendChild(this.renderer.el),this}},{key:"draw",value:function(){this.renderer.render(this.stage,{debug:this.debug}),this.frameCount+=1}}]),e}();u["default"](z,w["default"]),u["default"](z.prototype,S["default"]),z.Vector=f["default"],z.Anchor=d["default"],z.Color=v["default"],z.Group=m["default"],z.Grid=b["default"],z.Circle=M["default"],z.Ellipse=L["default"],z.Line=U["default"],z.Triangle=I["default"],z.Path=P["default"],z.Polygon=j["default"],z.Rectangle=H["default"],z.Text=F["default"],z.Moveable=_.Moveable,z.Styleable=_.Styleable,z.Sizeable=_.Sizeable,t.exports=z},{"./anchor":113,"./color":115,"./events":116,"./grid":117,"./group":118,"./mixins":119,"./render":120,"./shapes/circle":122,"./shapes/ellipse":123,"./shapes/line":124,"./shapes/path":125,"./shapes/polygon":126,"./shapes/rectangle":127,"./shapes/text":128,"./shapes/triangle":129,"./utils":130,"./vector":131,"lodash/object/assign":70,"lodash/object/defaults":71}],122:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("lodash/object/assign"),s=n(o),l=e("../mixins"),u=e("./ellipse"),c=n(u),f=e("../utils"),h=n(f),d=function(){function e(t,r,n){i(this,e),this.moveable(),this.styleable(),this.vars.x=t,this.vars.y=r,this.vars.radius=n}return a(e,[{key:"toPolygon",value:function(e,t){var r=new c["default"](this.vars.x,this.vars.y,2*this.vars.radius,2*this.vars.radius),n=r.toPolygon(e,!1);return h["default"].copyMixinVars(this,n),h["default"].groupLogic(n,this.parent,t),n}},{key:"scale",value:function(e){return this.vars.radius*=e,this}},{key:"copy",value:function t(r){var t=new e;return t.vars.radius=this.vars.radius,h["default"].copyMixinVars(this,t),h["default"].groupLogic(t,this.parent,r),t}}]),e}();s["default"](d.prototype,l.Moveable,l.Styleable,{type:"circle"}),r["default"]=d},{"../mixins":119,"../utils":130,"./ellipse":123,"lodash/object/assign":70}],123:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("lodash/object/assign"),s=n(o),l=e("../mixins"),u=e("./polygon"),c=n(u),f=e("../utils"),h=n(f),d=function(){function e(t,r,n,a){i(this,e),this.moveable(),this.sizeable(),this.styleable(),this.vars.x=t,this.vars.y=r,this.vars.width=n,this.vars.height=a}return a(e,[{key:"toPolygon",value:function(e,t){var r=16;if(e&&e.spacing){var n=Math.PI*(this.vars.width+this.vars.height);r=n/e.spacing}for(var i=360/r,a=new c["default"](this.vars.x,this.vars.y),o=0;r>o;o++){var s=Math.cos(h["default"].radians(o*i))*this.vars.width,l=Math.sin(h["default"].radians(o*i))*this.vars.height;a.lineTo(s,l)}return h["default"].copyMixinVars(this,a),h["default"].groupLogic(a,this.parent,t),a}},{key:"scale",value:function(e){return this.vars.width*=e,this.vars.height*=e,this}},{key:"copy",value:function t(r){var t=new e;return h["default"].copyMixinVars(this,t),h["default"].groupLogic(t,this.parent,r),t}}]),e}();s["default"](d.prototype,l.Moveable,l.Sizeable,l.Styleable,{type:"ellipse"}),r["default"]=d},{"../mixins":119,"../utils":130,"./polygon":126,"lodash/object/assign":70}],124:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("lodash/object/assign"),s=n(o),l=e("../mixins"),u=e("../vector"),c=n(u),f=e("../utils"),h=n(f),d=function(){function e(t,r,n,a){i(this,e),this.moveable(),this.styleable(),this.vars.x=t,this.vars.y=r,this.vars.x2=n,this.vars.y2=a}return a(e,[{key:"copy",value:function t(r){var t=new e;return t.vars.x2=this.vars.x2,t.vars.y2=this.vars.y2,h["default"].copyMixinVars(this,t),h["default"].groupLogic(t,this.parent,r),t}},{key:"scale",value:function(e){var t=new c["default"](this.vars.x,this.vars.y),r=new c["default"](this.vars.x2,this.vars.y2),n=r.sub(t).multiply(e).add(t);return this.vars.x2=n.x,this.vars.y2=n.y,this}}]),e}();s["default"](d.prototype,l.Moveable,l.Styleable,{type:"line"}),r["default"]=d},{"../mixins":119,"../utils":130,"../vector":131,"lodash/object/assign":70}],125:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("lodash/collection/each"),s=n(o),l=e("lodash/collection/map"),u=n(l),c=e("lodash/object/assign"),f=n(c),h=e("../mixins"),d=e("../anchor"),p=n(d),v=e("../vector"),g=n(v),m=e("./polygon"),y=n(m),b=e("../utils"),x=n(b),w=function(){function e(t,r){i(this,e),this.moveable(),this.styleable(),this.vars.anchors=[],"undefined"!=typeof t&&(this.vars.x=t),"undefined"!=typeof r&&(this.vars.y=r)}return a(e,[{key:"moveTo",value:function(e,t){return this.vars.anchors.push((new p["default"]).setMove(e,t)),this}},{key:"lineTo",value:function(e,t){return this.checkStartMove(),this.vars.anchors.push((new p["default"]).setLine(e,t)),this}},{key:"curveTo",value:function(e,t,r,n,i,a){return this.checkStartMove(),this.vars.anchors.push((new p["default"]).setCurve(e,t,r,n,i,a)),this}},{key:"closePath",value:function(){return this.checkStartMove(),this.vars.anchors.push((new p["default"]).setClose()),this}},{key:"startVector",value:function(){return this.vars.anchors[0]&&"move"==this.vars.anchors[0].command?this.vars.anchors[0].vec1.copy():new g["default"](0,0)}},{key:"subpaths",value:function(e){var t=[],r=0;return s["default"](this.vars.anchors,function(n,i){var a="move"==n.command,o=this.vars.anchors[i-1]&&"close"==this.vars.anchors[i-1].command,s=i==this.vars.anchors.length-1;if(i>r&&(a||o||s)){s&&i++;var l=this.copy(e);l.vars.anchors=l.vars.anchors.slice(r,i),t.push(l),r=i}},this),t}},{key:"length",value:function(){for(var e=0,t=this.subpaths(!1),r=0;r<t.length;r++)for(var n=t[r].vars.anchors,i=0;i<n.length-1;i++){var a=n[i],o=a.vec3||a.vec2||a.vec1,s=n[i+1];"close"==s.command&&(s=t[r].startVector());var l=s.sub(o);e+=l.length()}return e}},{key:"vectorAtLength",value:function(e){for(var t=0,r=this.subpaths(!1),n=0;n<r.length;n++)for(var i=r[n].vars.anchors,a=0;a<i.length-1;a++){var o=i[a],s=o.vec3||o.vec2||o.vec1,l=i[a+1];if("close"==l.command){var u=r[n].startVector();l=(new p["default"]).setLine(u.x,u.y)}var c=l.sub(s),f=c.length();if(t+f>e){var h=e-t;return s.add(c.vectorAt(h/f))}t+=f}return this.startVector()}},{key:"vectorAt",value:function(e){return this.vectorAtLength(this.length()*e)}},{key:"toPolygons",value:function(e,t){var r=this.subpaths(!1),n=[];return e&&e.spacing&&s["default"](r,function(r){for(var i=new y["default"](r.vars.x,r.vars.y),a=r.length(),o=a/e.spacing,s=0;o>s;s++){var l=r.vectorAtLength(s*e.spacing);i.lineTo(l.x,l.y)}x["default"].copyMixinVars(this,i),x["default"].groupLogic(i,this.parent,t),n.push(i)},this),n}},{key:"copy",value:function t(r){var t=new e;return t.vars.anchors=u["default"](this.vars.anchors,function(e){return e.copy()}),x["default"].copyMixinVars(this,t),x["default"].groupLogic(t,this.parent,r),t}},{key:"scale",value:function(e){return this.vars.anchors=u["default"](this.vars.anchors,function(t){return t.multiply(e)}),this}},{key:"fillRule",value:function(e){return this.vars.fillRule=e,this}},{key:"checkStartMove",value:function(){0==this.vars.anchors.length&&this.moveTo(0,0)}}]),e}();f["default"](w.prototype,h.Moveable,h.Styleable,{type:"path"}),r["default"]=w},{"../anchor":113,"../mixins":119,"../utils":130,"../vector":131,"./polygon":126,"lodash/collection/each":7,"lodash/collection/map":9,"lodash/object/assign":70}],126:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("lodash/object/assign"),s=n(o),l=e("lodash/collection/each"),u=n(l),c=e("lodash/collection/map"),f=n(c),h=e("lodash/array/flatten"),d=n(h),p=e("../mixins"),v=e("../vector"),g=n(v),m=e("../utils"),y=n(m),b=function(){function e(t,r){i(this,e),this.moveable(),this.styleable(),this.vars.vectors=[],"undefined"!=typeof t&&(this.vars.x=t),"undefined"!=typeof r&&(this.vars.y=r)}return a(e,[{key:"lineTo",value:function(e,t){return this.vars.vectors.push(new g["default"](e,t)),this}},{key:"length",value:function(){for(var e=0,t=0;t<this.vars.vectors.length;t++){var r=this.vars.vectors[t],n=this.vars.vectors[(t+1)%this.vars.vectors.length];e+=n.sub(r).length()}return e}},{key:"vectorAtLength",value:function(e){for(var t=0,r=0;r<this.vars.vectors.length;r++){var n=this.vars.vectors[r],i=this.vars.vectors[(r+1)%this.vars.vectors.length],a=i.sub(n),o=a.length();if(t+o>e){var s=e-t;return n.add(a.normalize().multiply(s))}t+=o}return this.vars.vectors[0].copy()}},{key:"vectorAt",value:function(e){return this.vectorAtLength(this.length()*e)}},{key:"bounds",value:function(){var e=void 0,t=void 0,r=void 0,n=void 0;return u["default"](this.vars.vectors,function(i){("undefined"==typeof r||i.x<r)&&(r=i.x),("undefined"==typeof e||i.x>e)&&(e=i.x),("undefined"==typeof n||i.y<n)&&(n=i.y),("undefined"==typeof t||i.y>t)&&(t=i.y)}),{x:r,y:n,width:e-r,height:t-n}}},{key:"centroid",value:function(){for(var e=this.vars.vectors,t=0,r=0,n=0,i=0;i<e.length-1;i++)t+=e[i].x*e[i+1].y-e[i+1].x*e[i].y,r+=(e[i].x+e[i+1].x)*(e[i].x*e[i+1].y-e[i+1].x*e[i].y),n+=(e[i].y+e[i+1].y)*(e[i].x*e[i+1].y-e[i+1].x*e[i].y);t/=2;var a=r/(6*t),o=n/(6*t);return new g["default"](a,o)}},{key:"toPolygon",value:function(t,r){if(t&&t.spacing){for(var n=new e(this.vars.x,this.vars.y),i=this.length(),a=i/t.spacing,o=0;a>o;o++){var s=this.vectorAtLength(o*t.spacing);n.lineTo(s.x,s.y)}return y["default"].copyMixinVars(this,n),y["default"].groupLogic(n,this.parent,r),n}return this}},{key:"copy",value:function t(r){var t=new e;return t.vars.vectors=f["default"](this.vars.vectors,function(e){return e.copy()}),y["default"].copyMixinVars(this,t),y["default"].groupLogic(t,this.parent,r),t}},{key:"contains",value:function(e,t){for(var r,n,i=this.stagepos(),a=d["default"](f["default"](this.vars.vectors,function(e){return[i.x+e.x,i.y+e.y]},this)),o=a.length>>1,s=a[2*o-3]-t,l=a[2*o-2]-e,u=a[2*o-1]-t,c=0;o>c;c++)r=l,s=u,l=a[2*c]-e,u=a[2*c+1]-t,s!=u&&(n=u>s);for(var h=0,c=0;o>c;c++)if(r=l,s=u,l=a[2*c]-e,u=a[2*c+1]-t,!(0>s&&0>u||s>0&&u>0||0>r&&0>l)){if(s==u&&Math.min(r,l)<=0)return!0;if(s!=u){var p=r+(l-r)*-s/(u-s);if(0==p)return!0;p>0&&h++,0==s&&n&&u>s&&h--,0==s&&!n&&s>u&&h--,n=u>s}}return 1==(1&h)}},{key:"scale",value:function(e){return this.vars.vectors=f["default"](this.vars.vectors,function(t){return t.multiply(e)}),this}}]),e}();s["default"](b.prototype,p.Moveable,p.Styleable,{type:"polygon"}),r["default"]=b},{"../mixins":119,"../utils":130,"../vector":131,"lodash/array/flatten":4,"lodash/collection/each":7,"lodash/collection/map":9,"lodash/object/assign":70}],127:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("lodash/object/assign"),s=n(o),l=e("../mixins"),u=e("./polygon"),c=n(u),f=e("../utils"),h=n(f),d=function(){function e(t,r,n,a){i(this,e),this.moveable(),this.sizeable(),this.styleable(),this.vars.x=t,this.vars.y=r,this.vars.width=n,this.vars.height=a}return a(e,[{key:"toPolygon",value:function(e,t){var r=new c["default"](this.vars.x,this.vars.y).lineTo(0,0).lineTo(this.vars.width,0).lineTo(this.vars.width,this.vars.height).lineTo(0,this.vars.height);return e&&(r=r.toPolygon(e,!1)),h["default"].copyMixinVars(this,r),h["default"].groupLogic(r,this.parent,t),r}},{key:"copy",value:function t(r){var t=new e;return h["default"].copyMixinVars(this,t),h["default"].groupLogic(t,this.parent,r),t}},{key:"scale",value:function(e){return this.vars.width*=e,this.vars.height*=e,this}}]),e}();s["default"](d.prototype,l.Moveable,l.Sizeable,l.Styleable,{type:"rectangle"}),r["default"]=d},{"../mixins":119,"../utils":130,"./polygon":126,"lodash/object/assign":70}],128:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("lodash/object/assign"),s=n(o),l=e("../mixins"),u=e("../utils"),c=n(u),f=function(){function e(t,r,n){i(this,e),this.moveable(),this.styleable(),this.vars.text=t,this.vars.x=r,this.vars.y=n,this.vars.fontSize=16}return a(e,[{key:"toPolygon",value:function(){throw new Error("You need the Rune.Font plugin to convert text to polygon")}},{key:"textAlign",value:function(e){return this.vars.textAlign=e,this}},{key:"fontFamily",value:function(e){return this.vars.fontFamily=e,this}},{key:"fontStyle",value:function(e){return this.vars.fontStyle=e,this}},{key:"fontWeight",value:function(e){return this.vars.fontWeight=e,this}},{key:"fontSize",value:function(e){return this.vars.fontSize=e,this}},{key:"letterSpacing",value:function(e){return this.vars.letterSpacing=e,this}},{key:"textDecoration",value:function(e){return this.vars.textDecoration=e,this}},{key:"copy",value:function t(r){var t=new e;return t.vars.text=this.vars.text,t.vars.textAlign=this.vars.textAlign,t.vars.fontFamily=this.vars.fontFamily,t.vars.fontStyle=this.vars.fontStyle,t.vars.fontWeight=this.vars.fontWeight,t.vars.fontSize=this.vars.fontSize,t.vars.letterSpacing=this.vars.letterSpacing,t.vars.textDecoration=this.vars.textDecoration,c["default"].copyMixinVars(this,t),c["default"].groupLogic(t,this.parent,r),t}},{key:"scale",value:function(e){return this.vars.fontSize*=e,this}}]),e}();s["default"](f.prototype,l.Moveable,l.Styleable,{type:"text"}),r["default"]=f},{"../mixins":119,"../utils":130,"lodash/object/assign":70}],129:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){
for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("lodash/object/assign"),s=n(o),l=e("../mixins"),u=e("../utils"),c=n(u),f=function(){function e(t,r,n,a,o,s){i(this,e),this.moveable(),this.styleable(),this.vars.x=t,this.vars.y=r,this.vars.x2=n-t,this.vars.y2=a-r,this.vars.x3=o-t,this.vars.y3=s-r}return a(e,[{key:"copy",value:function t(r){var t=new e;return t.vars.x2=this.vars.x2,t.vars.y2=this.vars.y2,t.vars.x3=this.vars.x3,t.vars.y3=this.vars.y3,c["default"].copyMixinVars(this,t),c["default"].groupLogic(t,this.parent,r),t}},{key:"scale",value:function(e){return this.vars.x2*=e,this.vars.y2*=e,this.vars.x3*=e,this.vars.y3*=e,this}}]),e}();s["default"](f.prototype,l.Moveable,l.Styleable,{type:"triangle"}),r["default"]=f},{"../mixins":119,"../utils":130,"lodash/object/assign":70}],130:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={random:function(e,t){return"undefined"==typeof t&&(t=e,e=0),e+Math.random()*(t-e)},degrees:function(e){return e*(180/Math.PI)},radians:function(e){return e*(Math.PI/180)},groupLogic:function(e,t,r){r&&"group"==r.type?r.add(e):r!==!1&&t&&"group"==t.type&&t.add(e)},copyMixinVars:function(e,t){e.moveable&&t.moveable&&t.moveable(e),e.sizeable&&t.sizeable&&t.sizeable(e),e.styleable&&t.styleable&&t.styleable(e)}};r["default"]=n},{}],131:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("./utils"),s=n(o),l=function(){function e(t,r){i(this,e),this.x=t||0,this.y=r||0}return a(e,[{key:"set",value:function(e,t){this.x=e,this.y=t}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"sub",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"multiply",value:function(t){return new e(this.x*t,this.y*t)}},{key:"divide",value:function(t){var r=new e(0,0);return t&&(r.x=this.x/t,r.y=this.y/t),r}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r}},{key:"lerp",value:function(t,r){var n=(t.x-this.x)*r+this.x,i=(t.y-this.y)*r+this.y;return new e(n,i)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"length",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"lengthSquared",value:function(){return this.x*this.x+this.y*this.y}},{key:"normalize",value:function(){return this.divide(this.length())}},{key:"rotation",value:function(){return s["default"].degrees(Math.atan2(this.y,this.x))}},{key:"rotate",value:function(t){var r=s["default"].radians(this.rotation()+t),n=this.length(),i=Math.cos(r)*n,a=Math.sin(r)*n;return new e(i,a)}},{key:"copy",value:function(){return new e(this.x,this.y)}},{key:"toString",value:function(){return"(x: "+this.x+", y: "+this.y+")"}}]),e}();r["default"]=l},{"./utils":130}]},{},[121])(121)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.Rune||(t.Rune={})).Font=e()}}(function(){return function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){},{}],2:[function(e,t,r){function n(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new n,this.dtree=new n}function a(e,t,r,n){var i,a;for(i=0;r>i;++i)e[i]=0;for(i=0;30-r>i;++i)e[i+r]=i/r|0;for(a=n,i=0;30>i;++i)t[i]=a,a+=1<<e[i]}function o(e,t){var r;for(r=0;7>r;++r)e.table[r]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,r=0;24>r;++r)e.trans[r]=256+r;for(r=0;144>r;++r)e.trans[24+r]=r;for(r=0;8>r;++r)e.trans[168+r]=280+r;for(r=0;112>r;++r)e.trans[176+r]=144+r;for(r=0;5>r;++r)t.table[r]=0;for(t.table[5]=32,r=0;32>r;++r)t.trans[r]=r}function s(e,t,r,n){var i,a;for(i=0;16>i;++i)e.table[i]=0;for(i=0;n>i;++i)e.table[t[r+i]]++;for(e.table[0]=0,a=0,i=0;16>i;++i)O[i]=a,a+=e.table[i];for(i=0;n>i;++i)t[r+i]&&(e.trans[O[t[r+i]]++]=i)}function l(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function u(e,t,r){if(!t)return r;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,n+r}function c(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=0,n=0,i=0,a=e.tag;do n=2*n+(1&a),a>>>=1,++i,r+=t.table[i],n-=t.table[i];while(n>=0);return e.tag=a,e.bitcount-=i,t.trans[r+n]}function f(e,t,r){var n,i,a,o,l,f;for(n=u(e,5,257),i=u(e,5,1),a=u(e,4,4),o=0;19>o;++o)T[o]=0;for(o=0;a>o;++o){var h=u(e,3,0);T[S[o]]=h}for(s(C,T,0,19),l=0;n+i>l;){var d=c(e,C);switch(d){case 16:var p=T[l-1];for(f=u(e,2,3);f;--f)T[l++]=p;break;case 17:for(f=u(e,3,3);f;--f)T[l++]=0;break;case 18:for(f=u(e,7,11);f;--f)T[l++]=0;break;default:T[l++]=d}}s(t,T,0,n),s(r,T,n,i)}function h(e,t,r){for(;;){var n=c(e,t);if(256===n)return v;if(256>n)e.dest[e.destLen++]=n;else{var i,a,o,s;for(n-=257,i=u(e,b[n],x[n]),a=c(e,r),o=e.destLen-u(e,w[a],k[a]),s=o;o+i>s;++s)e.dest[e.destLen++]=e.dest[s]}}}function d(e){for(var t,r,n;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(t=e.source[e.sourceIndex+1],t=256*t+e.source[e.sourceIndex],r=e.source[e.sourceIndex+3],r=256*r+e.source[e.sourceIndex+2],t!==(65535&~r))return g;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,v}function p(e,t){var r,n,a=new i(e,t);do{switch(r=l(a),btype=u(a,2,0),btype){case 0:n=d(a);break;case 1:n=h(a,m,y);break;case 2:f(a,a.ltree,a.dtree),n=h(a,a.ltree,a.dtree);break;default:n=g}if(n!==v)throw new Error("Data error")}while(!r);return a.destLen<a.dest.length?"function"==typeof a.dest.slice?a.dest.slice(0,a.destLen):a.dest.subarray(0,a.destLen):a.dest}var v=0,g=-3,m=new n,y=new n,b=new Uint8Array(30),x=new Uint16Array(30),w=new Uint8Array(30),k=new Uint16Array(30),S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C=new n,T=new Uint8Array(320),O=new Uint16Array(16);o(m,y),a(b,x,4,3),a(w,k,2,1),b[28]=0,x[28]=258,t.exports=p},{}],3:[function(e,t,r){"use strict";r.argument=function(e,t){if(!e)throw new Error(t)},r.assert=r.argument},{}],4:[function(e,t,r){"use strict";function n(e,t,r,n,i){e.beginPath(),e.moveTo(t,r),e.lineTo(n,i),e.stroke()}r.line=n},{}],5:[function(e,t,r){"use strict";function n(e){this.font=e}function i(e){this.cmap=e}function a(e,t){this.encoding=e,this.charset=t}function o(e){var t;switch(e.version){case 1:this.names=r.standardNames.slice();break;case 2:for(this.names=new Array(e.numberOfGlyphs),t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<r.standardNames.length?this.names[t]=r.standardNames[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-r.standardNames.length];break;case 2.5:for(this.names=new Array(e.numberOfGlyphs),t=0;t<e.numberOfGlyphs;t++)this.names[t]=r.standardNames[t+e.glyphNameIndex[t]];break;case 3:this.names=[]}}function s(e){for(var t,r=e.tables.cmap.glyphIndexMap,n=Object.keys(r),i=0;i<n.length;i+=1){var a=n[i],o=r[a];t=e.glyphs.get(o),t.addUnicode(parseInt(a))}for(i=0;i<e.glyphs.length;i+=1)t=e.glyphs.get(i),e.cffEncoding?t.name=e.cffEncoding.charset[i]:t.name=e.glyphNames.glyphIndexToName(i)}var l=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],u=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],f=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];n.prototype.charToGlyphIndex=function(e){var t=e.charCodeAt(0),r=this.font.glyphs;if(!r)return null;for(var n=0;n<r.length;n+=1)for(var i=r.get(n),a=0;a<i.unicodes.length;a+=1)if(i.unicodes[a]===t)return n},i.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.charCodeAt(0)]||0},a.prototype.charToGlyphIndex=function(e){var t=e.charCodeAt(0),r=this.encoding[t];return this.charset.indexOf(r)},o.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},o.prototype.glyphIndexToName=function(e){return this.names[e]},r.cffStandardStrings=l,r.cffStandardEncoding=u,r.cffExpertEncoding=c,r.standardNames=f,r.DefaultEncoding=n,r.CmapEncoding=i,r.CffEncoding=a,r.GlyphNames=o,r.addGlyphNames=s},{}],6:[function(e,t,r){"use strict";function n(e){e=e||{},this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.supported=!0,this.glyphs=new s.GlyphSet(this,e.glyphs||[]),this.encoding=new o.DefaultEncoding(this),this.tables={}}var i=e("./path"),a=e("./tables/sfnt"),o=e("./encoding"),s=e("./glyphset");n.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},n.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},n.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r},n.prototype.stringToGlyphs=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e[r];t.push(this.charToGlyph(n))}return t},n.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},n.prototype.nameToGlyph=function(e){var t=this.nametoGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r},n.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},n.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.getGposKerningValue;return r?r(e,t):this.kerningPairs[e+","+t]||0},n.prototype.forEachGlyph=function(e,t,r,n,i,a){t=void 0!==t?t:0,r=void 0!==r?r:0,n=void 0!==n?n:72,i=i||{};for(var o=void 0===i.kerning?!0:i.kerning,s=1/this.unitsPerEm*n,l=this.stringToGlyphs(e),u=0;u<l.length;u+=1){var c=l[u];if(a(c,t,r,n,i),c.advanceWidth&&(t+=c.advanceWidth*s),o&&u<l.length-1){var f=this.getKerningValue(c,l[u+1]);t+=f*s}}},n.prototype.getPath=function(e,t,r,n,a){var o=new i.Path;return this.forEachGlyph(e,t,r,n,a,function(e,t,r,n){var i=e.getPath(t,r,n);o.extend(i)}),o},n.prototype.draw=function(e,t,r,n,i,a){this.getPath(t,r,n,i,a).draw(e)},n.prototype.drawPoints=function(e,t,r,n,i,a){this.forEachGlyph(t,r,n,i,a,function(t,r,n,i){t.drawPoints(e,r,n,i)})},n.prototype.drawMetrics=function(e,t,r,n,i,a){this.forEachGlyph(t,r,n,i,a,function(t,r,n,i){t.drawMetrics(e,r,n,i)})},n.prototype.getEnglishName=function(e){var t=this.names[e];return t?t.en:void 0},n.prototype.validate=function(){function e(e,t){e||r.push(t)}function t(t){var r=n.getEnglishName(t);e(r&&r.trim().length>0,"No English "+t+" specified.")}var r=[],n=this;t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),e(this.unitsPerEm>0,"No unitsPerEm specified.")},n.prototype.toTables=function(){return a.fontToTable(this)},n.prototype.toBuffer=function(){for(var e=this.toTables(),t=e.encode(),r=new ArrayBuffer(t.length),n=new Uint8Array(r),i=0;i<t.length;i++)n[i]=t[i];return r},n.prototype.download=function(){var e=this.getEnglishName("fontFamily"),t=this.getEnglishName("fontSubfamily"),r=e.replace(/\s/g,"")+"-"+t+".otf",n=this.toBuffer();window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,n.byteLength,function(e){e.root.getFile(r,{create:!0},function(e){e.createWriter(function(t){var r=new DataView(n),i=new Blob([r],{type:"font/opentype"});t.write(i),t.addEventListener("writeend",function(){location.href=e.toURL()},!1)})})},function(e){throw e})},r.Font=n},{"./encoding":5,"./glyphset":8,"./path":11,"./tables/sfnt":28}],7:[function(e,t,r){"use strict";function n(e,t){var r=t||{commands:[]};return{configurable:!0,get:function(){return"function"==typeof r&&(r=r()),r},set:function(e){r=e}}}function i(e){this.bindConstructorValues(e)}var a=e("./check"),o=e("./draw"),s=e("./path");i.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],e.xMin&&(this.xMin=e.xMin),e.yMin&&(this.yMin=e.yMin),e.xMax&&(this.xMax=e.xMax),e.yMax&&(this.yMax=e.yMax),e.advanceWidth&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",n(this,e.path))},i.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},i.prototype.getPath=function(e,t,r){e=void 0!==e?e:0,t=void 0!==t?t:0,r=void 0!==r?r:72;for(var n=1/this.path.unitsPerEm*r,i=new s.Path,a=this.path.commands,o=0;o<a.length;o+=1){var l=a[o];"M"===l.type?i.moveTo(e+l.x*n,t+-l.y*n):"L"===l.type?i.lineTo(e+l.x*n,t+-l.y*n):"Q"===l.type?i.quadraticCurveTo(e+l.x1*n,t+-l.y1*n,e+l.x*n,t+-l.y*n):"C"===l.type?i.curveTo(e+l.x1*n,t+-l.y1*n,e+l.x2*n,t+-l.y2*n,e+l.x*n,t+-l.y*n):"Z"===l.type&&i.closePath()}return i},i.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var n=this.points[r];t.push(n),n.lastPointOfContour&&(e.push(t),t=[])}return a.argument(0===t.length,"There are still points left in the current contour."),e},i.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],n=0;n<e.length;n+=1){var i=e[n];"Z"!==i.type&&(t.push(i.x),r.push(i.y)),("Q"===i.type||"C"===i.type)&&(t.push(i.x1),r.push(i.y1)),"C"===i.type&&(t.push(i.x2),r.push(i.y2))}var a={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:0};return isFinite(a.xMin)||(a.xMin=0),isFinite(a.xMax)||(a.xMax=this.advanceWidth),isFinite(a.yMin)||(a.yMin=0),isFinite(a.yMax)||(a.yMax=0),a.rightSideBearing=this.advanceWidth-a.leftSideBearing-(a.xMax-a.xMin),a},i.prototype.draw=function(e,t,r,n){this.getPath(t,r,n).draw(e)},i.prototype.drawPoints=function(e,t,r,n){function i(t,r,n,i){var a=2*Math.PI;e.beginPath();for(var o=0;o<t.length;o+=1)e.moveTo(r+t[o].x*i,n+t[o].y*i),e.arc(r+t[o].x*i,n+t[o].y*i,2,0,a,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,r=void 0!==r?r:0,n=void 0!==n?n:24;for(var a=1/this.path.unitsPerEm*n,o=[],s=[],l=this.path,u=0;u<l.commands.length;u+=1){var c=l.commands[u];void 0!==c.x&&o.push({x:c.x,y:-c.y}),void 0!==c.x1&&s.push({x:c.x1,y:-c.y1}),void 0!==c.x2&&s.push({x:c.x2,y:-c.y2})}e.fillStyle="blue",i(o,t,r,a),e.fillStyle="red",i(s,t,r,a)},i.prototype.drawMetrics=function(e,t,r,n){var i;t=void 0!==t?t:0,r=void 0!==r?r:0,n=void 0!==n?n:24,i=1/this.path.unitsPerEm*n,e.lineWidth=1,e.strokeStyle="black",o.line(e,t,-1e4,t,1e4),o.line(e,-1e4,r,1e4,r);var a=this.xMin||0,s=this.yMin||0,l=this.xMax||0,u=this.yMax||0,c=this.advanceWidth||0;e.strokeStyle="blue",o.line(e,t+a*i,-1e4,t+a*i,1e4),o.line(e,t+l*i,-1e4,t+l*i,1e4),o.line(e,-1e4,r+-s*i,1e4,r+-s*i),o.line(e,-1e4,r+-u*i,1e4,r+-u*i),e.strokeStyle="green",o.line(e,t+c*i,-1e4,t+c*i,1e4)},r.Glyph=i},{"./check":3,"./draw":4,"./path":11}],8:[function(e,t,r){"use strict";function n(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++)this.glyphs[r]=t[r];this.length=t&&t.length||0}function i(e,t){return new s.Glyph({index:t,font:e})}function a(e,t,r,n,i,a){return function(){var o=new s.Glyph({index:t,font:e});return o.path=function(){r(o,n,i);var t=a(e.glyphs,o);return t.unitsPerEm=e.unitsPerEm,t},o}}function o(e,t,r,n){return function(){var i=new s.Glyph({index:t,font:e});return i.path=function(){var t=r(e,i,n);return t.unitsPerEm=e.unitsPerEm,t},i}}var s=e("./glyph");n.prototype.get=function(e){return"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]()),this.glyphs[e]},n.prototype.push=function(e,t){this.glyphs[e]=t,this.length++},r.GlyphSet=n,r.glyphLoader=i,r.ttfGlyphLoader=a,r.cffGlyphLoader=o},{"./glyph":7}],9:[function(e,t,r){"use strict";function n(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n+=1)r[n]=e[n];return t}function i(t,r){var i=e("fs");i.readFile(t,function(e,t){return e?r(e.message):void r(null,n(t))})}function a(e,t){var r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="arraybuffer",r.onload=function(){return 200!==r.status?t("Font could not be loaded: "+r.statusText):t(null,r.response)},r.send()}function o(e,t){for(var r=[],n=12,i=0;t>i;i+=1){var a=g.getTag(e,n),o=g.getULong(e,n+8);r.push({tag:a,offset:o,compression:!1}),n+=16}return r}function s(e,t){for(var r=[],n=44,i=0;t>i;i+=1){var a,o=g.getTag(e,n),s=g.getULong(e,n+4),l=g.getULong(e,n+8),u=g.getULong(e,n+12);a=u>l?"WOFF":!1,r.push({tag:o,offset:s,compression:a,compressedLength:l,originalLength:u}),n+=20}return r}function l(e,t){if("WOFF"===t.compression){var r=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),n=new Uint8Array(t.originalLength);if(h(r,n),n.byteLength!==t.originalLength)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");var i=new DataView(n.buffer,0);return{data:i,offset:0}}return{data:e,offset:t.offset}}function u(e){var t,r,n,i=new p.Font,a=new DataView(e,0),u=[],c=g.getTag(a,0);if(c===String.fromCharCode(0,1,0,0))i.outlinesFormat="truetype",n=g.getUShort(a,4),u=o(a,n);else if("OTTO"===c)i.outlinesFormat="cff",n=g.getUShort(a,4),u=o(a,n);else{if("wOFF"!==c)throw new Error("Unsupported OpenType signature "+c);var f=g.getTag(a,4);if(f===String.fromCharCode(0,1,0,0))i.outlinesFormat="truetype";else{if("OTTO"!==f)throw new Error("Unsupported OpenType flavor "+c);i.outlinesFormat="cff"}n=g.getUShort(a,12),u=s(a,n)}for(var h,v,m,I,R,P,D,j,B=0;n>B;B+=1){var H,W=u[B];switch(W.tag){case"cmap":H=l(a,W),i.tables.cmap=y.parse(H.data,H.offset),i.encoding=new d.CmapEncoding(i.tables.cmap);break;case"fvar":v=W;break;case"head":H=l(a,W),i.tables.head=S.parse(H.data,H.offset),i.unitsPerEm=i.tables.head.unitsPerEm,t=i.tables.head.indexToLocFormat;break;case"hhea":H=l(a,W),i.tables.hhea=C.parse(H.data,H.offset),i.ascender=i.tables.hhea.ascender,i.descender=i.tables.hhea.descender,i.numberOfHMetrics=i.tables.hhea.numberOfHMetrics;break;case"hmtx":R=W;break;case"ltag":H=l(a,W),r=M.parse(H.data,H.offset);break;case"maxp":H=l(a,W),i.tables.maxp=L.parse(H.data,H.offset),i.numGlyphs=i.tables.maxp.numGlyphs;break;case"name":j=W;break;case"OS/2":H=l(a,W),i.tables.os2=U.parse(H.data,H.offset);break;case"post":H=l(a,W),i.tables.post=N.parse(H.data,H.offset),i.glyphNames=new d.GlyphNames(i.tables.post);break;case"glyf":m=W;break;case"loca":D=W;break;case"CFF ":h=W;break;case"kern":P=W;break;case"GPOS":I=W}}var F=l(a,j);if(i.tables.name=E.parse(F.data,F.offset,r),i.names=i.tables.name,m&&D){var _=0===t,z=l(a,D),G=A.parse(z.data,z.offset,i.numGlyphs,_),V=l(a,m);i.glyphs=w.parse(V.data,V.offset,G,i)}else{if(!h)throw new Error("Font doesn't contain TrueType or CFF outlines.");var q=l(a,h);b.parse(q.data,q.offset,i)}var Y=l(a,R);if(T.parse(Y.data,Y.offset,i.numberOfHMetrics,i.numGlyphs,i.glyphs),d.addGlyphNames(i),P){var X=l(a,P);i.kerningPairs=O.parse(X.data,X.offset)}else i.kerningPairs={};if(I){var K=l(a,I);k.parse(K.data,K.offset,i)}if(v){var $=l(a,v);i.tables.fvar=x.parse($.data,$.offset,i.names)}return i}function c(e,t){var r="undefined"==typeof window,n=r?i:a;n(e,function(e,r){if(e)return t(e);var n=u(r);return t(null,n)})}function f(t){var r=e("fs"),i=r.readFileSync(t);return u(n(i))}var h=e("tiny-inflate"),d=e("./encoding"),p=e("./font"),v=e("./glyph"),g=e("./parse"),m=e("./path"),y=e("./tables/cmap"),b=e("./tables/cff"),x=e("./tables/fvar"),w=e("./tables/glyf"),k=e("./tables/gpos"),S=e("./tables/head"),C=e("./tables/hhea"),T=e("./tables/hmtx"),O=e("./tables/kern"),M=e("./tables/ltag"),A=e("./tables/loca"),L=e("./tables/maxp"),E=e("./tables/name"),U=e("./tables/os2"),N=e("./tables/post");r._parse=g,r.Font=p.Font,r.Glyph=v.Glyph,r.Path=m.Path,r.parse=u,r.load=c,r.loadSync=f},{"./encoding":5,"./font":6,"./glyph":7,"./parse":10,"./path":11,"./tables/cff":13,"./tables/cmap":14,"./tables/fvar":15,"./tables/glyf":16,"./tables/gpos":17,"./tables/head":18,"./tables/hhea":19,"./tables/hmtx":20,"./tables/kern":21,"./tables/loca":22,"./tables/ltag":23,"./tables/maxp":24,"./tables/name":25,"./tables/os2":26,"./tables/post":27,fs:1,"tiny-inflate":2}],10:[function(e,t,r){"use strict";function n(e,t){this.data=e,this.offset=t,this.relativeOffset=0}r.getByte=function(e,t){return e.getUint8(t)},r.getCard8=r.getByte,r.getUShort=function(e,t){return e.getUint16(t,!1)},r.getCard16=r.getUShort,r.getShort=function(e,t){return e.getInt16(t,!1)},r.getULong=function(e,t){return e.getUint32(t,!1)},r.getFixed=function(e,t){var r=e.getInt16(t,!1),n=e.getUint16(t+2,!1);return r+n/65535},r.getTag=function(e,t){for(var r="",n=t;t+4>n;n+=1)r+=String.fromCharCode(e.getInt8(n));return r},r.getOffset=function(e,t,r){for(var n=0,i=0;r>i;i+=1)n<<=8,n+=e.getUint8(t+i);return n},r.getBytes=function(e,t,r){for(var n=[],i=t;r>i;i+=1)n.push(e.getUint8(i));return n},r.bytesToString=function(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t};var i={"byte":1,uShort:2,"short":2,uLong:4,fixed:4,longDateTime:8,tag:4};n.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},n.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);
return this.relativeOffset+=1,e},n.prototype.parseCard8=n.prototype.parseByte,n.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},n.prototype.parseCard16=n.prototype.parseUShort,n.prototype.parseSID=n.prototype.parseUShort,n.prototype.parseOffset16=n.prototype.parseUShort,n.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},n.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},n.prototype.parseULong=function(){var e=r.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},n.prototype.parseFixed=function(){var e=r.getFixed(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},n.prototype.parseOffset16List=n.prototype.parseUShortList=function(e){for(var t=new Array(e),n=this.data,i=this.offset+this.relativeOffset,a=0;e>a;a++)t[a]=r.getUShort(n,i),i+=2;return this.relativeOffset+=2*e,t},n.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var i=0;e>i;i++)n+=String.fromCharCode(t.getUint8(r+i));return n},n.prototype.parseTag=function(){return this.parseString(4)},n.prototype.parseLongDateTime=function(){var e=r.getULong(this.data,this.offset+this.relativeOffset+4);return this.relativeOffset+=8,e},n.prototype.parseFixed=function(){var e=r.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e/65536},n.prototype.parseVersion=function(){var e=r.getUShort(this.data,this.offset+this.relativeOffset),t=r.getUShort(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,e+t/4096/10},n.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=i[e]*t},r.Parser=n},{}],11:[function(e,t,r){"use strict";function n(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}n.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},n.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},n.prototype.curveTo=n.prototype.bezierCurveTo=function(e,t,r,n,i,a){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:n,x:i,y:a})},n.prototype.quadTo=n.prototype.quadraticCurveTo=function(e,t,r,n){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:n})},n.prototype.close=n.prototype.closePath=function(){this.commands.push({type:"Z"})},n.prototype.extend=function(e){e.commands&&(e=e.commands),Array.prototype.push.apply(this.commands,e)},n.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];"M"===r.type?e.moveTo(r.x,r.y):"L"===r.type?e.lineTo(r.x,r.y):"C"===r.type?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):"Z"===r.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},n.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function r(){for(var e="",r=0;r<arguments.length;r+=1){var n=arguments[r];n>=0&&r>0&&(e+=" "),e+=t(n)}return e}e=void 0!==e?e:2;for(var n="",i=0;i<this.commands.length;i+=1){var a=this.commands[i];"M"===a.type?n+="M"+r(a.x,a.y):"L"===a.type?n+="L"+r(a.x,a.y):"C"===a.type?n+="C"+r(a.x1,a.y1,a.x2,a.y2,a.x,a.y):"Q"===a.type?n+="Q"+r(a.x1,a.y1,a.x,a.y):"Z"===a.type&&(n+="Z")}return n},n.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&"black"!==this.fill&&(t+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},r.Path=n},{}],12:[function(e,t,r){"use strict";function n(e,t,r){var n;for(n=0;n<t.length;n+=1){var i=t[n];this[i.name]=i.value}if(this.tableName=e,this.fields=t,r){var a=Object.keys(r);for(n=0;n<a.length;n+=1){var o=a[n],s=r[o];void 0!==this[o]&&(this[o]=s)}}}var i=e("./check"),a=e("./types").encode,o=e("./types").sizeOf;n.prototype.sizeOf=function(){for(var e=0,t=0;t<this.fields.length;t+=1){var r=this.fields[t],n=this[r.name];if(void 0===n&&(n=r.value),"function"==typeof n.sizeOf)e+=n.sizeOf();else{var a=o[r.type];i.assert("function"==typeof a,"Could not find sizeOf function for field"+r.name),e+=a(n)}}return e},n.prototype.encode=function(){return a.TABLE(this)},r.Table=n},{"./check":3,"./types":29}],13:[function(e,t,r){"use strict";function n(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!n(e[r],t[r]))return!1;return!0}return!1}function i(e,t,r){var n,i,a,o=[],s=[],l=P.getCard16(e,t);if(0!==l){var u=P.getByte(e,t+2);i=t+(l+1)*u+2;var c=t+3;for(n=0;l+1>n;n+=1)o.push(P.getOffset(e,c,u)),c+=u;a=i+o[l]}else a=t+2;for(n=0;n<o.length-1;n+=1){var f=P.getBytes(e,i+o[n],i+o[n+1]);r&&(f=r(f)),s.push(f)}return{objects:s,startOffset:t,endOffset:a}}function a(e){for(var t="",r=15,n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=e.parseByte(),a=i>>4,o=15&i;if(a===r)break;if(t+=n[a],o===r)break;t+=n[o]}return parseFloat(t)}function o(e,t){var r,n,i,o;if(28===t)return r=e.parseByte(),n=e.parseByte(),r<<8|n;if(29===t)return r=e.parseByte(),n=e.parseByte(),i=e.parseByte(),o=e.parseByte(),r<<24|n<<16|i<<8|o;if(30===t)return a(e);if(t>=32&&246>=t)return t-139;if(t>=247&&250>=t)return r=e.parseByte(),256*(t-247)+r+108;if(t>=251&&254>=t)return r=e.parseByte(),256*-(t-251)-r-108;throw new Error("Invalid b0 "+t)}function s(e){for(var t={},r=0;r<e.length;r+=1){var n,i=e[r][0],a=e[r][1];if(n=1===a.length?a[0]:a,t.hasOwnProperty(i))throw new Error("Object "+t+" already has key "+i);t[i]=n}return t}function l(e,t,r){t=void 0!==t?t:0;var n=new P.Parser(e,t),i=[],a=[];for(r=void 0!==r?r:e.length;n.relativeOffset<r;){var l=n.parseByte();21>=l?(12===l&&(l=1200+n.parseByte()),i.push([l,a]),a=[]):a.push(o(n,l))}return s(i)}function u(e,t){return t=390>=t?I.cffStandardStrings[t]:e[t-391]}function c(e,t,r){for(var n={},i=0;i<t.length;i+=1){var a=t[i],o=e[a.op];void 0===o&&(o=void 0!==a.value?a.value:null),"SID"===a.type&&(o=u(r,o)),n[a.name]=o}return n}function f(e,t){var r={};return r.formatMajor=P.getCard8(e,t),r.formatMinor=P.getCard8(e,t+1),r.size=P.getCard8(e,t+2),r.offsetSize=P.getCard8(e,t+3),r.startOffset=t,r.endOffset=t+4,r}function h(e,t){var r=l(e,0,e.byteLength);return c(r,B,t)}function d(e,t,r,n){var i=l(e,t,r);return c(i,H,n)}function p(e,t,r,n){var i,a,o,s=new P.Parser(e,t);r-=1;var l=[".notdef"],c=s.parseCard8();if(0===c)for(i=0;r>i;i+=1)a=s.parseSID(),l.push(u(n,a));else if(1===c)for(;l.length<=r;)for(a=s.parseSID(),o=s.parseCard8(),i=0;o>=i;i+=1)l.push(u(n,a)),a+=1;else{if(2!==c)throw new Error("Unknown charset format "+c);for(;l.length<=r;)for(a=s.parseSID(),o=s.parseCard16(),i=0;o>=i;i+=1)l.push(u(n,a)),a+=1}return l}function v(e,t,r){var n,i,a={},o=new P.Parser(e,t),s=o.parseCard8();if(0===s){var l=o.parseCard8();for(n=0;l>n;n+=1)i=o.parseCard8(),a[i]=n}else{if(1!==s)throw new Error("Unknown encoding format "+s);var u=o.parseCard8();for(i=1,n=0;u>n;n+=1)for(var c=o.parseCard8(),f=o.parseCard8(),h=c;c+f>=h;h+=1)a[h]=i,i+=1}return new I.CffEncoding(a,r)}function g(e,t,r){function n(e,t){v&&c.closePath(),c.moveTo(e,t),v=!0}function i(){var t;t=f.length%2!==0,t&&!d&&(p=f.shift()+e.nominalWidthX),h+=f.length>>1,f.length=0,d=!0}function a(r){for(var y,b,x,w,k,S,C,T,O,M,A,L,E=0;E<r.length;){var U=r[E];switch(E+=1,U){case 1:i();break;case 3:i();break;case 4:f.length>1&&!d&&(p=f.shift()+e.nominalWidthX,d=!0),m+=f.pop(),n(g,m);break;case 5:for(;f.length>0;)g+=f.shift(),m+=f.shift(),c.lineTo(g,m);break;case 6:for(;f.length>0&&(g+=f.shift(),c.lineTo(g,m),0!==f.length);)m+=f.shift(),c.lineTo(g,m);break;case 7:for(;f.length>0&&(m+=f.shift(),c.lineTo(g,m),0!==f.length);)g+=f.shift(),c.lineTo(g,m);break;case 8:for(;f.length>0;)o=g+f.shift(),s=m+f.shift(),l=o+f.shift(),u=s+f.shift(),g=l+f.shift(),m=u+f.shift(),c.curveTo(o,s,l,u,g,m);break;case 10:k=f.pop()+e.subrsBias,S=e.subrs[k],S&&a(S);break;case 11:return;case 12:switch(U=r[E],E+=1,U){case 35:o=g+f.shift(),s=m+f.shift(),l=o+f.shift(),u=s+f.shift(),C=l+f.shift(),T=u+f.shift(),O=C+f.shift(),M=T+f.shift(),A=O+f.shift(),L=M+f.shift(),g=A+f.shift(),m=L+f.shift(),f.shift(),c.curveTo(o,s,l,u,C,T),c.curveTo(O,M,A,L,g,m);break;case 34:o=g+f.shift(),s=m,l=o+f.shift(),u=s+f.shift(),C=l+f.shift(),T=u,O=C+f.shift(),M=u,A=O+f.shift(),L=m,g=A+f.shift(),c.curveTo(o,s,l,u,C,T),c.curveTo(O,M,A,L,g,m);break;case 36:o=g+f.shift(),s=m+f.shift(),l=o+f.shift(),u=s+f.shift(),C=l+f.shift(),T=u,O=C+f.shift(),M=u,A=O+f.shift(),L=M+f.shift(),g=A+f.shift(),c.curveTo(o,s,l,u,C,T),c.curveTo(O,M,A,L,g,m);break;case 37:o=g+f.shift(),s=m+f.shift(),l=o+f.shift(),u=s+f.shift(),C=l+f.shift(),T=u+f.shift(),O=C+f.shift(),M=T+f.shift(),A=O+f.shift(),L=M+f.shift(),Math.abs(A-g)>Math.abs(L-m)?g=A+f.shift():m=L+f.shift(),c.curveTo(o,s,l,u,C,T),c.curveTo(O,M,A,L,g,m);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+U),f.length=0}break;case 14:f.length>0&&!d&&(p=f.shift()+e.nominalWidthX,d=!0),v&&(c.closePath(),v=!1);break;case 18:i();break;case 19:case 20:i(),E+=h+7>>3;break;case 21:f.length>2&&!d&&(p=f.shift()+e.nominalWidthX,d=!0),m+=f.pop(),g+=f.pop(),n(g,m);break;case 22:f.length>1&&!d&&(p=f.shift()+e.nominalWidthX,d=!0),g+=f.pop(),n(g,m);break;case 23:i();break;case 24:for(;f.length>2;)o=g+f.shift(),s=m+f.shift(),l=o+f.shift(),u=s+f.shift(),g=l+f.shift(),m=u+f.shift(),c.curveTo(o,s,l,u,g,m);g+=f.shift(),m+=f.shift(),c.lineTo(g,m);break;case 25:for(;f.length>6;)g+=f.shift(),m+=f.shift(),c.lineTo(g,m);o=g+f.shift(),s=m+f.shift(),l=o+f.shift(),u=s+f.shift(),g=l+f.shift(),m=u+f.shift(),c.curveTo(o,s,l,u,g,m);break;case 26:for(f.length%2&&(g+=f.shift());f.length>0;)o=g,s=m+f.shift(),l=o+f.shift(),u=s+f.shift(),g=l,m=u+f.shift(),c.curveTo(o,s,l,u,g,m);break;case 27:for(f.length%2&&(m+=f.shift());f.length>0;)o=g+f.shift(),s=m,l=o+f.shift(),u=s+f.shift(),g=l+f.shift(),m=u,c.curveTo(o,s,l,u,g,m);break;case 28:y=r[E],b=r[E+1],f.push((y<<24|b<<16)>>16),E+=2;break;case 29:k=f.pop()+e.gsubrsBias,S=e.gsubrs[k],S&&a(S);break;case 30:for(;f.length>0&&(o=g,s=m+f.shift(),l=o+f.shift(),u=s+f.shift(),g=l+f.shift(),m=u+(1===f.length?f.shift():0),c.curveTo(o,s,l,u,g,m),0!==f.length);)o=g+f.shift(),s=m,l=o+f.shift(),u=s+f.shift(),m=u+f.shift(),g=l+(1===f.length?f.shift():0),c.curveTo(o,s,l,u,g,m);break;case 31:for(;f.length>0&&(o=g+f.shift(),s=m,l=o+f.shift(),u=s+f.shift(),m=u+f.shift(),g=l+(1===f.length?f.shift():0),c.curveTo(o,s,l,u,g,m),0!==f.length);)o=g,s=m+f.shift(),l=o+f.shift(),u=s+f.shift(),g=l+f.shift(),m=u+(1===f.length?f.shift():0),c.curveTo(o,s,l,u,g,m);break;default:32>U?console.log("Glyph "+t.index+": unknown operator "+U):247>U?f.push(U-139):251>U?(y=r[E],E+=1,f.push(256*(U-247)+y+108)):255>U?(y=r[E],E+=1,f.push(256*-(U-251)-y-108)):(y=r[E],b=r[E+1],x=r[E+2],w=r[E+3],E+=4,f.push((y<<24|b<<16|x<<8|w)/65536))}}}var o,s,l,u,c=new D.Path,f=[],h=0,d=!1,p=e.defaultWidthX,v=!1,g=0,m=0;return a(r),t.advanceWidth=p,c}function m(e){var t;return t=e.length<1240?107:e.length<33900?1131:32768}function y(e,t,r){r.tables.cff={};var n=f(e,t),a=i(e,n.endOffset,P.bytesToString),o=i(e,a.endOffset),s=i(e,o.endOffset,P.bytesToString),l=i(e,s.endOffset);r.gsubrs=l.objects,r.gsubrsBias=m(r.gsubrs);var u=new DataView(new Uint8Array(o.objects[0]).buffer),c=h(u,s.objects);r.tables.cff.topDict=c;var y=t+c["private"][1],b=d(e,y,c["private"][0],s.objects);if(r.defaultWidthX=b.defaultWidthX,r.nominalWidthX=b.nominalWidthX,0!==b.subrs){var x=y+b.subrs,w=i(e,x);r.subrs=w.objects,r.subrsBias=m(r.subrs)}else r.subrs=[],r.subrsBias=0;var k=i(e,t+c.charStrings);r.nGlyphs=k.objects.length;var S=p(e,t+c.charset,r.nGlyphs,s.objects);0===c.encoding?r.cffEncoding=new I.CffEncoding(I.cffStandardEncoding,S):1===c.encoding?r.cffEncoding=new I.CffEncoding(I.cffExpertEncoding,S):r.cffEncoding=v(e,t+c.encoding,S),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new R.GlyphSet(r);for(var C=0;C<r.nGlyphs;C+=1){var T=k.objects[C];r.glyphs.push(C,R.cffGlyphLoader(r,C,g,T))}}function b(e,t){var r,n=I.cffStandardStrings.indexOf(e);return n>=0&&(r=n),n=t.indexOf(e),n>=0?r=n+I.cffStandardStrings.length:(r=I.cffStandardStrings.length+t.length,t.push(e)),r}function x(){return new j.Table("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function w(e){var t=new j.Table("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}function k(e,t,r){for(var i={},a=0;a<e.length;a+=1){var o=e[a],s=t[o.name];void 0===s||n(s,o.value)||("SID"===o.type&&(s=b(s,r)),i[o.op]={name:o.name,type:o.type,value:s})}return i}function S(e,t){var r=new j.Table("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=k(B,e,t),r}function C(e){var t=new j.Table("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function T(e){var t=new j.Table("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}function O(){return new j.Table("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function M(e,t){for(var r=new j.Table("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<e.length;n+=1){var i=e[n],a=b(i,t);r.fields.push({name:"glyph_"+n,type:"SID",value:a})}return r}function A(e){var t=[],r=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var n=0,i=0,a=0;a<r.commands.length;a+=1){var o,s,l=r.commands[a];if("Q"===l.type){var u=1/3,c=2/3;l={type:"C",x:l.x,y:l.y,x1:u*n+c*l.x1,y1:u*i+c*l.y1,x2:u*l.x+c*l.x1,y2:u*l.y+c*l.y1}}if("M"===l.type)o=Math.round(l.x-n),s=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(l.x),i=Math.round(l.y);else if("L"===l.type)o=Math.round(l.x-n),s=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rlineto",type:"OP",value:5}),n=Math.round(l.x),i=Math.round(l.y);else if("C"===l.type){var f=Math.round(l.x1-n),h=Math.round(l.y1-i),d=Math.round(l.x2-l.x1),p=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),s=Math.round(l.y-l.y2),t.push({name:"dx1",type:"NUMBER",value:f}),t.push({name:"dy1",type:"NUMBER",value:h}),t.push({name:"dx2",type:"NUMBER",value:d}),t.push({name:"dy2",type:"NUMBER",value:p}),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(l.x),i=Math.round(l.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}function L(e){for(var t=new j.Table("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var n=e.get(r),i=A(n);t.charStrings.push({name:n.name,type:"CHARSTRING",value:i})}return t}function E(e,t){var r=new j.Table("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=k(H,e,t),r}function U(e){var t=new j.Table("Private DICT INDEX",[{name:"privateDicts",type:"INDEX",value:[]}]);return t.privateDicts=[{name:"privateDict_0",type:"TABLE",value:e}],t}function N(e,t){for(var r,n=new j.Table("CFF ",[{name:"header",type:"TABLE"},{name:"nameIndex",type:"TABLE"},{name:"topDictIndex",type:"TABLE"},{name:"stringIndex",type:"TABLE"},{name:"globalSubrIndex",type:"TABLE"},{name:"charsets",type:"TABLE"},{name:"charStringsIndex",type:"TABLE"},{name:"privateDictIndex",type:"TABLE"}]),i=1/t.unitsPerEm,a={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,"private":[0,999]},o={},s=[],l=1;l<e.length;l+=1)r=e.get(l),s.push(r.name);var u=[];n.header=x(),n.nameIndex=w([t.postScriptName]);var c=S(a,u);n.topDictIndex=C(c),n.globalSubrIndex=O(),n.charsets=M(s,u),n.charStringsIndex=L(e);var f=E(o,u);n.privateDictIndex=U(f),n.stringIndex=T(u);var h=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return a.charset=h,a.encoding=0,a.charStrings=a.charset+n.charsets.sizeOf(),a["private"][1]=a.charStrings+n.charStringsIndex.sizeOf(),c=S(a,u),n.topDictIndex=C(c),n}var I=e("../encoding"),R=e("../glyphset"),P=e("../parse"),D=e("../path"),j=e("../table"),B=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]}],H=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];r.parse=y,r.make=N},{"../encoding":5,"../glyphset":8,"../parse":10,"../path":11,"../table":12}],14:[function(e,t,r){"use strict";function n(e,t){var r,n={};n.version=l.getUShort(e,t),s.argument(0===n.version,"cmap table version should be 0."),n.numTables=l.getUShort(e,t+2);var i=-1;for(r=0;r<n.numTables;r+=1){var a=l.getUShort(e,t+4+8*r),o=l.getUShort(e,t+4+8*r+2);if(3===a&&(1===o||0===o)){i=l.getULong(e,t+4+8*r+4);break}}if(-1===i)return null;var u=new l.Parser(e,t+i);n.format=u.parseUShort(),s.argument(4===n.format,"Only format 4 cmap tables are supported."),n.length=u.parseUShort(),n.language=u.parseUShort();var c;n.segCount=c=u.parseUShort()>>1,u.skip("uShort",3),n.glyphIndexMap={};var f=new l.Parser(e,t+i+14),h=new l.Parser(e,t+i+16+2*c),d=new l.Parser(e,t+i+16+4*c),p=new l.Parser(e,t+i+16+6*c),v=t+i+16+8*c;for(r=0;c-1>r;r+=1)for(var g,m=f.parseUShort(),y=h.parseUShort(),b=d.parseShort(),x=p.parseUShort(),w=y;m>=w;w+=1)0!==x?(v=p.offset+p.relativeOffset-2,v+=x,v+=2*(w-y),g=l.getUShort(e,v),0!==g&&(g=g+b&65535)):g=w+b&65535,n.glyphIndexMap[w]=g;return n}function i(e,t,r){e.segments.push({end:t,start:t,delta:-(t-r),offset:0})}function a(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function o(e){var t,r=new u.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);for(r.segments=[],t=0;t<e.length;t+=1){for(var n=e.get(t),o=0;o<n.unicodes.length;o+=1)i(r,n.unicodes[o],t);r.segments=r.segments.sort(function(e,t){return e.start-t.start})}a(r);var s;s=r.segments.length,r.segCountX2=2*s,r.searchRange=2*Math.pow(2,Math.floor(Math.log(s)/Math.log(2))),r.entrySelector=Math.log(r.searchRange/2)/Math.log(2),r.rangeShift=r.segCountX2-r.searchRange;var l=[],c=[],f=[],h=[],d=[];for(t=0;s>t;t+=1){var p=r.segments[t];l=l.concat({name:"end_"+t,type:"USHORT",value:p.end}),c=c.concat({name:"start_"+t,type:"USHORT",value:p.start}),f=f.concat({name:"idDelta_"+t,type:"SHORT",value:p.delta}),h=h.concat({name:"idRangeOffset_"+t,type:"USHORT",value:p.offset}),void 0!==p.glyphId&&(d=d.concat({name:"glyph_"+t,type:"USHORT",value:p.glyphId}))}return r.fields=r.fields.concat(l),r.fields.push({name:"reservedPad",type:"USHORT",value:0}),r.fields=r.fields.concat(c),r.fields=r.fields.concat(f),r.fields=r.fields.concat(h),r.fields=r.fields.concat(d),r.length=14+2*l.length+2+2*c.length+2*f.length+2*h.length+2*d.length,r}var s=e("../check"),l=e("../parse"),u=e("../table");r.parse=n,r.make=o},{"../check":3,"../parse":10,"../table":12}],15:[function(e,t,r){"use strict";function n(e,t){var r=JSON.stringify(e),n=256;for(var i in t){var a=parseInt(i);if(a&&!(256>a)){if(JSON.stringify(t[i])===r)return a;a>=n&&(n=a+1)}}return t[n]=e,n}function i(e,t){var r=n(e.name,t);return new h.Table("fvarAxis",[{name:"tag",type:"TAG",value:e.tag},{name:"minValue",type:"FIXED",value:e.minValue<<16},{name:"defaultValue",type:"FIXED",value:e.defaultValue<<16},{name:"maxValue",type:"FIXED",value:e.maxValue<<16},{name:"flags",type:"USHORT",value:0},{name:"nameID",type:"USHORT",value:r}])}function a(e,t,r){var n={},i=new f.Parser(e,t);return n.tag=i.parseTag(),n.minValue=i.parseFixed(),n.defaultValue=i.parseFixed(),n.maxValue=i.parseFixed(),i.skip("uShort",1),n.name=r[i.parseUShort()]||{},n}function o(e,t,r){for(var i=n(e.name,r),a=[{name:"nameID",type:"USHORT",value:i},{name:"flags",type:"USHORT",value:0}],o=0;o<t.length;++o){var s=t[o].tag;a.push({name:"axis "+s,type:"FIXED",value:e.coordinates[s]<<16})}return new h.Table("fvarInstance",a)}function s(e,t,r,n){var i={},a=new f.Parser(e,t);i.name=n[a.parseUShort()]||{},a.skip("uShort",1),i.coordinates={};for(var o=0;o<r.length;++o)i.coordinates[r[o].tag]=a.parseFixed();return i}function l(e,t){var r=new h.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);r.offsetToData=r.sizeOf();for(var n=0;n<e.axes.length;n++)r.fields.push({name:"axis "+n,type:"TABLE",value:i(e.axes[n],t)});for(var a=0;a<e.instances.length;a++)r.fields.push({name:"instance "+a,type:"TABLE",value:o(e.instances[a],e.axes,t)});return r}function u(e,t,r){var n=new f.Parser(e,t),i=n.parseULong();c.argument(65536===i,"Unsupported fvar table version.");var o=n.parseOffset16();n.skip("uShort",1);for(var l=n.parseUShort(),u=n.parseUShort(),h=n.parseUShort(),d=n.parseUShort(),p=[],v=0;l>v;v++)p.push(a(e,t+o+v*u,r));for(var g=[],m=t+o+l*u,y=0;h>y;y++)g.push(s(e,m+y*d,p,r));return{axes:p,instances:g}}var c=e("../check"),f=e("../parse"),h=e("../table");r.make=l,r.parse=u},{"../check":3,"../parse":10,"../table":12}],16:[function(e,t,r){"use strict";function n(e,t,r,n,i){var a;return(t&n)>0?(a=e.parseByte(),0===(t&i)&&(a=-a),a=r+a):a=(t&i)>0?r:r+e.parseShort(),a}function i(e,t,r){var i=new h.Parser(t,r);e.numberOfContours=i.parseShort(),e.xMin=i.parseShort(),e.yMin=i.parseShort(),e.xMax=i.parseShort(),e.yMax=i.parseShort();var a,o;if(e.numberOfContours>0){var s,l=e.endPointIndices=[];for(s=0;s<e.numberOfContours;s+=1)l.push(i.parseUShort());for(e.instructionLength=i.parseUShort(),e.instructions=[],s=0;s<e.instructionLength;s+=1)e.instructions.push(i.parseByte());var u=l[l.length-1]+1;for(a=[],s=0;u>s;s+=1)if(o=i.parseByte(),a.push(o),(8&o)>0)for(var f=i.parseByte(),d=0;f>d;d+=1)a.push(o),s+=1;if(c.argument(a.length===u,"Bad flags."),l.length>0){var p,v=[];if(u>0){for(s=0;u>s;s+=1)o=a[s],p={},p.onCurve=!!(1&o),p.lastPointOfContour=l.indexOf(s)>=0,v.push(p);var g=0;for(s=0;u>s;s+=1)o=a[s],p=v[s],p.x=n(i,o,g,2,16),g=p.x;var m=0;for(s=0;u>s;s+=1)o=a[s],p=v[s],p.y=n(i,o,m,4,32),m=p.y}e.points=v}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var y=!0;y;){a=i.parseUShort();var b={glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&a)>0?(b.dx=i.parseShort(),b.dy=i.parseShort()):(b.dx=i.parseChar(),b.dy=i.parseChar()),(8&a)>0?b.xScale=b.yScale=i.parseF2Dot14():(64&a)>0?(b.xScale=i.parseF2Dot14(),b.yScale=i.parseF2Dot14()):(128&a)>0&&(b.xScale=i.parseF2Dot14(),b.scale01=i.parseF2Dot14(),b.scale10=i.parseF2Dot14(),b.yScale=i.parseF2Dot14()),e.components.push(b),y=!!(32&a)}}}function a(e,t){for(var r=[],n=0;n<e.length;n+=1){var i=e[n],a={x:t.xScale*i.x+t.scale01*i.y+t.dx,y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};r.push(a)}return r}function o(e){for(var t=[],r=[],n=0;n<e.length;n+=1){var i=e[n];r.push(i),i.lastPointOfContour&&(t.push(r),r=[])}return c.argument(0===r.length,"There are still points left in the current contour."),t}function s(e){var t=new d.Path;if(!e)return t;for(var r=o(e),n=0;n<r.length;n+=1){var i,a,s=r[n],l=s[0],u=s[s.length-1];l.onCurve?(i=null,a=!0):(l=u.onCurve?u:{x:(l.x+u.x)/2,y:(l.y+u.y)/2},i=l,a=!1),t.moveTo(l.x,l.y);for(var c=a?1:0;c<s.length;c+=1){var f=s[c],h=0===c?l:s[c-1];if(h.onCurve&&f.onCurve)t.lineTo(f.x,f.y);else if(h.onCurve&&!f.onCurve)i=f;else if(h.onCurve||f.onCurve){if(h.onCurve||!f.onCurve)throw new Error("Invalid state.");t.quadraticCurveTo(i.x,i.y,f.x,f.y),i=null}else{var p={x:(h.x+f.x)/2,y:(h.y+f.y)/2};t.quadraticCurveTo(h.x,h.y,p.x,p.y),i=f}}l!==u&&(i?t.quadraticCurveTo(i.x,i.y,l.x,l.y):t.lineTo(l.x,l.y))}return t.closePath(),t}function l(e,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var n=t.components[r],i=e.get(n.glyphIndex);if(i.getPath(),i.points){var o=a(i.points,n);t.points=t.points.concat(o)}}return s(t.points)}function u(e,t,r,n){var a,o=new f.GlyphSet(n);for(a=0;a<r.length-1;a+=1){var s=r[a],u=r[a+1];s!==u?o.push(a,f.ttfGlyphLoader(n,a,i,e,t+s,l)):o.push(a,f.glyphLoader(n,a))}return o}var c=e("../check"),f=e("../glyphset"),h=e("../parse"),d=e("../path");r.parse=u},{"../check":3,"../glyphset":8,"../parse":10,"../path":11}],17:[function(e,t,r){"use strict";function n(e,t){for(var r=new c.Parser(e,t),n=r.parseUShort(),i=[],a=0;n>a;a++)i[r.parseTag()]={offset:r.parseUShort()};return i}function i(e,t){var r=new c.Parser(e,t),n=r.parseUShort(),i=r.parseUShort();if(1===n)return r.parseUShortList(i);if(2===n){for(var a=[];i--;)for(var o=r.parseUShort(),s=r.parseUShort(),l=r.parseUShort(),u=o;s>=u;u++)a[l++]=u;return a}}function a(e,t){var r=new c.Parser(e,t),n=r.parseUShort();if(1===n){var i=r.parseUShort(),a=r.parseUShort(),o=r.parseUShortList(a);return function(e){return o[e-i]||0}}if(2===n){for(var s=r.parseUShort(),l=[],u=[],f=[],h=0;s>h;h++)l[h]=r.parseUShort(),u[h]=r.parseUShort(),f[h]=r.parseUShort();return function(e){for(var t=0,r=l.length-1;r>t;){var n=t+r+1>>1;e<l[n]?r=n-1:t=n}return l[t]<=e&&e<=u[t]?f[t]||0:0}}}function o(e,t){var r,n,o=new c.Parser(e,t),s=o.parseUShort(),l=o.parseUShort(),u=i(e,t+l),f=o.parseUShort(),h=o.parseUShort();if(4===f&&0===h){var d={};if(1===s){for(var p=o.parseUShort(),v=[],g=o.parseOffset16List(p),m=0;p>m;m++){var y=g[m],b=d[y];if(!b){b={},o.relativeOffset=y;for(var x=o.parseUShort();x--;){var w=o.parseUShort();f&&(r=o.parseShort()),h&&(n=o.parseShort()),b[w]=r}}v[u[m]]=b}return function(e,t){var r=v[e];return r?r[t]:void 0}}if(2===s){for(var k=o.parseUShort(),S=o.parseUShort(),C=o.parseUShort(),T=o.parseUShort(),O=a(e,t+k),M=a(e,t+S),A=[],L=0;C>L;L++)for(var E=A[L]=[],U=0;T>U;U++)f&&(r=o.parseShort()),h&&(n=o.parseShort()),E[U]=r;var N={};for(L=0;L<u.length;L++)N[u[L]]=1;return function(e,t){if(N[e]){var r=O(e),n=M(t),i=A[r];return i?i[n]:void 0}}}}}function s(e,t){var r=new c.Parser(e,t),n=r.parseUShort(),i=r.parseUShort(),a=16&i,s=r.parseUShort(),l=r.parseOffset16List(s),u={lookupType:n,lookupFlag:i,markFilteringSet:a?r.parseUShort():-1};if(2===n){for(var f=[],h=0;s>h;h++)f.push(o(e,t+l[h]));u.getKerningValue=function(e,t){for(var r=f.length;r--;){var n=f[r](e,t);if(void 0!==n)return n}return 0}}return u}function l(e,t,r){var i=new c.Parser(e,t),a=i.parseFixed();u.argument(1===a,"Unsupported GPOS table version."),n(e,t+i.parseUShort()),n(e,t+i.parseUShort());var o=i.parseUShort();i.relativeOffset=o;for(var l=i.parseUShort(),f=i.parseOffset16List(l),h=t+o,d=0;l>d;d++){var p=s(e,h+f[d]);2!==p.lookupType||r.getGposKerningValue||(r.getGposKerningValue=p.getKerningValue)}}var u=e("../check"),c=e("../parse");r.parse=l},{"../check":3,"../parse":10}],18:[function(e,t,r){"use strict";function n(e,t){var r={},n=new o.Parser(e,t);return r.version=n.parseVersion(),r.fontRevision=Math.round(1e3*n.parseFixed())/1e3,r.checkSumAdjustment=n.parseULong(),r.magicNumber=n.parseULong(),a.argument(1594834165===r.magicNumber,"Font header has wrong magic number."),r.flags=n.parseUShort(),r.unitsPerEm=n.parseUShort(),r.created=n.parseLongDateTime(),r.modified=n.parseLongDateTime(),r.xMin=n.parseShort(),r.yMin=n.parseShort(),r.xMax=n.parseShort(),r.yMax=n.parseShort(),r.macStyle=n.parseUShort(),r.lowestRecPPEM=n.parseUShort(),r.fontDirectionHint=n.parseShort(),r.indexToLocFormat=n.parseShort(),r.glyphDataFormat=n.parseShort(),r}function i(e){return new s.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:0},{name:"modified",type:"LONGDATETIME",value:0},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var a=e("../check"),o=e("../parse"),s=e("../table");r.parse=n,r.make=i},{"../check":3,"../parse":10,"../table":12}],19:[function(e,t,r){"use strict";function n(e,t){var r={},n=new a.Parser(e,t);return r.version=n.parseVersion(),r.ascender=n.parseShort(),r.descender=n.parseShort(),r.lineGap=n.parseShort(),r.advanceWidthMax=n.parseUShort(),r.minLeftSideBearing=n.parseShort(),r.minRightSideBearing=n.parseShort(),r.xMaxExtent=n.parseShort(),r.caretSlopeRise=n.parseShort(),r.caretSlopeRun=n.parseShort(),r.caretOffset=n.parseShort(),n.relativeOffset+=8,r.metricDataFormat=n.parseShort(),r.numberOfHMetrics=n.parseUShort(),r}function i(e){return new o.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}var a=e("../parse"),o=e("../table");r.parse=n,r.make=i},{"../parse":10,"../table":12}],20:[function(e,t,r){"use strict";function n(e,t,r,n,i){for(var o,s,l=new a.Parser(e,t),u=0;n>u;u+=1){r>u&&(o=l.parseUShort(),s=l.parseShort());var c=i.get(u);c.advanceWidth=o,c.leftSideBearing=s}}function i(e){for(var t=new o.Table("hmtx",[]),r=0;r<e.length;r+=1){var n=e.get(r),i=n.advanceWidth||0,a=n.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:i}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:a})}return t}var a=e("../parse"),o=e("../table");r.parse=n,r.make=i},{"../parse":10,"../table":12}],21:[function(e,t,r){"use strict";function n(e,t){var r={},n=new a.Parser(e,t),o=n.parseUShort();i.argument(0===o,"Unsupported kern table version."),n.skip("uShort",1);var s=n.parseUShort();i.argument(0===s,"Unsupported kern sub-table version."),n.skip("uShort",2);var l=n.parseUShort();n.skip("uShort",3);for(var u=0;l>u;u+=1){var c=n.parseUShort(),f=n.parseUShort(),h=n.parseShort();r[c+","+f]=h}return r}var i=e("../check"),a=e("../parse");r.parse=n},{"../check":3,"../parse":10}],22:[function(e,t,r){"use strict";function n(e,t,r,n){for(var a=new i.Parser(e,t),o=n?a.parseUShort:a.parseULong,s=[],l=0;r+1>l;l+=1){var u=o.call(a);n&&(u*=2),s.push(u)}return s}var i=e("../parse");r.parse=n},{"../parse":10}],23:[function(e,t,r){"use strict";function n(e){
for(var t=new s.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),r="",n=12+4*e.length,i=0;i<e.length;++i){var a=r.indexOf(e[i]);0>a&&(a=r.length,r+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:n+a}),t.fields.push({name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t}function i(e,t){var r=new o.Parser(e,t),n=r.parseULong();a.argument(1===n,"Unsupported ltag table version."),r.skip("uLong",1);for(var i=r.parseULong(),s=[],l=0;i>l;l++){for(var u="",c=t+r.parseUShort(),f=r.parseUShort(),h=c;c+f>h;++h)u+=String.fromCharCode(e.getInt8(h));s.push(u)}return s}var a=e("../check"),o=e("../parse"),s=e("../table");r.make=n,r.parse=i},{"../check":3,"../parse":10,"../table":12}],24:[function(e,t,r){"use strict";function n(e,t){var r={},n=new a.Parser(e,t);return r.version=n.parseVersion(),r.numGlyphs=n.parseUShort(),1===r.version&&(r.maxPoints=n.parseUShort(),r.maxContours=n.parseUShort(),r.maxCompositePoints=n.parseUShort(),r.maxCompositeContours=n.parseUShort(),r.maxZones=n.parseUShort(),r.maxTwilightPoints=n.parseUShort(),r.maxStorage=n.parseUShort(),r.maxFunctionDefs=n.parseUShort(),r.maxInstructionDefs=n.parseUShort(),r.maxStackElements=n.parseUShort(),r.maxSizeOfInstructions=n.parseUShort(),r.maxComponentElements=n.parseUShort(),r.maxComponentDepth=n.parseUShort()),r}function i(e){return new o.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}var a=e("../parse"),o=e("../table");r.parse=n,r.make=i},{"../parse":10,"../table":12}],25:[function(e,t,r){"use strict";function n(e,t,r){switch(e){case 0:if(65535===t)return"und";if(r)return r[t];break;case 1:return m[t];case 3:return b[t]}return void 0}function i(e,t,r){switch(e){case 0:return x;case 1:return k[r]||w[t];case 3:if(1===t||10===t)return x}return void 0}function a(e,t,r){for(var a={},o=new p.Parser(e,t),s=o.parseUShort(),l=o.parseUShort(),u=o.offset+o.parseUShort(),c=0;l>c;c++){var f=o.parseUShort(),d=o.parseUShort(),v=o.parseUShort(),m=o.parseUShort(),y=g[m]||m,b=o.parseUShort(),w=o.parseUShort(),k=n(f,v,r),S=i(f,d,v);if(void 0!==S&&void 0!==k){var C;if(C=S===x?h.UTF16(e,u+w,b):h.MACSTRING(e,u+w,b,S)){var T=a[y];void 0===T&&(T=a[y]={}),T[k]=C}}}var O=0;return 1===s&&(O=o.parseUShort()),a}function o(e){var t={};for(var r in e)t[e[r]]=parseInt(r);return t}function s(e,t,r,n,i,a){return new v.Table("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:a}])}function l(e,t){var r=e.length,n=t.length-r+1;e:for(var i=0;n>i;i++)for(;n>i;i++){for(var a=0;r>a;a++)if(t[i+a]!==e[a])continue e;return i}return-1}function u(e,t){var r=l(e,t);if(0>r){r=t.length;for(var n=0,i=e.length;i>n;++n)t.push(e[n])}return r}function c(e,t){var r,n=[],a={},l=o(g);for(var c in e){var f=l[c];void 0===f&&(f=c),r=parseInt(f),a[r]=e[c],n.push(r)}for(var h=o(m),p=o(b),x=[],w=[],k=0;k<n.length;k++){r=n[k];var S=a[r];for(var C in S){var T=S[C],O=1,M=h[C],A=y[M],L=i(O,A,M),E=d.MACSTRING(T,L);void 0===E&&(O=0,M=t.indexOf(C),0>M&&(M=t.length,t.push(C)),A=4,E=d.UTF16(T));var U=u(E,w);x.push(s(O,A,M,r,E.length,U));var N=p[C];if(void 0!==N){var I=d.UTF16(T),R=u(I,w);x.push(s(3,1,N,r,I.length,R))}}}x.sort(function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID});for(var P=new v.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:x.length},{name:"stringOffset",type:"USHORT",value:6+12*x.length}]),D=0;D<x.length;D++)P.fields.push({name:"record_"+D,type:"TABLE",value:x[D]});return P.fields.push({name:"strings",type:"LITERAL",value:w}),P}var f=e("../types"),h=f.decode,d=f.encode,p=e("../parse"),v=e("../table"),g=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","licence","licenceURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],m={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},y={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},b={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},x="utf-16",w={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},k={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};r.parse=a,r.make=c},{"../parse":10,"../table":12,"../types":29}],26:[function(e,t,r){"use strict";function n(e){for(var t=0;t<l.length;t+=1){var r=l[t];if(e>=r.begin&&e<r.end)return t}return-1}function i(e,t){var r={},n=new o.Parser(e,t);r.version=n.parseUShort(),r.xAvgCharWidth=n.parseShort(),r.usWeightClass=n.parseUShort(),r.usWidthClass=n.parseUShort(),r.fsType=n.parseUShort(),r.ySubscriptXSize=n.parseShort(),r.ySubscriptYSize=n.parseShort(),r.ySubscriptXOffset=n.parseShort(),r.ySubscriptYOffset=n.parseShort(),r.ySuperscriptXSize=n.parseShort(),r.ySuperscriptYSize=n.parseShort(),r.ySuperscriptXOffset=n.parseShort(),r.ySuperscriptYOffset=n.parseShort(),r.yStrikeoutSize=n.parseShort(),r.yStrikeoutPosition=n.parseShort(),r.sFamilyClass=n.parseShort(),r.panose=[];for(var i=0;10>i;i++)r.panose[i]=n.parseByte();return r.ulUnicodeRange1=n.parseULong(),r.ulUnicodeRange2=n.parseULong(),r.ulUnicodeRange3=n.parseULong(),r.ulUnicodeRange4=n.parseULong(),r.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),r.fsSelection=n.parseUShort(),r.usFirstCharIndex=n.parseUShort(),r.usLastCharIndex=n.parseUShort(),r.sTypoAscender=n.parseShort(),r.sTypoDescender=n.parseShort(),r.sTypoLineGap=n.parseShort(),r.usWinAscent=n.parseUShort(),r.usWinDescent=n.parseUShort(),r.version>=1&&(r.ulCodePageRange1=n.parseULong(),r.ulCodePageRange2=n.parseULong()),r.version>=2&&(r.sxHeight=n.parseShort(),r.sCapHeight=n.parseShort(),r.usDefaultChar=n.parseUShort(),r.usBreakChar=n.parseUShort(),r.usMaxContent=n.parseUShort()),r}function a(e){return new s.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var o=e("../parse"),s=e("../table"),l=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];r.unicodeRanges=l,r.getUnicodeRange=n,r.parse=i,r.make=a},{"../parse":10,"../table":12}],27:[function(e,t,r){"use strict";function n(e,t){var r,n={},i=new o.Parser(e,t);switch(n.version=i.parseVersion(),n.italicAngle=i.parseFixed(),n.underlinePosition=i.parseShort(),n.underlineThickness=i.parseShort(),n.isFixedPitch=i.parseULong(),n.minMemType42=i.parseULong(),n.maxMemType42=i.parseULong(),n.minMemType1=i.parseULong(),n.maxMemType1=i.parseULong(),n.version){case 1:n.names=a.standardNames.slice();break;case 2:for(n.numberOfGlyphs=i.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs),r=0;r<n.numberOfGlyphs;r++)n.glyphNameIndex[r]=i.parseUShort();for(n.names=[],r=0;r<n.numberOfGlyphs;r++)if(n.glyphNameIndex[r]>=a.standardNames.length){var s=i.parseChar();n.names.push(i.parseString(s))}break;case 2.5:for(n.numberOfGlyphs=i.parseUShort(),n.offset=new Array(n.numberOfGlyphs),r=0;r<n.numberOfGlyphs;r++)n.offset[r]=i.parseChar()}return n}function i(){return new s.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var a=e("../encoding"),o=e("../parse"),s=e("../table");r.parse=n,r.make=i},{"../encoding":5,"../parse":10,"../table":12}],28:[function(e,t,r){"use strict";function n(e){return Math.log(e)/Math.log(2)|0}function i(e){for(;e.length%4!==0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%=Math.pow(2,32)}function a(e,t,r,n){return new f.Table("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==r?r:0},{name:"length",type:"ULONG",value:void 0!==n?n:0}])}function o(e){var t=new f.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var r=Math.pow(2,n(t.numTables));t.searchRange=16*r,t.entrySelector=n(r),t.rangeShift=16*t.numTables-t.searchRange;for(var o=[],s=[],l=t.sizeOf()+a().sizeOf()*t.numTables;l%4!==0;)l+=1,s.push({name:"padding",type:"BYTE",value:0});for(var u=0;u<e.length;u+=1){var h=e[u];c.argument(4===h.tableName.length,"Table name"+h.tableName+" is invalid.");var d=h.sizeOf(),p=a(h.tableName,i(h.encode()),l,d);for(o.push({name:p.tag+" Table Record",type:"TABLE",value:p}),s.push({name:h.tableName+" table",type:"TABLE",value:h}),l+=d,c.argument(!isNaN(l),"Something went wrong calculating the offset.");l%4!==0;)l+=1,s.push({name:"padding",type:"BYTE",value:0})}return o.sort(function(e,t){return e.value.tag>t.value.tag?1:-1}),t.fields=t.fields.concat(o),t.fields=t.fields.concat(s),t}function s(e,t,r){for(var n=0;n<t.length;n+=1){var i=e.charToGlyphIndex(t[n]);if(i>0){var a=e.glyphs.get(i);return a.getMetrics()}}return r}function l(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}function u(e){for(var t,r=[],n=[],a=[],u=[],c=[],f=[],k=[],S=0,C=0,T=0,O=0,M=0,A=0;A<e.glyphs.length;A+=1){var L=e.glyphs.get(A),E=0|L.unicode;(t>E||null===t)&&(t=E),E>S&&(S=E);var U=x.getUnicodeRange(E);if(32>U)C|=1<<U;else if(64>U)T|=1<<U-32;else if(96>U)O|=1<<U-64;else{if(!(123>U))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");M|=1<<U-96}if(".notdef"!==L.name){var N=L.getMetrics();r.push(N.xMin),n.push(N.yMin),a.push(N.xMax),u.push(N.yMax),f.push(N.leftSideBearing),k.push(N.rightSideBearing),c.push(L.advanceWidth)}}var I={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,a),yMax:Math.max.apply(null,u),advanceWidthMax:Math.max.apply(null,c),advanceWidthAvg:l(c),minLeftSideBearing:Math.min.apply(null,f),maxLeftSideBearing:Math.max.apply(null,f),minRightSideBearing:Math.min.apply(null,k)};I.ascender=void 0!==e.ascender?e.ascender:I.yMax,I.descender=void 0!==e.descender?e.descender:I.yMin;var R=p.make({unitsPerEm:e.unitsPerEm,xMin:I.xMin,yMin:I.yMin,xMax:I.xMax,yMax:I.yMax}),P=v.make({ascender:I.ascender,descender:I.descender,advanceWidthMax:I.advanceWidthMax,minLeftSideBearing:I.minLeftSideBearing,minRightSideBearing:I.minRightSideBearing,xMaxExtent:I.maxLeftSideBearing+(I.xMax-I.xMin),numberOfHMetrics:e.glyphs.length}),D=y.make(e.glyphs.length),j=x.make({xAvgCharWidth:Math.round(I.advanceWidthAvg),usWeightClass:500,usWidthClass:5,usFirstCharIndex:t,usLastCharIndex:S,ulUnicodeRange1:C,ulUnicodeRange2:T,ulUnicodeRange3:O,ulUnicodeRange4:M,sTypoAscender:I.ascender,sTypoDescender:I.descender,sTypoLineGap:0,usWinAscent:I.ascender,usWinDescent:-I.descender,sxHeight:s(e,"xyvw",{yMax:0}).yMax,sCapHeight:s(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",I).yMax,usBreakChar:e.hasChar(" ")?32:0}),B=g.make(e.glyphs),H=h.make(e.glyphs),W=e.getEnglishName("fontFamily"),F=e.getEnglishName("fontSubfamily"),_=W+" "+F,z=e.getEnglishName("postScriptName");z||(z=W.replace(/\s/g,"")+"-"+F);var G={};for(var V in e.names)G[V]=e.names[V];G.uniqueID||(G.uniqueID={en:e.getEnglishName("manufacturer")+":"+_}),G.postScriptName||(G.postScriptName={en:z}),G.preferredFamily||(G.preferredFamily=e.names.fontFamily),G.preferredSubfamily||(G.preferredSubfamily=e.names.fontSubfamily);var q=[],Y=b.make(G,q),X=q.length>0?m.make(q):void 0,K=w.make(),$=d.make(e.glyphs,{version:e.getEnglishName("version"),fullName:_,familyName:W,weightName:F,postScriptName:z,unitsPerEm:e.unitsPerEm}),Z=[R,P,D,j,Y,H,K,$,B];X&&Z.push(X);var J=o(Z),Q=J.encode(),ee=i(Q),te=J.fields,re=!1;for(A=0;A<te.length;A+=1)if("head table"===te[A].name){te[A].value.checkSumAdjustment=2981146554-ee,re=!0;break}if(!re)throw new Error("Could not find head table with checkSum to adjust.");return J}var c=e("../check"),f=e("../table"),h=e("./cmap"),d=e("./cff"),p=e("./head"),v=e("./hhea"),g=e("./hmtx"),m=e("./ltag"),y=e("./maxp"),b=e("./name"),x=e("./os2"),w=e("./post");r.computeCheckSum=i,r.make=o,r.fontToTable=u},{"../check":3,"../table":12,"./cff":13,"./cmap":14,"./head":18,"./hhea":19,"./hmtx":20,"./ltag":23,"./maxp":24,"./name":25,"./os2":26,"./post":27}],29:[function(e,t,r){"use strict";function n(e){return function(){return e}}var i=e("./check"),a=32768,o=2147483648,s={},l={},u={};l.BYTE=function(e){return i.argument(e>=0&&255>=e,"Byte value should be between 0 and 255."),[e]},u.BYTE=n(1),l.CHAR=function(e){return[e.charCodeAt(0)]},u.CHAR=n(1),l.CHARARRAY=function(e){for(var t=[],r=0;r<e.length;r+=1)t.push(e.charCodeAt(r));return t},u.CHARARRAY=function(e){return e.length},l.USHORT=function(e){return[e>>8&255,255&e]},u.USHORT=n(2),l.SHORT=function(e){return e>=a&&(e=-(2*a-e)),[e>>8&255,255&e]},u.SHORT=n(2),l.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},u.UINT24=n(3),l.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},u.ULONG=n(4),l.LONG=function(e){return e>=o&&(e=-(2*o-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},u.LONG=n(4),l.FIXED=l.ULONG,u.FIXED=u.ULONG,l.FWORD=l.SHORT,u.FWORD=u.SHORT,l.UFWORD=l.USHORT,u.UFWORD=u.USHORT,l.LONGDATETIME=function(){return[0,0,0,0,0,0,0,0]},u.LONGDATETIME=n(8),l.TAG=function(e){return i.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},u.TAG=n(4),l.Card8=l.BYTE,u.Card8=u.BYTE,l.Card16=l.USHORT,u.Card16=u.USHORT,l.OffSize=l.BYTE,u.OffSize=u.BYTE,l.SID=l.USHORT,u.SID=u.USHORT,l.NUMBER=function(e){return e>=-107&&107>=e?[e+139]:e>=108&&1131>=e?(e-=108,[(e>>8)+247,255&e]):e>=-1131&&-108>=e?(e=-e-108,[(e>>8)+251,255&e]):e>=-32768&&32767>=e?l.NUMBER16(e):l.NUMBER32(e)},u.NUMBER=function(e){return l.NUMBER(e).length},l.NUMBER16=function(e){return[28,e>>8&255,255&e]},u.NUMBER16=n(3),l.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},u.NUMBER32=n(5),l.REAL=function(e){var t=e.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(r){var n=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));t=(Math.round(e*n)/n).toString()}var i,a,o="";for(i=0,a=t.length;a>i;i+=1){var s=t[i];o+="e"===s?"-"===t[++i]?"c":"b":"."===s?"a":"-"===s?"e":s}o+=1&o.length?"f":"ff";var l=[30];for(i=0,a=o.length;a>i;i+=2)l.push(parseInt(o.substr(i,2),16));return l},u.REAL=function(e){return l.REAL(e).length},l.NAME=l.CHARARRAY,u.NAME=u.CHARARRAY,l.STRING=l.CHARARRAY,u.STRING=u.CHARARRAY,s.UTF16=function(e,t,r){for(var n=[],i=r/2,a=0;i>a;a++,t+=2)n[a]=e.getUint16(t);return String.fromCharCode.apply(null,n)},l.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e.charCodeAt(r);t.push(n>>8&255),t.push(255&n)}return t},u.UTF16=function(e){return 2*e.length};var c={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"};s.MACSTRING=function(e,t,r,n){var i=c[n];if(void 0===i)return void 0;for(var a="",o=0;r>o;o++){var s=e.getUint8(t+o);a+=127>=s?String.fromCharCode(s):i[127&s]}return a};var f,h="function"==typeof WeakMap&&new WeakMap,d=function(e){if(!f){f={};for(var t in c)f[t]=new String(t)}var r=f[e];if(void 0===r)return void 0;if(h){var n=h.get(r);if(void 0!==n)return n}var i=c[e];if(void 0===i)return void 0;for(var a={},o=0;o<i.length;o++)a[i.charCodeAt(o)]=o+128;return h&&h.set(r,a),a};l.MACSTRING=function(e,t){var r=d(t);if(void 0===r)return void 0;for(var n=[],i=0;i<e.length;i++){var a=e.charCodeAt(i);if(a>=128&&(a=r[a],void 0===a))return void 0;n.push(a)}return n},u.MACSTRING=function(e,t){var r=l.MACSTRING(e,t);return void 0!==r?r.length:0},l.INDEX=function(e){var t,r=1,n=[r],i=[],a=0;for(t=0;t<e.length;t+=1){var o=l.OBJECT(e[t]);Array.prototype.push.apply(i,o),a+=o.length,r+=o.length,n.push(r)}if(0===i.length)return[0,0];var s=[],u=1+Math.floor(Math.log(a)/Math.log(2))/8|0,c=[void 0,l.BYTE,l.USHORT,l.UINT24,l.ULONG][u];for(t=0;t<n.length;t+=1){var f=c(n[t]);Array.prototype.push.apply(s,f)}return Array.prototype.concat(l.Card16(e.length),l.OffSize(u),s,i)},u.INDEX=function(e){return l.INDEX(e).length},l.DICT=function(e){for(var t=[],r=Object.keys(e),n=r.length,i=0;n>i;i+=1){var a=parseInt(r[i],0),o=e[a];t=t.concat(l.OPERAND(o.value,o.type)),t=t.concat(l.OPERATOR(a))}return t},u.DICT=function(e){return l.DICT(e).length},l.OPERATOR=function(e){return 1200>e?[e]:[12,e-1200]},l.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var n=0;n<t.length;n+=1)i.argument(e.length===t.length,"Not enough arguments given for type"+t),
r=r.concat(l.OPERAND(e[n],t[n]));else if("SID"===t)r=r.concat(l.NUMBER(e));else if("offset"===t)r=r.concat(l.NUMBER32(e));else if("number"===t)r=r.concat(l.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);r=r.concat(l.REAL(e))}return r},l.OP=l.BYTE,u.OP=u.BYTE;var p="function"==typeof WeakMap&&new WeakMap;l.CHARSTRING=function(e){if(p){var t=p.get(e);if(void 0!==t)return t}for(var r=[],n=e.length,i=0;n>i;i+=1){var a=e[i];r=r.concat(l[a.type](a.value))}return p&&p.set(e,r),r},u.CHARSTRING=function(e){return l.CHARSTRING(e).length},l.OBJECT=function(e){var t=l[e.type];return i.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},u.OBJECT=function(e){var t=u[e.type];return i.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},l.TABLE=function(e){for(var t=[],r=e.fields.length,n=0;r>n;n+=1){var a=e.fields[n],o=l[a.type];i.argument(void 0!==o,"No encoding function for field type "+a.type);var s=e[a.name];void 0===s&&(s=a.value);var u=o(s);t=t.concat(u)}return t},u.TABLE=function(e){for(var t=0,r=e.fields.length,n=0;r>n;n+=1){var a=e.fields[n],o=u[a.type];i.argument(void 0!==o,"No sizeOf function for field type "+a.type);var s=e[a.name];void 0===s&&(s=a.value),t+=o(s)}return t},l.LITERAL=function(e){return e},u.LITERAL=function(e){return e.length},r.decode=s,r.encode=l,r.sizeOf=u},{"./check":3}],30:[function(e,t,r){(function(n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("opentype.js"),l=i(s),u="undefined"!=typeof window?window.Rune:"undefined"!=typeof n?n.Rune:null,c=i(u),f=function(){function e(t){a(this,e),this.url=t}return o(e,[{key:"load",value:function(e){var t=this;l["default"].load(this.url,function(r,n){t.font=n,e(r)})}},{key:"toPath",value:function(e,t,r,n,i){if(!this.font)throw Error("You must use load() before generating font paths");for(var a=this.font.getPath(e,0,0,n,i),o=new c["default"].Path(t,r),s=0;s<a.commands.length;s++){var l=a.commands[s];"M"==l.type?o.moveTo(l.x,l.y):"L"==l.type?o.lineTo(l.x,l.y):"Q"==l.type&&"undefined"==typeof l.x2?o.curveTo(l.x1,l.y1,l.x,l.y):"Q"==l.type?o.curveTo(l.x1,l.y1,l.x2,l.y2,l.x,l.y):"Z"==l.type&&o.closePath()}return o}}]),e}();r["default"]=f,t.exports=r["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"opentype.js":9}]},{},[30])(30)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.Rune||(t.Rune={})).Noise=e()}}(function(){return function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});for(var a=(function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()),o="undefined"!=typeof window?window.Rune:"undefined"!=typeof e?e.Rune:null,s=(n(o),4),l=1<<s,u=8,c=1<<u,f=4095,h=.5,d=Math.floor(360/h),p=new Array(d),v=new Array(d),g=Math.PI/180,m=0;d>m;m++)p[m]=Math.sin(m*g*h),v[m]=Math.cos(m*g*h);var y=d;y>>=1;var b=function(){function e(t){i(this,e),this.perlin_octaves=4,this.perlin_amp_falloff=.5,this.perlin=null}return a(e,[{key:"noiseDetail",value:function(e,t){return e>0&&(this.perlin_octaves=e),t>0&&(this.perlin_amp_falloff=t),this}},{key:"noiseSeed",value:function(e){var t=function(){var e,t,r=4294967296,n=1664525,i=1013904223;return{setSeed:function(n){t=e=(null==n?Math.random()*r:n)>>>0},getSeed:function(){return e},rand:function(){return t=(n*t+i)%r,t/r}}}();t.setSeed(e),this.perlin=new Array(f+1);for(var r=0;f+1>r;r++)this.perlin[r]=t.rand()}},{key:"get",value:function(e,t,r){if(t=t||0,r=r||0,null==this.perlin){this.perlin=new Array(f+1);for(var n=0;f+1>n;n++)this.perlin[n]=Math.random()}0>e&&(e=-e),0>t&&(t=-t),0>r&&(r=-r);for(var i,a,o,h,p,g=Math.floor(e),m=Math.floor(t),b=Math.floor(r),x=e-g,w=t-m,k=r-b,S=0,C=.5,T=function(e){return.5*(1-v[Math.floor(e*y)%d])},O=0;O<this.perlin_octaves;O++){var M=g+(m<<s)+(b<<u);i=T(x),a=T(w),o=this.perlin[M&f],o+=i*(this.perlin[M+1&f]-o),h=this.perlin[M+l&f],h+=i*(this.perlin[M+l+1&f]-h),o+=a*(h-o),M+=c,h=this.perlin[M&f],h+=i*(this.perlin[M+1&f]-h),p=this.perlin[M+l&f],p+=i*(this.perlin[M+l+1&f]-p),h+=a*(p-h),o+=T(k)*(h-o),S+=o*C,C*=this.perlin_amp_falloff,g<<=1,x*=2,m<<=1,w*=2,b<<=1,k*=2,x>=1&&(g++,x--),w>=1&&(m++,w--),k>=1&&(b++,k--)}return S}}]),e}();r["default"]=b,t.exports=r["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.Rune||(t.Rune={})).Pixels=e()}}(function(){return function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){},{}],2:[function(e,t,r){(function(t){function n(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e){return this instanceof a?(this.length=0,this.parent=void 0,"number"==typeof e?o(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):l(this,e)):arguments.length>1?new a(e,arguments[1]):new a(e)}function o(e,t){if(e=v(e,0>t?0:0|g(t)),!a.TYPED_ARRAY_SUPPORT)for(var r=0;t>r;r++)e[r]=0;return e}function s(e,t,r){("string"!=typeof r||""===r)&&(r="utf8");var n=0|y(t,r);return e=v(e,n),e.write(t,r),e}function l(e,t){if(a.isBuffer(t))return u(e,t);if($(t))return c(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return f(e,t);if(t instanceof ArrayBuffer)return h(e,t)}return t.length?d(e,t):p(e,t)}function u(e,t){var r=0|g(t.length);return e=v(e,r),t.copy(e,0,0,r),e}function c(e,t){var r=0|g(t.length);e=v(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function f(e,t){var r=0|g(t.length);e=v(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function h(e,t){return a.TYPED_ARRAY_SUPPORT?(t.byteLength,e=a._augment(new Uint8Array(t))):e=f(e,new Uint8Array(t)),e}function d(e,t){var r=0|g(t.length);e=v(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function p(e,t){var r,n=0;"Buffer"===t.type&&$(t.data)&&(r=t.data,n=0|g(r.length)),e=v(e,n);for(var i=0;n>i;i+=1)e[i]=255&r[i];return e}function v(e,t){a.TYPED_ARRAY_SUPPORT?(e=a._augment(new Uint8Array(t)),e.__proto__=a.prototype):(e.length=t,e._isBuffer=!0);var r=0!==t&&t<=a.poolSize>>>1;return r&&(e.parent=Z),e}function g(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function m(e,t){if(!(this instanceof m))return new m(e,t);var r=new a(e,t);return delete r.parent,r}function y(e,t){"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return z(e).length;t=(""+t).toLowerCase(),n=!0}}function b(e,t,r){var n=!1;if(t=0|t,r=void 0===r||r===1/0?this.length:0|r,e||(e="utf8"),0>t&&(t=0),r>this.length&&(r=this.length),t>=r)return"";for(;;)switch(e){case"hex":return U(this,t,r);case"utf8":case"utf-8":return M(this,t,r);case"ascii":return L(this,t,r);case"binary":return E(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function x(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=t.length;if(a%2!==0)throw new Error("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;n>o;o++){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[r+o]=s}return o}function w(e,t,r,n){return Y(z(t,e.length-r),e,r,n)}function k(e,t,r,n){return Y(G(t),e,r,n)}function S(e,t,r,n){return k(e,t,r,n)}function C(e,t,r,n){return Y(q(t),e,r,n)}function T(e,t,r,n){return Y(V(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,r))}function M(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;r>i;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(r>=i+s){var l,u,c,f;switch(s){case 1:128>a&&(o=a);break;case 2:l=e[i+1],128===(192&l)&&(f=(31&a)<<6|63&l,f>127&&(o=f));break;case 3:l=e[i+1],u=e[i+2],128===(192&l)&&128===(192&u)&&(f=(15&a)<<12|(63&l)<<6|63&u,f>2047&&(55296>f||f>57343)&&(o=f));break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(f=(15&a)<<18|(63&l)<<12|(63&u)<<6|63&c,f>65535&&1114112>f&&(o=f))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return A(n)}function A(e){var t=e.length;if(J>=t)return String.fromCharCode.apply(String,e);for(var r="",n=0;t>n;)r+=String.fromCharCode.apply(String,e.slice(n,n+=J));return r}function L(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(127&e[i]);return n}function E(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(e[i]);return n}function U(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var i="",a=t;r>a;a++)i+=_(e[a]);return i}function N(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function I(e,t,r){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>i||o>t)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range")}function P(e,t,r,n){0>t&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);a>i;i++)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(e,t,r,n){0>t&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);a>i;i++)e[r+i]=t>>>8*(n?i:3-i)&255}function j(e,t,r,n,i,a){if(t>i||a>t)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function B(e,t,r,n,i){return i||j(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,r,n,23,4),r+4}function H(e,t,r,n,i){return i||j(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,r,n,52,8),r+8}function W(e){if(e=F(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function F(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function _(e){return 16>e?"0"+e.toString(16):e.toString(16)}function z(e,t){t=t||1/0;for(var r,n=e.length,i=null,a=[],o=0;n>o;o++){if(r=e.charCodeAt(o),r>55295&&57344>r){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(56320>r){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,128>r){if((t-=1)<0)break;a.push(r)}else if(2048>r){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(65536>r){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function G(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t}function V(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);o++)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function q(e){return X.toByteArray(W(e))}function Y(e,t,r,n){for(var i=0;n>i&&!(i+r>=t.length||i>=e.length);i++)t[i+r]=e[i];return i}var X=e("base64-js"),K=e("ieee754"),$=e("is-array");r.Buffer=a,r.SlowBuffer=m,r.INSPECT_MAX_BYTES=50,a.poolSize=8192;var Z={};a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array),a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);o>i&&e[i]===t[i];)++i;return i!==o&&(r=e[i],n=t[i]),n>r?-1:r>n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!$(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new a(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;r++)t+=e[r].length;var n=new a(t),i=0;for(r=0;r<e.length;r++){var o=e[r];o.copy(n,i),i+=o.length}return n},a.byteLength=y,a.prototype.length=void 0,a.prototype.parent=void 0,a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):b.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:a.compare(this,e)},a.prototype.indexOf=function(e,t){function r(e,t,r){for(var n=-1,i=0;r+i<e.length;i++)if(e[r+i]===t[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===t.length)return r+n}else n=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(a.isBuffer(e))return r(this,e,t);if("number"==typeof e)return a.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):r(this,[e],t);throw new TypeError("val must be string, number or Buffer")},a.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},a.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var i=n;n=t,t=0|r,r=i}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(0>r||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return x(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return k(this,e,t,r);case"binary":return S(this,e,t,r);case"base64":return C(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),e>t&&(t=e);var n;if(a.TYPED_ARRAY_SUPPORT)n=a._augment(this.subarray(e,t));else{var i=t-e;n=new a(i,void 0);for(var o=0;i>o;o++)n[o]=this[o+e]}return n.length&&(n.parent=this.parent||this),n},a.prototype.readUIntLE=function(e,t,r){e=0|e,t=0|t,r||I(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},a.prototype.readUIntBE=function(e,t,r){e=0|e,t=0|t,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e=0|e,t=0|t,r||I(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e=0|e,t=0|t,r||I(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),K.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),K.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),K.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),K.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){e=+e,t=0|t,r=0|r,n||R(this,e,t,r,Math.pow(2,8*r),0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){e=+e,t=0|t,r=0|r,n||R(this,e,t,r,Math.pow(2,8*r),0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t=0|t,r||R(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=0|t,r||R(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=0|t,r||R(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=0|t,r||R(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=0|t,r||R(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t=0|t,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var a=0,o=1,s=0>e?1:0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=(e/o>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t=0|t,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0>e?1:0;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=(e/o>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t=0|t,r||R(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t=0|t,r||R(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t=0|t,r||R(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t=0|t,r||R(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t=0|t,r||R(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return H(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return H(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&r>n&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&t>r&&n>t)for(i=o-1;i>=0;i--)e[i+t]=this[i+r];else if(1e3>o||!a.TYPED_ARRAY_SUPPORT)for(i=0;o>i;i++)e[i+t]=this[i+r];else e._set(this.subarray(r,r+o),t);return o},a.prototype.fill=function(e,t,r){if(e||(e=0),t||(t=0),r||(r=this.length),t>r)throw new RangeError("end < start");if(r!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>r||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof e)for(n=t;r>n;n++)this[n]=e;else{var i=z(e.toString()),a=i.length;for(n=t;r>n;n++)this[n]=i[n%a]}return this}},a.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(a.TYPED_ARRAY_SUPPORT)return new a(this).buffer;for(var e=new Uint8Array(this.length),t=0,r=e.length;r>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Q=a.prototype;a._augment=function(e){return e.constructor=a,e._isBuffer=!0,e._set=e.set,e.get=Q.get,e.set=Q.set,e.write=Q.write,e.toString=Q.toString,e.toLocaleString=Q.toString,e.toJSON=Q.toJSON,e.equals=Q.equals,e.compare=Q.compare,e.indexOf=Q.indexOf,e.copy=Q.copy,e.slice=Q.slice,e.readUIntLE=Q.readUIntLE,e.readUIntBE=Q.readUIntBE,e.readUInt8=Q.readUInt8,e.readUInt16LE=Q.readUInt16LE,e.readUInt16BE=Q.readUInt16BE,e.readUInt32LE=Q.readUInt32LE,e.readUInt32BE=Q.readUInt32BE,e.readIntLE=Q.readIntLE,e.readIntBE=Q.readIntBE,e.readInt8=Q.readInt8,e.readInt16LE=Q.readInt16LE,e.readInt16BE=Q.readInt16BE,e.readInt32LE=Q.readInt32LE,e.readInt32BE=Q.readInt32BE,e.readFloatLE=Q.readFloatLE,e.readFloatBE=Q.readFloatBE,e.readDoubleLE=Q.readDoubleLE,e.readDoubleBE=Q.readDoubleBE,e.writeUInt8=Q.writeUInt8,e.writeUIntLE=Q.writeUIntLE,e.writeUIntBE=Q.writeUIntBE,e.writeUInt16LE=Q.writeUInt16LE,e.writeUInt16BE=Q.writeUInt16BE,e.writeUInt32LE=Q.writeUInt32LE,e.writeUInt32BE=Q.writeUInt32BE,e.writeIntLE=Q.writeIntLE,e.writeIntBE=Q.writeIntBE,e.writeInt8=Q.writeInt8,e.writeInt16LE=Q.writeInt16LE,e.writeInt16BE=Q.writeInt16BE,e.writeInt32LE=Q.writeInt32LE,e.writeInt32BE=Q.writeInt32BE,e.writeFloatLE=Q.writeFloatLE,e.writeFloatBE=Q.writeFloatBE,e.writeDoubleLE=Q.writeDoubleLE,e.writeDoubleBE=Q.writeDoubleBE,e.fill=Q.fill,e.inspect=Q.inspect,e.toArrayBuffer=Q.toArrayBuffer,e};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":3,ieee754:4,"is-array":5}],3:[function(e,t,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===o||t===f?62:t===s||t===h?63:l>t?-1:l+10>t?t-l+26+26:c+26>t?t-c:u+26>t?t-u+26:void 0}function r(e){function r(e){u[f++]=e}var n,i,o,s,l,u;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.length;l="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0,u=new a(3*e.length/4-l),o=l>0?e.length-4:e.length;var f=0;for(n=0,i=0;o>n;n+=4,i+=3)s=t(e.charAt(n))<<18|t(e.charAt(n+1))<<12|t(e.charAt(n+2))<<6|t(e.charAt(n+3)),r((16711680&s)>>16),r((65280&s)>>8),r(255&s);return 2===l?(s=t(e.charAt(n))<<2|t(e.charAt(n+1))>>4,r(255&s)):1===l&&(s=t(e.charAt(n))<<10|t(e.charAt(n+1))<<4|t(e.charAt(n+2))>>2,r(s>>8&255),r(255&s)),u}function i(e){function t(e){return n.charAt(e)}function r(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,a,o,s=e.length%3,l="";for(i=0,o=e.length-s;o>i;i+=3)a=(e[i]<<16)+(e[i+1]<<8)+e[i+2],l+=r(a);switch(s){case 1:a=e[e.length-1],l+=t(a>>2),l+=t(a<<4&63),l+="==";break;case 2:a=(e[e.length-2]<<8)+e[e.length-1],l+=t(a>>10),l+=t(a>>4&63),l+=t(a<<2&63),l+="="}return l}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="+".charCodeAt(0),s="/".charCodeAt(0),l="0".charCodeAt(0),u="a".charCodeAt(0),c="A".charCodeAt(0),f="-".charCodeAt(0),h="_".charCodeAt(0);e.toByteArray=r,e.fromByteArray=i}("undefined"==typeof r?this.base64js={}:r)},{}],4:[function(e,t,r){r.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,f=r?i-1:0,h=r?-1:1,d=e[t+f];for(f+=h,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+f],f+=h,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:(d?-1:1)*(1/0);o+=Math.pow(2,n),a-=u}return(d?-1:1)*o*Math.pow(2,a-n)},r.write=function(e,t,r,n,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,p=n?1:-1,v=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),t+=o+f>=1?h/l:h*Math.pow(2,1-f),t*l>=2&&(o++,l/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*l-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[r+d]=255&o,d+=p,o/=256,u-=8);e[r+d-p]|=128*v}},{}],5:[function(e,t,r){var n=Array.isArray,i=Object.prototype.toString;t.exports=n||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],6:[function(e,t,r){var n=e("./lib/encoder"),i=e("./lib/decoder");t.exports={encode:n,decode:i}},{"./lib/decoder":7,"./lib/encoder":8}],7:[function(e,t,r){(function(e){function r(t){var r=new Uint8Array(t),i=new n;i.parse(r);var a={width:i.width,height:i.height,data:new e(i.width*i.height*4)};return i.copyToImageData(a),a}var n=function(){"use strict";function e(){}function t(e,t){for(var r,n,i=0,a=[],o=16;o>0&&!e[o-1];)o--;a.push({children:[],index:0});var s,l=a[0];for(r=0;o>r;r++){for(n=0;n<e[r];n++){for(l=a.pop(),l.children[l.index]=t[i];l.index>0;)l=a.pop();for(l.index++,a.push(l);a.length<=r;)a.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s;i++}o>r+1&&(a.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s)}return a[0].children}function r(e,t,r,n,i,o,s,l,u){function c(){if(N>0)return N--,U>>N&1;if(U=e[t++],255==U){var r=e[t++];if(r)throw"unexpected marker: "+(U<<8|r).toString(16)}return N=7,U>>>7}function f(e){for(var t,r=e;null!==(t=c());){if(r=r[t],"number"==typeof r)return r;if("object"!=typeof r)throw"invalid huffman sequence"}return null}function h(e){for(var t=0;e>0;){var r=c();if(null===r)return;t=t<<1|r,e--}return t}function d(e){var t=h(e);return t>=1<<e-1?t:t+(-1<<e)+1}function p(e,t){var r=f(e.huffmanTableDC),n=0===r?0:d(r);t[0]=e.pred+=n;for(var i=1;64>i;){var o=f(e.huffmanTableAC),s=15&o,l=o>>4;if(0!==s){i+=l;var u=a[i];t[u]=d(s),i++}else{if(15>l)break;i+=16}}}function v(e,t){var r=f(e.huffmanTableDC),n=0===r?0:d(r)<<u;t[0]=e.pred+=n}function g(e,t){t[0]|=c()<<u}function m(e,t){if(I>0)return void I--;for(var r=o,n=s;n>=r;){var i=f(e.huffmanTableAC),l=15&i,c=i>>4;if(0!==l){r+=c;var p=a[r];t[p]=d(l)*(1<<u),r++}else{if(15>c){I=h(c)+(1<<c)-1;break}r+=16}}}function y(e,t){for(var r=o,n=s,i=0;n>=r;){var l=a[r];switch(R){case 0:var p=f(e.huffmanTableAC),v=15&p,i=p>>4;if(0===v)15>i?(I=h(i)+(1<<i),R=4):(i=16,R=1);else{if(1!==v)throw"invalid ACn encoding";w=d(v),R=i?2:3}continue;case 1:case 2:t[l]?t[l]+=c()<<u:(i--,0===i&&(R=2==R?3:0));break;case 3:t[l]?t[l]+=c()<<u:(t[l]=w<<u,R=0);break;case 4:t[l]&&(t[l]+=c()<<u)}r++}4===R&&(I--,0===I&&(R=0))}function b(e,t,r,n,i){var a=r/A|0,o=r%A,s=a*e.v+n,l=o*e.h+i;t(e,e.blocks[s][l])}function x(e,t,r){var n=r/e.blocksPerLine|0,i=r%e.blocksPerLine;t(e,e.blocks[n][i])}var w,k,S,C,T,O,M,A=(r.precision,r.samplesPerLine,r.scanLines,r.mcusPerLine),L=r.progressive,E=(r.maxH,r.maxV,t),U=0,N=0,I=0,R=0,P=n.length;M=L?0===o?0===l?v:g:0===l?m:y:p;var D,j,B=0;j=1==P?n[0].blocksPerLine*n[0].blocksPerColumn:A*r.mcusPerColumn,i||(i=j);for(var H,W;j>B;){for(S=0;P>S;S++)n[S].pred=0;if(I=0,1==P)for(k=n[0],O=0;i>O;O++)x(k,M,B),B++;else for(O=0;i>O;O++){for(S=0;P>S;S++)for(k=n[S],H=k.h,W=k.v,C=0;W>C;C++)for(T=0;H>T;T++)b(k,M,B,C,T);if(B++,B===j)break}if(N=0,D=e[t]<<8|e[t+1],65280>D)throw"marker was not found";if(!(D>=65488&&65495>=D))break;t+=2}return t-E}function n(e,t){function r(e,r,n){var i,a,p,v,g,m,y,b,x,w,k=t.quantizationTable,S=n;for(w=0;64>w;w++)S[w]=e[w]*k[w];for(w=0;8>w;++w){var C=8*w;0!=S[1+C]||0!=S[2+C]||0!=S[3+C]||0!=S[4+C]||0!=S[5+C]||0!=S[6+C]||0!=S[7+C]?(i=h*S[0+C]+128>>8,a=h*S[4+C]+128>>8,p=S[2+C],v=S[6+C],g=d*(S[1+C]-S[7+C])+128>>8,b=d*(S[1+C]+S[7+C])+128>>8,m=S[3+C]<<4,y=S[5+C]<<4,x=i-a+1>>1,i=i+a+1>>1,a=x,x=p*f+v*c+128>>8,p=p*c-v*f+128>>8,v=x,x=g-y+1>>1,g=g+y+1>>1,y=x,x=b+m+1>>1,m=b-m+1>>1,b=x,x=i-v+1>>1,i=i+v+1>>1,v=x,x=a-p+1>>1,a=a+p+1>>1,p=x,x=g*u+b*l+2048>>12,g=g*l-b*u+2048>>12,b=x,x=m*s+y*o+2048>>12,m=m*o-y*s+2048>>12,y=x,S[0+C]=i+b,S[7+C]=i-b,S[1+C]=a+y,S[6+C]=a-y,S[2+C]=p+m,S[5+C]=p-m,S[3+C]=v+g,S[4+C]=v-g):(x=h*S[0+C]+512>>10,S[0+C]=x,S[1+C]=x,S[2+C]=x,S[3+C]=x,S[4+C]=x,S[5+C]=x,S[6+C]=x,S[7+C]=x)}for(w=0;8>w;++w){var T=w;0!=S[8+T]||0!=S[16+T]||0!=S[24+T]||0!=S[32+T]||0!=S[40+T]||0!=S[48+T]||0!=S[56+T]?(i=h*S[0+T]+2048>>12,a=h*S[32+T]+2048>>12,p=S[16+T],v=S[48+T],g=d*(S[8+T]-S[56+T])+2048>>12,b=d*(S[8+T]+S[56+T])+2048>>12,m=S[24+T],y=S[40+T],x=i-a+1>>1,i=i+a+1>>1,a=x,x=p*f+v*c+2048>>12,p=p*c-v*f+2048>>12,v=x,x=g-y+1>>1,g=g+y+1>>1,y=x,x=b+m+1>>1,m=b-m+1>>1,b=x,x=i-v+1>>1,i=i+v+1>>1,v=x,x=a-p+1>>1,a=a+p+1>>1,p=x,x=g*u+b*l+2048>>12,g=g*l-b*u+2048>>12,b=x,x=m*s+y*o+2048>>12,m=m*o-y*s+2048>>12,y=x,S[0+T]=i+b,S[56+T]=i-b,S[8+T]=a+y,S[48+T]=a-y,S[16+T]=p+m,S[40+T]=p-m,S[24+T]=v+g,S[32+T]=v-g):(x=h*n[w+0]+8192>>14,S[0+T]=x,S[8+T]=x,S[16+T]=x,S[24+T]=x,S[32+T]=x,S[40+T]=x,S[48+T]=x,S[56+T]=x)}for(w=0;64>w;++w){var O=128+(S[w]+8>>4);r[w]=0>O?0:O>255?255:O}}for(var n,i,a=[],p=t.blocksPerLine,v=t.blocksPerColumn,g=p<<3,m=new Int32Array(64),y=new Uint8Array(64),b=0;v>b;b++){var x=b<<3;for(n=0;8>n;n++)a.push(new Uint8Array(g));for(var w=0;p>w;w++){r(t.blocks[b][w],y,m);var k=0,S=w<<3;for(i=0;8>i;i++){var C=a[x+i];for(n=0;8>n;n++)C[S+n]=y[k++]}}}return a}function i(e){return 0>e?0:e>255?255:e}var a=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),o=4017,s=799,l=3406,u=2276,c=1567,f=3784,h=5793,d=2896;return e.prototype={load:function(e){
var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){var e=new Uint8Array(t.response||t.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}.bind(this),t.send(null)},parse:function(e){function i(){var t=e[c]<<8|e[c+1];return c+=2,t}function o(){var t=i(),r=e.subarray(c,c+t-2);return c+=r.length,r}function s(e){var t,r,n=0,i=0;for(r in e.components)e.components.hasOwnProperty(r)&&(t=e.components[r],n<t.h&&(n=t.h),i<t.v&&(i=t.v));var a=Math.ceil(e.samplesPerLine/8/n),o=Math.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t=e.components[r];for(var s=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),l=Math.ceil(Math.ceil(e.scanLines/8)*t.v/i),u=a*t.h,c=o*t.v,f=[],h=0;c>h;h++){for(var d=[],p=0;u>p;p++)d.push(new Int32Array(64));f.push(d)}t.blocksPerLine=s,t.blocksPerColumn=l,t.blocks=f}e.maxH=n,e.maxV=i,e.mcusPerLine=a,e.mcusPerColumn=o}var l,u,c=0,f=(e.length,null),h=null,d=[],p=[],v=[],g=[],m=i();if(65496!=m)throw"SOI not found";for(m=i();65497!=m;){var y,b;switch(m){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var x=o();65504===m&&74===x[0]&&70===x[1]&&73===x[2]&&70===x[3]&&0===x[4]&&(f={version:{major:x[5],minor:x[6]},densityUnits:x[7],xDensity:x[8]<<8|x[9],yDensity:x[10]<<8|x[11],thumbWidth:x[12],thumbHeight:x[13],thumbData:x.subarray(14,14+3*x[12]*x[13])}),65518===m&&65===x[0]&&100===x[1]&&111===x[2]&&98===x[3]&&101===x[4]&&0===x[5]&&(h={version:x[6],flags0:x[7]<<8|x[8],flags1:x[9]<<8|x[10],transformCode:x[11]});break;case 65499:for(var w=i(),k=w+c-2;k>c;){var S=e[c++],C=new Int32Array(64);if(S>>4===0)for(b=0;64>b;b++){var T=a[b];C[T]=e[c++]}else{if(S>>4!==1)throw"DQT: invalid table spec";for(b=0;64>b;b++){var T=a[b];C[T]=i()}}d[15&S]=C}break;case 65472:case 65473:case 65474:i(),l={},l.extended=65473===m,l.progressive=65474===m,l.precision=e[c++],l.scanLines=i(),l.samplesPerLine=i(),l.components={},l.componentsOrder=[];var O,M=e[c++];for(y=0;M>y;y++){O=e[c];var A=e[c+1]>>4,L=15&e[c+1],E=e[c+2];l.componentsOrder.push(O),l.components[O]={h:A,v:L,quantizationIdx:E},c+=3}s(l),p.push(l);break;case 65476:var U=i();for(y=2;U>y;){var N=e[c++],I=new Uint8Array(16),R=0;for(b=0;16>b;b++,c++)R+=I[b]=e[c];var P=new Uint8Array(R);for(b=0;R>b;b++,c++)P[b]=e[c];y+=17+R,(N>>4===0?g:v)[15&N]=t(I,P)}break;case 65501:i(),u=i();break;case 65498:var D,j=(i(),e[c++]),B=[];for(y=0;j>y;y++){D=l.components[e[c++]];var H=e[c++];D.huffmanTableDC=g[H>>4],D.huffmanTableAC=v[15&H],B.push(D)}var W=e[c++],F=e[c++],_=e[c++],z=r(e,c,l,B,u,W,F,_>>4,15&_);c+=z;break;default:if(255==e[c-3]&&e[c-2]>=192&&e[c-2]<=254){c-=3;break}throw"unknown JPEG marker "+m.toString(16)}m=i()}if(1!=p.length)throw"only single frame JPEGs supported";for(var y=0;y<p.length;y++){var G=p[y].components;for(var b in G)G[b].quantizationTable=d[G[b].quantizationIdx],delete G[b].quantizationIdx}this.width=l.samplesPerLine,this.height=l.scanLines,this.jfif=f,this.adobe=h,this.components=[];for(var y=0;y<l.componentsOrder.length;y++){var D=l.components[l.componentsOrder[y]];this.components.push({lines:n(l,D),scaleX:D.h/l.maxH,scaleY:D.v/l.maxV})}},getData:function(e,t){var r,n,a,o,s,l,u,c,f,h,d,p,v,g,m,y,b,x,w,k,S,C=this.width/e,T=this.height/t,O=0,M=e*t*this.components.length,A=new Uint8Array(M);switch(this.components.length){case 1:for(r=this.components[0],h=0;t>h;h++)for(s=r.lines[0|h*r.scaleY*T],f=0;e>f;f++)d=s[0|f*r.scaleX*C],A[O++]=d;break;case 2:for(r=this.components[0],n=this.components[1],h=0;t>h;h++)for(s=r.lines[0|h*r.scaleY*T],l=n.lines[0|h*n.scaleY*T],f=0;e>f;f++)d=s[0|f*r.scaleX*C],A[O++]=d,d=l[0|f*n.scaleX*C],A[O++]=d;break;case 3:for(S=!0,this.adobe&&this.adobe.transformCode?S=!0:"undefined"!=typeof this.colorTransform&&(S=!!this.colorTransform),r=this.components[0],n=this.components[1],a=this.components[2],h=0;t>h;h++)for(s=r.lines[0|h*r.scaleY*T],l=n.lines[0|h*n.scaleY*T],u=a.lines[0|h*a.scaleY*T],f=0;e>f;f++)S?(d=s[0|f*r.scaleX*C],p=l[0|f*n.scaleX*C],v=u[0|f*a.scaleX*C],x=i(d+1.402*(v-128)),w=i(d-.3441363*(p-128)-.71413636*(v-128)),k=i(d+1.772*(p-128))):(x=s[0|f*r.scaleX*C],w=l[0|f*n.scaleX*C],k=u[0|f*a.scaleX*C]),A[O++]=x,A[O++]=w,A[O++]=k;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";for(S=!1,this.adobe&&this.adobe.transformCode?S=!0:"undefined"!=typeof this.colorTransform&&(S=!!this.colorTransform),r=this.components[0],n=this.components[1],a=this.components[2],o=this.components[3],h=0;t>h;h++)for(s=r.lines[0|h*r.scaleY*T],l=n.lines[0|h*n.scaleY*T],u=a.lines[0|h*a.scaleY*T],c=o.lines[0|h*o.scaleY*T],f=0;e>f;f++)S?(d=s[0|f*r.scaleX*C],p=l[0|f*n.scaleX*C],v=u[0|f*a.scaleX*C],g=c[0|f*o.scaleX*C],m=255-i(d+1.402*(v-128)),y=255-i(d-.3441363*(p-128)-.71413636*(v-128)),b=255-i(d+1.772*(p-128))):(m=s[0|f*r.scaleX*C],y=l[0|f*n.scaleX*C],b=u[0|f*a.scaleX*C],g=c[0|f*o.scaleX*C]),A[O++]=m,A[O++]=y,A[O++]=b,A[O++]=g;break;default:throw"Unsupported color mode"}return A},copyToImageData:function(e){var t,r,n,a,o,s,l,u,c,f=e.width,h=e.height,d=e.data,p=this.getData(f,h),v=0,g=0;switch(this.components.length){case 1:for(r=0;h>r;r++)for(t=0;f>t;t++)n=p[v++],d[g++]=n,d[g++]=n,d[g++]=n,d[g++]=255;break;case 3:for(r=0;h>r;r++)for(t=0;f>t;t++)l=p[v++],u=p[v++],c=p[v++],d[g++]=l,d[g++]=u,d[g++]=c,d[g++]=255;break;case 4:for(r=0;h>r;r++)for(t=0;f>t;t++)o=p[v++],s=p[v++],n=p[v++],a=p[v++],l=255-i(o*(1-a/255)+a),u=255-i(s*(1-a/255)+a),c=255-i(n*(1-a/255)+a),d[g++]=l,d[g++]=u,d[g++]=c,d[g++]=255;break;default:throw"Unsupported color mode"}}},e}();t.exports=r}).call(this,e("buffer").Buffer)},{buffer:2}],8:[function(e,t,r){(function(e){function r(t){function r(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;64>r;r++){var n=T((t[r]*e+50)/100);1>n?n=1:n>255&&(n=255),O[_[r]]=n}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;64>a;a++){var o=T((i[a]*e+50)/100);1>o?o=1:o>255&&(o=255),M[_[a]]=o}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,u=0;8>u;u++)for(var c=0;8>c;c++)A[l]=1/(O[_[l]]*s[u]*s[c]*8),L[l]=1/(M[_[l]]*s[u]*s[c]*8),l++}function n(e,t){for(var r=0,n=0,i=new Array,a=1;16>=a;a++){for(var o=1;o<=e[a];o++)i[t[n]]=[],i[t[n]][0]=r,i[t[n]][1]=a,n++,r++;r*=2}return i}function i(){x=n(z,G),w=n(Y,X),k=n(V,q),S=n(K,$)}function a(){for(var e=1,t=2,r=1;15>=r;r++){for(var n=e;t>n;n++)U[32767+n]=r,E[32767+n]=[],E[32767+n][1]=r,E[32767+n][0]=n;for(var i=-(t-1);-e>=i;i++)U[32767+i]=r,E[32767+i]=[],E[32767+i][1]=r,E[32767+i][0]=t-1+i;e<<=1,t<<=1}}function o(){for(var e=0;256>e;e++)F[e]=19595*e,F[e+256>>0]=38470*e,F[e+512>>0]=7471*e+32768,F[e+768>>0]=-11059*e,F[e+1024>>0]=-21709*e,F[e+1280>>0]=32768*e+8421375,F[e+1536>>0]=-27439*e,F[e+1792>>0]=-5329*e}function s(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(P|=1<<D),r--,D--,0>D&&(255==P?(l(255),l(0)):l(P),D=7,P=0)}function l(e){R.push(e)}function u(e){l(e>>8&255),l(255&e)}function c(e,t){var r,n,i,a,o,s,l,u,c,f=0;const h=8,d=64;for(c=0;h>c;++c){r=e[f],n=e[f+1],i=e[f+2],a=e[f+3],o=e[f+4],s=e[f+5],l=e[f+6],u=e[f+7];var p=r+u,v=r-u,g=n+l,m=n-l,y=i+s,b=i-s,x=a+o,w=a-o,k=p+x,S=p-x,C=g+y,T=g-y;e[f]=k+C,e[f+4]=k-C;var O=.707106781*(T+S);e[f+2]=S+O,e[f+6]=S-O,k=w+b,C=b+m,T=m+v;var M=.382683433*(k-T),A=.5411961*k+M,L=1.306562965*T+M,E=.707106781*C,U=v+E,I=v-E;e[f+5]=I+A,e[f+3]=I-A,e[f+1]=U+L,e[f+7]=U-L,f+=8}for(f=0,c=0;h>c;++c){r=e[f],n=e[f+8],i=e[f+16],a=e[f+24],o=e[f+32],s=e[f+40],l=e[f+48],u=e[f+56];var R=r+u,P=r-u,D=n+l,j=n-l,B=i+s,H=i-s,W=a+o,F=a-o,_=R+W,z=R-W,G=D+B,V=D-B;e[f]=_+G,e[f+32]=_-G;var q=.707106781*(V+z);e[f+16]=z+q,e[f+48]=z-q,_=F+H,G=H+j,V=j+P;var Y=.382683433*(_-V),X=.5411961*_+Y,K=1.306562965*V+Y,$=.707106781*G,Z=P+$,J=P-$;e[f+40]=J+X,e[f+24]=J-X,e[f+8]=Z+K,e[f+56]=Z-K,f++}var Q;for(c=0;d>c;++c)Q=e[c]*t[c],N[c]=Q>0?Q+.5|0:Q-.5|0;return N}function f(){u(65504),u(16),l(74),l(70),l(73),l(70),l(0),l(1),l(1),l(0),u(1),u(1),l(0),l(0)}function h(e,t){u(65472),u(17),l(8),u(t),u(e),l(3),l(1),l(17),l(0),l(2),l(17),l(1),l(3),l(17),l(1)}function d(){u(65499),u(132),l(0);for(var e=0;64>e;e++)l(O[e]);l(1);for(var t=0;64>t;t++)l(M[t])}function p(){u(65476),u(418),l(0);for(var e=0;16>e;e++)l(z[e+1]);for(var t=0;11>=t;t++)l(G[t]);l(16);for(var r=0;16>r;r++)l(V[r+1]);for(var n=0;161>=n;n++)l(q[n]);l(1);for(var i=0;16>i;i++)l(Y[i+1]);for(var a=0;11>=a;a++)l(X[a]);l(17);for(var o=0;16>o;o++)l(K[o+1]);for(var s=0;161>=s;s++)l($[s])}function v(){u(65498),u(12),l(3),l(1),l(0),l(2),l(17),l(3),l(17),l(0),l(63),l(0)}function g(e,t,r,n,i){var a,o=i[0],l=i[240];const u=16,f=63,h=64;for(var d=c(e,t),p=0;h>p;++p)I[_[p]]=d[p];var v=I[0]-r;r=I[0],0==v?s(n[0]):(a=32767+v,s(n[U[a]]),s(E[a]));for(var g=63;g>0&&0==I[g];g--);if(0==g)return s(o),r;for(var m,y=1;g>=y;){for(var b=y;0==I[y]&&g>=y;++y);var x=y-b;if(x>=u){m=x>>4;for(var w=1;m>=w;++w)s(l);x=15&x}a=32767+I[y],s(i[(x<<4)+U[a]]),s(E[a]),y++}return g!=f&&s(o),r}function m(){for(var e=String.fromCharCode,t=0;256>t;t++)W[t]=e(t)}function y(e){if(0>=e&&(e=1),e>100&&(e=100),C!=e){var t=0;t=50>e?Math.floor(5e3/e):Math.floor(200-2*e),r(t),C=e}}function b(){var e=(new Date).getTime();t||(t=50),m(),i(),a(),o(),y(t);(new Date).getTime()-e}var x,w,k,S,C,T=(Math.round,Math.floor),O=new Array(64),M=new Array(64),A=new Array(64),L=new Array(64),E=new Array(65535),U=new Array(65535),N=new Array(64),I=new Array(64),R=[],P=0,D=7,j=new Array(64),B=new Array(64),H=new Array(64),W=new Array(256),F=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Y=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(t,r){(new Date).getTime();r&&y(r),R=new Array,P=0,D=7,u(65496),f(),d(),h(t.width,t.height),p(),v();var n=0,i=0,a=0;P=0,D=7,this.encode.displayName="_encode_";for(var o,l,c,m,b,C,T,O,M,E=t.data,U=t.width,N=t.height,I=4*U,W=0;N>W;){for(o=0;I>o;){for(b=I*W+o,C=b,T=-1,O=0,M=0;64>M;M++)O=M>>3,T=4*(7&M),C=b+O*I+T,W+O>=N&&(C-=I*(W+1+O-N)),o+T>=I&&(C-=o+T-I+4),l=E[C++],c=E[C++],m=E[C++],j[M]=(F[l]+F[c+256>>0]+F[m+512>>0]>>16)-128,B[M]=(F[l+768>>0]+F[c+1024>>0]+F[m+1280>>0]>>16)-128,H[M]=(F[l+1280>>0]+F[c+1536>>0]+F[m+1792>>0]>>16)-128;n=g(j,A,n,x,k),i=g(B,L,i,w,S),a=g(H,L,a,w,S),o+=32}W+=8}if(D>=0){var _=[];_[1]=D+1,_[0]=(1<<D+1)-1,s(_)}return u(65497),new e(R)},b()}function n(e,t){"undefined"==typeof t&&(t=50);var n=new r(t),i=n.encode(e,t);return{data:i,width:e.width,height:e.height}}t.exports=n}).call(this,e("buffer").Buffer)},{buffer:2}],9:[function(e,t,r){(function(n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s="undefined"!=typeof window?window.Rune:"undefined"!=typeof n?n.Rune:null,l=i(s),u=e("jpeg-js"),c=i(u),f=function(){function t(e){a(this,t),this.url=e}return o(t,[{key:"load",value:function(e){var t=this,r="undefined"==typeof window,n=r?this.loadFromFile:this.loadFromUrl;n(this.url,function(r,n){if(r)return e(r);var i=c["default"].decode(n);return t.pixels=i.data,t.width=i.width,t.height=i.height,e(null)})}},{key:"loadFromFile",value:function(t,r){var n=e("fs");n.readFile(t,function(e,t){return e?r(e.message):void r(null,this.toArrayBuffer(t))})}},{key:"loadFromUrl",value:function(e,t){var r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="arraybuffer",r.onload=function(){return 200!==r.status?t("Image could not be loaded: "+r.statusText):t(null,r.response)},r.send()}},{key:"toArrayBuffer",value:function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n+=1)r[n]=e[n];return t}},{key:"get",value:function(e,t){if(!this.pixels)throw Error("You must load image before accessing pixel data");var r=4*(t*this.width+e);return new l["default"].Color(this.pixels[r],this.pixels[r+1],this.pixels[r+2])}}]),t}();r["default"]=f,t.exports=r["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{fs:1,"jpeg-js":6}]},{},[9])(9)}),!function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function e(r,n){if(!(this instanceof e))return new e(r,n);this.options=n=n?Pi(n):{},Pi(Xa,n,!1),d(n);var i=n.value;"string"==typeof i&&(i=new bo(i,n.mode,null,n.lineSeparator)),this.doc=i;var a=new e.inputStyles[n.inputStyle](this),o=this.display=new t(r,i,a);o.wrapper.CodeMirror=this,u(this),s(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!Ca&&o.input.focus(),m(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ai,keySeq:null,specialChars:null};var l=this;pa&&11>va&&setTimeout(function(){l.display.input.reset(!0)},20),Ft(this),Yi(),bt(this),this.curOp.forceUpdate=!0,Kn(this,i),n.autofocus&&!Ca||l.hasFocus()?setTimeout(Di(vr,this),20):gr(this);for(var c in Ka)Ka.hasOwnProperty(c)&&Ka[c](this,n[c],$a);k(this),n.finishInit&&n.finishInit(this);for(var f=0;f<eo.length;++f)eo[f](this);wt(this),ga&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function t(e,t,r){var n=this;this.input=r,n.scrollbarFiller=Wi("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=Wi("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=Wi("div",null,"CodeMirror-code"),n.selectionDiv=Wi("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Wi("div",null,"CodeMirror-cursors"),n.measure=Wi("div",null,"CodeMirror-measure"),n.lineMeasure=Wi("div",null,"CodeMirror-measure"),n.lineSpace=Wi("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Wi("div",[Wi("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Wi("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Wi("div",null,null,"position: absolute; height: "+Lo+"px; width: 1px;"),n.gutters=Wi("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Wi("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Wi("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),pa&&8>va&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),ga||fa&&Ca||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,r.init(n)}function r(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),n(t)}function n(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Be(e,100),e.state.modeGen++,e.curOp&&Rt(e)}function i(e){e.options.lineWrapping?(qo(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Vo(e.display.wrapper,"CodeMirror-wrap"),h(e)),o(e),Rt(e),ot(e),setTimeout(function(){y(e)},100)}function a(e){var t=mt(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/yt(e.display)-3);return function(i){if(wn(e.doc,i))return 0;var a=0;if(i.widgets)for(var o=0;o<i.widgets.length;o++)i.widgets[o].height&&(a+=i.widgets[o].height);return r?a+(Math.ceil(i.text.length/n)||1)*t:a+t}}function o(e){var t=e.doc,r=a(e);t.iter(function(e){var t=r(e);t!=e.height&&Qn(e,t)})}function s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ot(e)}function l(e){u(e),Rt(e),setTimeout(function(){w(e)},20)}function u(e){var t=e.display.gutters,r=e.options.gutters;Fi(t);for(var n=0;n<r.length;++n){var i=r[n],a=t.appendChild(Wi("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=a,a.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",c(e)}function c(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function f(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=pn(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=vn(n);){var i=t.find(0,!0);r-=n.text.length-i.from.ch,n=i.to.line,r+=n.text.length-i.to.ch}return r}function h(e){var t=e.display,r=e.doc;t.maxLine=$n(r,r.first),t.maxLineLength=f(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=f(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function d(e){var t=Ui(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function p(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+ze(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Ve(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function v(e,t,r){this.cm=r;var n=this.vert=Wi("div",[Wi("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Wi("div",[Wi("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(i),To(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),To(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedOverlay=!1,pa&&8>va&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function m(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Vo(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),To(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,r){"horizontal"==r?nr(t,e):rr(t,e)},t),t.display.scrollbars.addClass&&qo(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=p(e));var r=e.display.barWidth,n=e.display.barHeight;b(e,t);for(var i=0;4>i&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&U(e),b(e,p(e)),r=e.display.barWidth,n=e.display.barHeight}function b(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function x(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-_e(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,a=ti(t,n),o=ti(t,i);if(r&&r.ensure){var s=r.ensure.from.line,l=r.ensure.to.line;a>s?(a=s,o=ti(t,ri($n(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=o&&(a=ti(t,ri($n(t,l))-e.wrapper.clientHeight),o=l)}return{from:a,to:Math.max(o,a+1)}}function w(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=C(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,a=n+"px",o=0;o<r.length;o++)if(!r[o].hidden){e.options.fixedGutter&&r[o].gutter&&(r[o].gutter.style.left=a);var s=r[o].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function k(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=S(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(Wi("div",[Wi("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=i.firstChild.offsetWidth,o=i.offsetWidth-a;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(a,n.lineGutter.offsetWidth-o)+1,n.lineNumWidth=n.lineNumInnerWidth+o,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",c(e),!0}return!1}function S(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function C(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function T(e,t,r){var n=e.display;this.viewport=t,this.visible=x(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=qe(e),this.force=r,this.dims=I(e),this.events=[]}function O(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ve(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ve(e)+"px",t.scrollbarsClipped=!0)}function M(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return Dt(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Wt(e))return!1;k(e)&&(Dt(e),t.dims=I(e));var i=n.first+n.size,a=Math.max(t.visible.from-e.options.viewportMargin,n.first),o=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(n.first,r.viewFrom)),r.viewTo>o&&r.viewTo-o<20&&(o=Math.min(i,r.viewTo)),Ua&&(a=bn(e.doc,a),o=xn(e.doc,o));var s=a!=r.viewFrom||o!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;Ht(e,a,o),r.viewOffset=ri($n(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var l=Wt(e);if(!s&&0==l&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var u=zi();return l>4&&(r.lineDiv.style.display="none"),R(e,r.updateLineNumbers,t.dims),l>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,u&&zi()!=u&&u.offsetHeight&&u.focus(),Fi(r.cursorDiv),Fi(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,Be(e,400)),r.updateLineNumbers=null,!0}function A(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=qe(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+ze(e.display)-Ye(e),r.top)}),t.visible=x(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&M(e,t);n=!1){U(e);var i=p(e);Ie(e),E(e,i),y(e,i)}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function L(e,t){var r=new T(e,t);if(M(e,r)){U(e),A(e,r);var n=p(e);Ie(e),E(e,n),y(e,n),r.finish()}}function E(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var r=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=r+"px",e.display.gutters.style.height=Math.max(r+Ve(e),t.clientHeight)+"px"}function U(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i,a=t.view[n];if(!a.hidden){if(pa&&8>va){var o=a.node.offsetTop+a.node.offsetHeight;i=o-r,r=o}else{var s=a.node.getBoundingClientRect();i=s.bottom-s.top}var l=a.line.height-i;if(2>i&&(i=mt(t)),(l>.001||-.001>l)&&(Qn(a.line,i),N(a.line),a.rest))for(var u=0;u<a.rest.length;u++)N(a.rest[u])}}}function N(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function I(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,a=t.gutters.firstChild,o=0;a;a=a.nextSibling,++o)r[e.options.gutters[o]]=a.offsetLeft+a.clientLeft+i,n[e.options.gutters[o]]=a.clientWidth;return{fixedPos:C(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function R(e,t,r){function n(t){var r=t.nextSibling;return ga&&Ta&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var i=e.display,a=e.options.lineNumbers,o=i.lineDiv,s=o.firstChild,l=i.view,u=i.viewFrom,c=0;c<l.length;c++){var f=l[c];if(f.hidden);else if(f.node&&f.node.parentNode==o){for(;s!=f.node;)s=n(s);var h=a&&null!=t&&u>=t&&f.lineNumber;f.changes&&(Ui(f.changes,"gutter")>-1&&(h=!1),P(e,f,u,r)),h&&(Fi(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(S(e.options,u)))),s=f.node.nextSibling}else{var d=z(e,f,u,r);o.insertBefore(d,s)}u+=f.size}for(;s;)s=n(s)}function P(e,t,r,n){for(var i=0;i<t.changes.length;i++){var a=t.changes[i];"text"==a?H(e,t):"gutter"==a?F(e,t,r,n):"class"==a?W(t):"widget"==a&&_(e,t,n)}t.changes=null}function D(e){return e.node==e.text&&(e.node=Wi("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),pa&&8>va&&(e.node.style.zIndex=2)),e.node}function j(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var r=D(e);e.background=r.insertBefore(Wi("div",null,t),r.firstChild)}}function B(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):jn(e,t)}function H(e,t){var r=t.text.className,n=B(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,W(t)):r&&(t.text.className=r)}function W(e){j(e),e.line.wrapClass?D(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function F(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=D(t);t.gutterBackground=Wi("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var i=D(t),o=t.gutter=Wi("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(o),i.insertBefore(o,t.text),t.line.gutterClass&&(o.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=o.appendChild(Wi("div",S(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],u=a.hasOwnProperty(l)&&a[l];u&&o.appendChild(Wi("div",[u],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function _(e,t,r){t.alignable&&(t.alignable=null);for(var n,i=t.node.firstChild;i;i=n){var n=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}G(e,t,r)}function z(e,t,r,n){var i=B(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),W(t),F(e,t,r,n),G(e,t,n),t.node}function G(e,t,r){if(V(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)V(e,t.rest[n],t,r,!1)}function V(e,t,r,n,i){if(t.widgets)for(var a=D(r),o=0,s=t.widgets;o<s.length;++o){var l=s[o],u=Wi("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),q(l,u,r,n),e.display.input.setUneditable(u),i&&l.above?a.insertBefore(u,r.gutter||r.text):a.appendChild(u),ki(l,"redraw")}}function q(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Y(e){return Na(e.line,e.ch)}function X(e,t){return Ia(e,t)<0?t:e}function K(e,t){return Ia(e,t)<0?e:t}function $(e){e.state.focused||(e.display.input.focus(),vr(e))}function Z(e){return e.options.readOnly||e.doc.cantEdit}function J(e,t,r,n,i){var a=e.doc;e.display.shift=!1,n||(n=a.sel);var o=e.state.pasteIncoming||"paste"==i,s=a.splitLines(t),l=null;if(o&&n.ranges.length>1)if(Ra&&Ra.join("\n")==t){if(n.ranges.length%Ra.length==0){l=[];for(var u=0;u<Ra.length;u++)l.push(a.splitLines(Ra[u]))}}else s.length==n.ranges.length&&(l=Ni(s,function(e){return[e]}));for(var u=n.ranges.length-1;u>=0;u--){var c=n.ranges[u],f=c.from(),h=c.to();c.empty()&&(r&&r>0?f=Na(f.line,f.ch-r):e.state.overwrite&&!o&&(h=Na(h.line,Math.min($n(a,h.line).text.length,h.ch+Ei(s).length))));var d=e.curOp.updateInput,p={from:f,to:h,text:l?l[u%l.length]:s,origin:i||(o?"paste":e.state.cutIncoming?"cut":"+input")};Cr(e.doc,p),ki(e,"inputRead",e,p)}t&&!o&&ee(e,t),Dr(e),e.curOp.updateInput=d,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Q(e,t){var r=e.clipboardData&&e.clipboardData.getData("text/plain");return r?(e.preventDefault(),Z(t)||t.options.disableInput||At(t,function(){J(t,r,0,null,"paste")}),!0):void 0}function ee(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var a=e.getModeAt(i.head),o=!1;if(a.electricChars){for(var s=0;s<a.electricChars.length;s++)if(t.indexOf(a.electricChars.charAt(s))>-1){o=Br(e,i.head.line,"smart");break}}else a.electricInput&&a.electricInput.test($n(e.doc,i.head.line).text.slice(0,i.head.ch))&&(o=Br(e,i.head.line,"smart"));o&&ki(e,"electricInput",e,i.head.line)}}}function te(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,a={
anchor:Na(i,0),head:Na(i+1,0)};r.push(a),t.push(e.getRange(a.anchor,a.head))}return{text:t,ranges:r}}function re(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function ne(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ai,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function ie(){var e=Wi("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Wi("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ga?e.style.width="1000px":e.setAttribute("wrap","off"),Sa&&(e.style.border="1px solid black"),re(e),t}function ae(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ai,this.gracePeriod=!1}function oe(e,t){var r=Je(e,t.line);if(!r||r.hidden)return null;var n=$n(e.doc,t.line),i=Ke(r,n,t.line),a=ni(n),o="left";if(a){var s=sa(a,t.ch);o=s%2?"right":"left"}var l=tt(i.map,t.ch,o);return l.offset="right"==l.collapse?l.end:l.start,l}function se(e,t){return t&&(e.bad=!0),e}function le(e,t,r){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[r],!n)return se(e.clipPos(Na(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var a=e.display.view[i];if(a.node==n)return ue(a,t,r)}}function ue(e,t,r){function n(t,r,n){for(var i=-1;i<(c?c.length:0);i++)for(var a=0>i?u.map:c[i],o=0;o<a.length;o+=3){var s=a[o+2];if(s==t||s==r){var l=ei(0>i?e.line:e.rest[i]),f=a[o]+n;return(0>n||s!=t)&&(f=a[o+(n?1:0)]),Na(l,f)}}}var i=e.text.firstChild,a=!1;if(!t||!_o(i,t))return se(Na(ei(e.line),0),!0);if(t==i&&(a=!0,t=i.childNodes[r],r=0,!t)){var o=e.rest?Ei(e.rest):e.line;return se(Na(ei(o),o.text.length),a)}var s=3==t.nodeType?t:null,l=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,r&&(r=s.nodeValue.length));l.parentNode!=i;)l=l.parentNode;var u=e.measure,c=u.maps,f=n(s,l,r);if(f)return se(f,a);for(var h=l.nextSibling,d=s?s.nodeValue.length-r:0;h;h=h.nextSibling){if(f=n(h,h.firstChild,0))return se(Na(f.line,f.ch-d),a);d+=h.textContent.length}for(var p=l.previousSibling,d=r;p;p=p.previousSibling){if(f=n(p,p.firstChild,-1))return se(Na(f.line,f.ch+d),a);d+=h.textContent.length}}function ce(e,t,r,n,i){function a(e){return function(t){return t.id==e}}function o(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return""==r&&(r=t.textContent.replace(/\u200b/g,"")),void(s+=r);var c,f=t.getAttribute("cm-marker");if(f){var h=e.findMarks(Na(n,0),Na(i+1,0),a(+f));return void(h.length&&(c=h[0].find())&&(s+=Zn(e.doc,c.from,c.to).join(u)))}if("false"==t.getAttribute("contenteditable"))return;for(var d=0;d<t.childNodes.length;d++)o(t.childNodes[d]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;l&&(s+=u,l=!1),s+=p}}for(var s="",l=!1,u=e.doc.lineSeparator();o(t),t!=r;)t=t.nextSibling;return s}function fe(e,t){this.ranges=e,this.primIndex=t}function he(e,t){this.anchor=e,this.head=t}function de(e,t){var r=e[t];e.sort(function(e,t){return Ia(e.from(),t.from())}),t=Ui(e,r);for(var n=1;n<e.length;n++){var i=e[n],a=e[n-1];if(Ia(a.to(),i.from())>=0){var o=K(a.from(),i.from()),s=X(a.to(),i.to()),l=a.empty()?i.from()==i.head:a.from()==a.head;t>=n&&--t,e.splice(--n,2,new he(l?s:o,l?o:s))}}return new fe(e,t)}function pe(e,t){return new fe([new he(e,t||e)],0)}function ve(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ge(e,t){if(t.line<e.first)return Na(e.first,0);var r=e.first+e.size-1;return t.line>r?Na(r,$n(e,r).text.length):me(t,$n(e,t.line).text.length)}function me(e,t){var r=e.ch;return null==r||r>t?Na(e.line,t):0>r?Na(e.line,0):e}function ye(e,t){return t>=e.first&&t<e.first+e.size}function be(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=ge(e,t[n]);return r}function xe(e,t,r,n){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(n){var a=Ia(r,i)<0;a!=Ia(n,i)<0?(i=r,r=n):a!=Ia(r,n)<0&&(r=n)}return new he(i,r)}return new he(n||r,r)}function we(e,t,r,n){Me(e,new fe([xe(e,e.sel.primary(),t,r)],0),n)}function ke(e,t,r){for(var n=[],i=0;i<e.sel.ranges.length;i++)n[i]=xe(e,e.sel.ranges[i],t[i],null);var a=de(n,e.sel.primIndex);Me(e,a,r)}function Se(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,Me(e,de(i,e.sel.primIndex),n)}function Ce(e,t,r,n){Me(e,pe(t,r),n)}function Te(e,t){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new he(ge(e,t[r].anchor),ge(e,t[r].head))}};return Mo(e,"beforeSelectionChange",e,r),e.cm&&Mo(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?de(r.ranges,r.ranges.length-1):t}function Oe(e,t,r){var n=e.history.done,i=Ei(n);i&&i.ranges?(n[n.length-1]=t,Ae(e,t,r)):Me(e,t,r)}function Me(e,t,r){Ae(e,t,r),ci(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Ae(e,t,r){(Oi(e,"beforeSelectionChange")||e.cm&&Oi(e.cm,"beforeSelectionChange"))&&(t=Te(e,t));var n=r&&r.bias||(Ia(t.primary().head,e.sel.primary().head)<0?-1:1);Le(e,Ue(e,t,n,!0)),r&&r.scroll===!1||!e.cm||Dr(e.cm)}function Le(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ti(e.cm)),ki(e,"cursorActivity",e))}function Ee(e){Le(e,Ue(e,e.sel,null,!1),Uo)}function Ue(e,t,r,n){for(var i,a=0;a<t.ranges.length;a++){var o=t.ranges[a],s=Ne(e,o.anchor,r,n),l=Ne(e,o.head,r,n);(i||s!=o.anchor||l!=o.head)&&(i||(i=t.ranges.slice(0,a)),i[a]=new he(s,l))}return i?de(i,t.primIndex):t}function Ne(e,t,r,n){var i=!1,a=t,o=r||1;e.cantEdit=!1;e:for(;;){var s=$n(e,a.line);if(s.markedSpans)for(var l=0;l<s.markedSpans.length;++l){var u=s.markedSpans[l],c=u.marker;if((null==u.from||(c.inclusiveLeft?u.from<=a.ch:u.from<a.ch))&&(null==u.to||(c.inclusiveRight?u.to>=a.ch:u.to>a.ch))){if(n&&(Mo(c,"beforeCursorEnter"),c.explicitlyCleared)){if(s.markedSpans){--l;continue}break}if(!c.atomic)continue;var f=c.find(0>o?-1:1);if(0==Ia(f,a)&&(f.ch+=o,f.ch<0?f=f.line>e.first?ge(e,Na(f.line-1)):null:f.ch>s.text.length&&(f=f.line<e.first+e.size-1?Na(f.line+1,0):null),!f)){if(i)return n?(e.cantEdit=!0,Na(e.first,0)):Ne(e,t,r,!0);i=!0,f=t,o=-o}a=f;continue e}}return a}}function Ie(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Re(e,t){for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),a=n.selection=document.createDocumentFragment(),o=0;o<r.sel.ranges.length;o++)if(t!==!1||o!=r.sel.primIndex){var s=r.sel.ranges[o],l=s.empty();(l||e.options.showCursorWhenSelecting)&&Pe(e,s.head,i),l||De(e,s,a)}return n}function Pe(e,t,r){var n=ht(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(Wi("div","\xa0","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var a=r.appendChild(Wi("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=n.other.left+"px",a.style.top=n.other.top+"px",a.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function De(e,t,r){function n(e,t,r,n){0>t&&(t=0),t=Math.round(t),n=Math.round(n),s.appendChild(Wi("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==r?c-e:r)+"px; height: "+(n-t)+"px"))}function i(t,r,i){function a(r,n){return ft(e,Na(t,r),"div",f,n)}var s,l,f=$n(o,t),h=f.text.length;return Ji(ni(f),r||0,null==i?h:i,function(e,t,o){var f,d,p,v=a(e,"left");if(e==t)f=v,d=p=v.left;else{if(f=a(t-1,"right"),"rtl"==o){var g=v;v=f,f=g}d=v.left,p=f.right}null==r&&0==e&&(d=u),f.top-v.top>3&&(n(d,v.top,null,v.bottom),d=u,v.bottom<f.top&&n(d,v.bottom,null,f.top)),null==i&&t==h&&(p=c),(!s||v.top<s.top||v.top==s.top&&v.left<s.left)&&(s=v),(!l||f.bottom>l.bottom||f.bottom==l.bottom&&f.right>l.right)&&(l=f),u+1>d&&(d=u),n(d,f.top,p-d,f.bottom)}),{start:s,end:l}}var a=e.display,o=e.doc,s=document.createDocumentFragment(),l=Ge(e.display),u=l.left,c=Math.max(a.sizerWidth,qe(e)-a.sizer.offsetLeft)-l.right,f=t.from(),h=t.to();if(f.line==h.line)i(f.line,f.ch,h.ch);else{var d=$n(o,f.line),p=$n(o,h.line),v=mn(d)==mn(p),g=i(f.line,f.ch,v?d.text.length+1:null).end,m=i(h.line,v?0:null,h.ch).start;v&&(g.top<m.top-2?(n(g.right,g.top,null,g.bottom),n(u,m.top,m.left,m.bottom)):n(g.right,g.top,m.left-g.right,g.bottom)),g.bottom<m.top&&n(u,g.bottom,null,m.top)}r.appendChild(s)}function je(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Be(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Di(He,e))}function He(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=ro(t.mode,Fe(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(a){if(t.frontier>=e.display.viewFrom){var o=a.styles,s=a.text.length>e.options.maxHighlightLength,l=In(e,a,s?ro(t.mode,n):n,!0);a.styles=l.styles;var u=a.styleClasses,c=l.classes;c?a.styleClasses=c:u&&(a.styleClasses=null);for(var f=!o||o.length!=a.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<o.length;++h)f=o[h]!=a.styles[h];f&&i.push(t.frontier),a.stateAfter=s?n:ro(t.mode,n)}else a.text.length<=e.options.maxHighlightLength&&Pn(e,a.text,n),a.stateAfter=t.frontier%5==0?ro(t.mode,n):null;return++t.frontier,+new Date>r?(Be(e,e.options.workDelay),!0):void 0}),i.length&&At(e,function(){for(var t=0;t<i.length;t++)Pt(e,i[t],"text")})}}function We(e,t,r){for(var n,i,a=e.doc,o=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>o;--s){if(s<=a.first)return a.first;var l=$n(a,s-1);if(l.stateAfter&&(!r||s<=a.frontier))return s;var u=Ro(l.text,null,e.options.tabSize);(null==i||n>u)&&(i=s-1,n=u)}return i}function Fe(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return!0;var a=We(e,t,r),o=a>n.first&&$n(n,a-1).stateAfter;return o=o?ro(n.mode,o):no(n.mode),n.iter(a,t,function(r){Pn(e,r.text,o);var s=a==t-1||a%5==0||a>=i.viewFrom&&a<i.viewTo;r.stateAfter=s?ro(n.mode,o):null,++a}),r&&(n.frontier=a),o}function _e(e){return e.lineSpace.offsetTop}function ze(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ge(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=_i(e.measure,Wi("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Ve(e){return Lo-e.display.nativeBarWidth}function qe(e){return e.display.scroller.clientWidth-Ve(e)-e.display.barWidth}function Ye(e){return e.display.scroller.clientHeight-Ve(e)-e.display.barHeight}function Xe(e,t,r){var n=e.options.lineWrapping,i=n&&qe(e);if(!t.measure.heights||n&&t.measure.width!=i){var a=t.measure.heights=[];if(n){t.measure.width=i;for(var o=t.text.firstChild.getClientRects(),s=0;s<o.length-1;s++){var l=o[s],u=o[s+1];Math.abs(l.bottom-u.bottom)>2&&a.push((l.bottom+u.top)/2-r.top)}}a.push(r.bottom-r.top)}}function Ke(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var n=0;n<e.rest.length;n++)if(ei(e.rest[n])>r)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function $e(e,t){t=mn(t);var r=ei(t),n=e.display.externalMeasured=new Nt(e.doc,t,r);n.lineN=r;var i=n.built=jn(e,n);return n.text=i.pre,_i(e.display.lineMeasure,i.pre),n}function Ze(e,t,r,n){return et(e,Qe(e,t),r,n)}function Je(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[jt(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Qe(e,t){var r=ei(t),n=Je(e,r);n&&!n.text?n=null:n&&n.changes&&(P(e,n,r,I(e)),e.curOp.forceUpdate=!0),n||(n=$e(e,t));var i=Ke(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function et(e,t,r,n,i){t.before&&(r=-1);var a,o=r+(n||"");return t.cache.hasOwnProperty(o)?a=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Xe(e,t.view,t.rect),t.hasHeights=!0),a=rt(e,t,r,n),a.bogus||(t.cache[o]=a)),{left:a.left,right:a.right,top:i?a.rtop:a.top,bottom:i?a.rbottom:a.bottom}}function tt(e,t,r){for(var n,i,a,o,s=0;s<e.length;s+=3){var l=e[s],u=e[s+1];if(l>t?(i=0,a=1,o="left"):u>t?(i=t-l,a=i+1):(s==e.length-3||t==u&&e[s+3]>t)&&(a=u-l,i=a-1,t>=u&&(o="right")),null!=i){if(n=e[s+2],l==u&&r==(n.insertLeft?"left":"right")&&(o=r),"left"==r&&0==i)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)n=e[(s-=3)+2],o="left";if("right"==r&&i==u-l)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)n=e[(s+=3)+2],o="right";break}}return{node:n,start:i,end:a,collapse:o,coverStart:l,coverEnd:u}}function rt(e,t,r,n){var i,a=tt(t.map,r,n),o=a.node,s=a.start,l=a.end,u=a.collapse;if(3==o.nodeType){for(var c=0;4>c;c++){for(;s&&Hi(t.line.text.charAt(a.coverStart+s));)--s;for(;a.coverStart+l<a.coverEnd&&Hi(t.line.text.charAt(a.coverStart+l));)++l;if(pa&&9>va&&0==s&&l==a.coverEnd-a.coverStart)i=o.parentNode.getBoundingClientRect();else if(pa&&e.options.lineWrapping){var f=Bo(o,s,l).getClientRects();i=f.length?f["right"==n?f.length-1:0]:Ba}else i=Bo(o,s,l).getBoundingClientRect()||Ba;if(i.left||i.right||0==s)break;l=s,s-=1,u="right"}pa&&11>va&&(i=nt(e.display.measure,i))}else{s>0&&(u=n="right");var f;i=e.options.lineWrapping&&(f=o.getClientRects()).length>1?f["right"==n?f.length-1:0]:o.getBoundingClientRect()}if(pa&&9>va&&!s&&(!i||!i.left&&!i.right)){var h=o.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+yt(e.display),top:h.top,bottom:h.bottom}:Ba}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,v=(d+p)/2,g=t.view.measure.heights,c=0;c<g.length-1&&!(v<g[c]);c++);var m=c?g[c-1]:0,y=g[c],b={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:m,bottom:y};return i.left||i.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=d,b.rbottom=p),b}function nt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Zi(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function it(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function at(e){e.display.externalMeasure=null,Fi(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)it(e.display.view[t])}function ot(e){at(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function st(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function lt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ut(e,t,r,n){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var a=Cn(t.widgets[i]);r.top+=a,r.bottom+=a}if("line"==n)return r;n||(n="local");var o=ri(t);if("local"==n?o+=_e(e.display):o-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();o+=s.top+("window"==n?0:lt());var l=s.left+("window"==n?0:st());r.left+=l,r.right+=l}return r.top+=o,r.bottom+=o,r}function ct(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=st(),i-=lt();else if("local"==r||!r){var a=e.display.sizer.getBoundingClientRect();n+=a.left,i+=a.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:n-o.left,top:i-o.top}}function ft(e,t,r,n,i){return n||(n=$n(e.doc,t.line)),ut(e,n,Ze(e,n,t.ch,i),r)}function ht(e,t,r,n,i,a){function o(t,o){var s=et(e,i,t,o?"right":"left",a);return o?s.left=s.right:s.right=s.left,ut(e,n,s,r)}function s(e,t){var r=l[t],n=r.level%2;return e==Qi(r)&&t&&r.level<l[t-1].level?(r=l[--t],e=ea(r)-(r.level%2?0:1),n=!0):e==ea(r)&&t<l.length-1&&r.level<l[t+1].level&&(r=l[++t],e=Qi(r)-r.level%2,n=!1),n&&e==r.to&&e>r.from?o(e-1):o(e,n)}n=n||$n(e.doc,t.line),i||(i=Qe(e,n));var l=ni(n),u=t.ch;if(!l)return o(u);var c=sa(l,u),f=s(u,c);return null!=es&&(f.other=s(u,es)),f}function dt(e,t){var r=0,t=ge(e.doc,t);e.options.lineWrapping||(r=yt(e.display)*t.ch);var n=$n(e.doc,t.line),i=ri(n)+_e(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function pt(e,t,r,n){var i=Na(e,t);return i.xRel=n,r&&(i.outside=!0),i}function vt(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,0>r)return pt(n.first,0,!0,-1);var i=ti(n,r),a=n.first+n.size-1;if(i>a)return pt(n.first+n.size-1,$n(n,a).text.length,!0,1);0>t&&(t=0);for(var o=$n(n,i);;){var s=gt(e,o,i,t,r),l=vn(o),u=l&&l.find(0,!0);if(!l||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=ei(o=u.to.line)}}function gt(e,t,r,n,i){function a(n){var i=ht(e,Na(r,n),"line",t,u);return s=!0,o>i.bottom?i.left-l:o<i.top?i.left+l:(s=!1,i.left)}var o=i-ri(t),s=!1,l=2*e.display.wrapper.clientWidth,u=Qe(e,t),c=ni(t),f=t.text.length,h=ta(t),d=ra(t),p=a(h),v=s,g=a(d),m=s;if(n>g)return pt(r,d,m,1);for(;;){if(c?d==h||d==ua(t,h,1):1>=d-h){for(var y=p>n||g-n>=n-p?h:d,b=n-(y==h?p:g);Hi(t.text.charAt(y));)++y;var x=pt(r,y,y==h?v:m,-1>b?-1:b>1?1:0);return x}var w=Math.ceil(f/2),k=h+w;if(c){k=h;for(var S=0;w>S;++S)k=ua(t,k,1)}var C=a(k);C>n?(d=k,g=C,(m=s)&&(g+=1e3),f=w):(h=k,p=C,v=s,f-=w)}}function mt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Pa){Pa=Wi("pre");for(var t=0;49>t;++t)Pa.appendChild(document.createTextNode("x")),Pa.appendChild(Wi("br"));Pa.appendChild(document.createTextNode("x"))}_i(e.measure,Pa);var r=Pa.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),Fi(e.measure),r||1}function yt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Wi("span","xxxxxxxxxx"),r=Wi("pre",[t]);_i(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function bt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Wa},Ha?Ha.ops.push(e.curOp):e.curOp.ownsGroup=Ha={ops:[e.curOp],delayedCallbacks:[]}}function xt(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function wt(e){var t=e.curOp,r=t.ownsGroup;if(r)try{xt(r)}finally{Ha=null;for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;kt(r)}}function kt(e){for(var t=e.ops,r=0;r<t.length;r++)St(t[r]);for(var r=0;r<t.length;r++)Ct(t[r]);for(var r=0;r<t.length;r++)Tt(t[r]);for(var r=0;r<t.length;r++)Ot(t[r]);for(var r=0;r<t.length;r++)Mt(t[r])}function St(e){var t=e.cm,r=t.display;O(t),e.updateMaxLine&&h(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new T(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ct(e){e.updatedDisplay=e.mustUpdate&&M(e.cm,e.update)}function Tt(e){var t=e.cm,r=t.display;e.updatedDisplay&&U(t),e.barMeasure=p(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Ze(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Ve(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-qe(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Ot(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&nr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&E(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.selectionChanged&&je(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),e.focus&&e.focus==zi()&&$(e.cm)}function Mt(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&A(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null==e.scrollTop||r.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(n.scrollTop=Math.max(0,Math.min(r.scroller.scrollHeight-r.scroller.clientHeight,e.scrollTop)),r.scrollbars.setScrollTop(n.scrollTop),r.scroller.scrollTop=n.scrollTop),null==e.scrollLeft||r.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(n.scrollLeft=Math.max(0,Math.min(r.scroller.scrollWidth-qe(t),e.scrollLeft)),r.scrollbars.setScrollLeft(n.scrollLeft),r.scroller.scrollLeft=n.scrollLeft,w(t)),e.scrollToPos){var i=Nr(t,ge(n,e.scrollToPos.from),ge(n,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Ur(t,i)}var a=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(a)for(var s=0;s<a.length;++s)a[s].lines.length||Mo(a[s],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&Mo(o[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Mo(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function At(e,t){if(e.curOp)return t();bt(e);try{return t()}finally{wt(e)}}function Lt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);bt(e);try{return t.apply(e,arguments)}finally{wt(e)}}}function Et(e){return function(){if(this.curOp)return e.apply(this,arguments);bt(this);try{return e.apply(this,arguments)}finally{wt(this)}}}function Ut(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);bt(t);try{return e.apply(this,arguments)}finally{wt(t)}}}function Nt(e,t,r){this.line=t,this.rest=yn(t),this.size=this.rest?ei(Ei(this.rest))-r+1:1,this.node=this.text=null,this.hidden=wn(e,t)}function It(e,t,r){for(var n,i=[],a=t;r>a;a=n){var o=new Nt(e.doc,$n(e.doc,a),a);n=a+o.size,i.push(o)}return i}function Rt(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ua&&bn(e.doc,t)<i.viewTo&&Dt(e);else if(r<=i.viewFrom)Ua&&xn(e.doc,r+n)>i.viewFrom?Dt(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)Dt(e);else if(t<=i.viewFrom){var a=Bt(e,r,r+n,1);a?(i.view=i.view.slice(a.index),i.viewFrom=a.lineN,i.viewTo+=n):Dt(e)}else if(r>=i.viewTo){var a=Bt(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Dt(e)}else{var o=Bt(e,t,t,-1),s=Bt(e,r,r+n,1);o&&s?(i.view=i.view.slice(0,o.index).concat(It(e,o.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=n):Dt(e)}var l=i.externalMeasured;l&&(r<l.lineN?l.lineN+=n:t<l.lineN+l.size&&(i.externalMeasured=null))}function Pt(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var a=n.view[jt(e,t)];if(null!=a.node){var o=a.changes||(a.changes=[]);-1==Ui(o,r)&&o.push(r)}}}function Dt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function jt(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var r=e.display.view,n=0;n<r.length;n++)if(t-=r[n].size,0>t)return n}function Bt(e,t,r,n){var i,a=jt(e,t),o=e.display.view;if(!Ua||r==e.doc.first+e.doc.size)return{index:a,lineN:r};for(var s=0,l=e.display.viewFrom;a>s;s++)l+=o[s].size;if(l!=t){if(n>0){if(a==o.length-1)return null;i=l+o[a].size-t,a++}else i=l-t;t+=i,r+=i}for(;bn(e.doc,r)!=r;){if(a==(0>n?0:o.length-1))return null;r+=n*o[a-(0>n?1:0)].size,a+=n}return{index:a,lineN:r}}function Ht(e,t,r){var n=e.display,i=n.view;0==i.length||t>=n.viewTo||r<=n.viewFrom?(n.view=It(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=It(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(jt(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(It(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,jt(e,r)))),n.viewTo=r}function Wt(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Ft(e){function t(){i.activeTouch&&(a=setTimeout(function(){i.activeTouch=null},1e3),o=i.activeTouch,o.end=+new Date)}function r(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}var i=e.display;To(i.scroller,"mousedown",Lt(e,qt)),pa&&11>va?To(i.scroller,"dblclick",Lt(e,function(t){if(!Ci(e,t)){var r=Vt(e,t);if(r&&!Zt(e,t)&&!Gt(e.display,t)){ko(t);var n=e.findWordAt(r);we(e.doc,n.anchor,n.head)}}})):To(i.scroller,"dblclick",function(t){Ci(e,t)||ko(t)}),La||To(i.scroller,"contextmenu",function(t){mr(e,t)});var a,o={end:0};To(i.scroller,"touchstart",function(e){if(!r(e)){clearTimeout(a);var t=+new Date;i.activeTouch={start:t,moved:!1,prev:t-o.end<=300?o:null},1==e.touches.length&&(i.activeTouch.left=e.touches[0].pageX,i.activeTouch.top=e.touches[0].pageY)}}),To(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),To(i.scroller,"touchend",function(r){var a=i.activeTouch;if(a&&!Gt(i,r)&&null!=a.left&&!a.moved&&new Date-a.start<300){var o,s=e.coordsChar(i.activeTouch,"page");o=!a.prev||n(a,a.prev)?new he(s,s):!a.prev.prev||n(a,a.prev.prev)?e.findWordAt(s):new he(Na(s.line,0),ge(e.doc,Na(s.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),ko(r)}t()}),To(i.scroller,"touchcancel",t),To(i.scroller,"scroll",function(){i.scroller.clientHeight&&(rr(e,i.scroller.scrollTop),nr(e,i.scroller.scrollLeft,!0),Mo(e,"scroll",e))}),To(i.scroller,"mousewheel",function(t){ir(e,t)}),To(i.scroller,"DOMMouseScroll",function(t){ir(e,t)}),To(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Ci(e,t)||Co(t)},over:function(t){Ci(e,t)||(er(e,t),Co(t))},start:function(t){Qt(e,t)},drop:Lt(e,Jt),leave:function(){tr(e)}};var s=i.input.getField();To(s,"keyup",function(t){hr.call(e,t)}),To(s,"keydown",Lt(e,cr)),To(s,"keypress",Lt(e,dr)),To(s,"focus",Di(vr,e)),To(s,"blur",Di(gr,e))}function _t(t,r,n){var i=n&&n!=e.Init;if(!r!=!i){var a=t.display.dragFunctions,o=r?To:Oo;o(t.display.scroller,"dragstart",a.start),o(t.display.scroller,"dragenter",a.enter),o(t.display.scroller,"dragover",a.over),o(t.display.scroller,"dragleave",a.leave),o(t.display.scroller,"drop",a.drop)}}function zt(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Gt(e,t){for(var r=xi(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Vt(e,t,r,n){var i=e.display;if(!r&&"true"==xi(t).getAttribute("cm-not-content"))return null;var a,o,s=i.lineSpace.getBoundingClientRect();try{a=t.clientX-s.left,o=t.clientY-s.top}catch(t){return null}var l,u=vt(e,a,o);if(n&&1==u.xRel&&(l=$n(e.doc,u.line).text).length==u.ch){var c=Ro(l,l.length,e.options.tabSize)-l.length;u=Na(u.line,Math.max(0,Math.round((a-Ge(e.display).left)/yt(e.display))-c))}return u}function qt(e){var t=this,r=t.display;if(!(r.activeTouch&&r.input.supportsTouch()||Ci(t,e))){if(r.shift=e.shiftKey,Gt(r,e))return void(ga||(r.scroller.draggable=!1,setTimeout(function(){r.scroller.draggable=!0},100)));if(!Zt(t,e)){var n=Vt(t,e);switch(window.focus(),wi(e)){case 1:t.state.selectingText?t.state.selectingText(e):n?Yt(t,e,n):xi(e)==r.scroller&&ko(e);break;case 2:ga&&(t.state.lastMiddleDown=+new Date),n&&we(t.doc,n),setTimeout(function(){r.input.focus()},20),ko(e);break;case 3:La?mr(t,e):pr(t)}}}}function Yt(e,t,r){pa?setTimeout(Di($,e),0):e.curOp.focus=zi();var n,i=+new Date;ja&&ja.time>i-400&&0==Ia(ja.pos,r)?n="triple":Da&&Da.time>i-400&&0==Ia(Da.pos,r)?(n="double",ja={time:i,pos:r}):(n="single",Da={time:i,pos:r});var a,o=e.doc.sel,s=Ta?t.metaKey:t.ctrlKey;e.options.dragDrop&&Xo&&!Z(e)&&"single"==n&&(a=o.contains(r))>-1&&(Ia((a=o.ranges[a]).from(),r)<0||r.xRel>0)&&(Ia(a.to(),r)>0||r.xRel<0)?Xt(e,t,r,s):Kt(e,t,r,n,s)}function Xt(e,t,r,n){var i=e.display,a=+new Date,o=Lt(e,function(s){ga&&(i.scroller.draggable=!1),e.state.draggingText=!1,Oo(document,"mouseup",o),Oo(i.scroller,"drop",o),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(ko(s),!n&&+new Date-200<a&&we(e.doc,r),ga||pa&&9==va?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});ga&&(i.scroller.draggable=!0),e.state.draggingText=o,i.scroller.dragDrop&&i.scroller.dragDrop(),To(document,"mouseup",o),To(i.scroller,"drop",o)}function Kt(e,t,r,n,i){function a(t){if(0!=Ia(g,t))if(g=t,"rect"==n){for(var i=[],a=e.options.tabSize,o=Ro($n(u,r.line).text,r.ch,a),s=Ro($n(u,t.line).text,t.ch,a),l=Math.min(o,s),d=Math.max(o,s),p=Math.min(r.line,t.line),v=Math.min(e.lastLine(),Math.max(r.line,t.line));v>=p;p++){var m=$n(u,p).text,y=Po(m,l,a);l==d?i.push(new he(Na(p,y),Na(p,y))):m.length>y&&i.push(new he(Na(p,y),Na(p,Po(m,d,a))))}i.length||i.push(new he(r,r)),Me(u,de(h.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=c,x=b.anchor,w=t;if("single"!=n){if("double"==n)var k=e.findWordAt(t);else var k=new he(Na(t.line,0),ge(u,Na(t.line+1,0)));Ia(k.anchor,x)>0?(w=k.head,x=K(b.from(),k.anchor)):(w=k.anchor,x=X(b.to(),k.head))}var i=h.ranges.slice(0);i[f]=new he(ge(u,x),w),Me(u,de(i,f),No)}}function o(t){var r=++y,i=Vt(e,t,!0,"rect"==n);if(i)if(0!=Ia(i,g)){e.curOp.focus=zi(),a(i);var s=x(l,u);(i.line>=s.to||i.line<s.from)&&setTimeout(Lt(e,function(){y==r&&o(t)}),150)}else{var c=t.clientY<m.top?-20:t.clientY>m.bottom?20:0;c&&setTimeout(Lt(e,function(){y==r&&(l.scroller.scrollTop+=c,o(t))}),50)}}function s(t){e.state.selectingText=!1,y=1/0,ko(t),l.input.focus(),Oo(document,"mousemove",b),Oo(document,"mouseup",w),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;ko(t);var c,f,h=u.sel,d=h.ranges;if(i&&!t.shiftKey?(f=u.sel.contains(r),c=f>-1?d[f]:new he(r,r)):(c=u.sel.primary(),f=u.sel.primIndex),t.altKey)n="rect",i||(c=new he(r,r)),r=Vt(e,t,!0,!0),f=-1;else if("double"==n){var p=e.findWordAt(r);c=e.display.shift||u.extend?xe(u,c,p.anchor,p.head):p}else if("triple"==n){var v=new he(Na(r.line,0),ge(u,Na(r.line+1,0)));c=e.display.shift||u.extend?xe(u,c,v.anchor,v.head):v}else c=xe(u,c,r);i?-1==f?(f=d.length,Me(u,de(d.concat([c]),f),{scroll:!1,origin:"*mouse"})):d.length>1&&d[f].empty()&&"single"==n&&!t.shiftKey?(Me(u,de(d.slice(0,f).concat(d.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),h=u.sel):Se(u,f,c,No):(f=0,Me(u,new fe([c],0),No),h=u.sel);var g=r,m=l.wrapper.getBoundingClientRect(),y=0,b=Lt(e,function(e){wi(e)?o(e):s(e)}),w=Lt(e,s);e.state.selectingText=w,To(document,"mousemove",b),To(document,"mouseup",w)}function $t(e,t,r,n,i){try{var a=t.clientX,o=t.clientY}catch(t){return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&ko(t);var s=e.display,l=s.lineDiv.getBoundingClientRect();if(o>l.bottom||!Oi(e,r))return bi(t);o-=l.top-s.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var c=s.gutters.childNodes[u];if(c&&c.getBoundingClientRect().right>=a){var f=ti(e.doc,o),h=e.options.gutters[u];return i(e,r,e,f,h,t),bi(t)}}}function Zt(e,t){return $t(e,t,"gutterClick",!0,ki)}function Jt(e){var t=this;if(tr(t),!Ci(t,e)&&!Gt(t.display,e)){ko(e),pa&&(Fa=+new Date);var r=Vt(t,e,!0),n=e.dataTransfer.files;if(r&&!Z(t))if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,a=Array(i),o=0,s=function(e,n){var s=new FileReader;s.onload=Lt(t,function(){if(a[n]=s.result,++o==i){r=ge(t.doc,r);var e={from:r,to:r,text:t.doc.splitLines(a.join(t.doc.lineSeparator())),origin:"paste"};Cr(t.doc,e),Oe(t.doc,pe(r,Ya(e)))}}),s.readAsText(e)},l=0;i>l;++l)s(n[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var a=e.dataTransfer.getData("Text");if(a){if(t.state.draggingText&&!(Ta?e.altKey:e.ctrlKey))var u=t.listSelections();if(Ae(t.doc,pe(r,r)),u)for(var l=0;l<u.length;++l)Er(t.doc,"",u[l].anchor,u[l].head,"drag");t.replaceSelection(a,"around","paste"),
t.display.input.focus()}}catch(e){}}}}function Qt(e,t){if(pa&&(!e.state.draggingText||+new Date-Fa<100))return void Co(t);if(!Ci(e,t)&&!Gt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!xa)){var r=Wi("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ba&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),ba&&r.parentNode.removeChild(r)}}function er(e,t){var r=Vt(e,t);if(r){var n=document.createDocumentFragment();Pe(e,r,n),e.display.dragCursor||(e.display.dragCursor=Wi("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),_i(e.display.dragCursor,n)}}function tr(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function rr(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,fa||L(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),fa&&L(e),Be(e,100))}function nr(e,t,r){(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,w(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function ir(e,t){var r=Ga(t),n=r.x,i=r.y,a=e.display,o=a.scroller;if(n&&o.scrollWidth>o.clientWidth||i&&o.scrollHeight>o.clientHeight){if(i&&Ta&&ga)e:for(var s=t.target,l=a.view;s!=o;s=s.parentNode)for(var u=0;u<l.length;u++)if(l[u].node==s){e.display.currentWheelTarget=s;break e}if(n&&!fa&&!ba&&null!=za)return i&&rr(e,Math.max(0,Math.min(o.scrollTop+i*za,o.scrollHeight-o.clientHeight))),nr(e,Math.max(0,Math.min(o.scrollLeft+n*za,o.scrollWidth-o.clientWidth))),ko(t),void(a.wheelStartX=null);if(i&&null!=za){var c=i*za,f=e.doc.scrollTop,h=f+a.wrapper.clientHeight;0>c?f=Math.max(0,f+c-50):h=Math.min(e.doc.height,h+c+50),L(e,{top:f,bottom:h})}20>_a&&(null==a.wheelStartX?(a.wheelStartX=o.scrollLeft,a.wheelStartY=o.scrollTop,a.wheelDX=n,a.wheelDY=i,setTimeout(function(){if(null!=a.wheelStartX){var e=o.scrollLeft-a.wheelStartX,t=o.scrollTop-a.wheelStartY,r=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,r&&(za=(za*_a+r)/(_a+1),++_a)}},200)):(a.wheelDX+=n,a.wheelDY+=i))}}function ar(e,t,r){if("string"==typeof t&&(t=io[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{Z(e)&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=Eo}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function or(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=oo(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&oo(t,e.options.extraKeys,r,e)||oo(t,e.options.keyMap,r,e)}function sr(e,t,r,n){var i=e.state.keySeq;if(i){if(so(t))return"handled";Va.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var a=or(e,t,n);return"multi"==a&&(e.state.keySeq=t),"handled"==a&&ki(e,"keyHandled",e,t,r),("handled"==a||"multi"==a)&&(ko(r),je(e)),i&&!a&&/\'$/.test(t)?(ko(r),!0):!!a}function lr(e,t){var r=lo(t,!0);return r?t.shiftKey&&!e.state.keySeq?sr(e,"Shift-"+r,t,function(t){return ar(e,t,!0)})||sr(e,r,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?ar(e,t):void 0}):sr(e,r,t,function(t){return ar(e,t)}):!1}function ur(e,t,r){return sr(e,"'"+r+"'",t,function(t){return ar(e,t,!0)})}function cr(e){var t=this;if(t.curOp.focus=zi(),!Ci(t,e)){pa&&11>va&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=lr(t,e);ba&&(qa=n?r:null,!n&&88==r&&!Zo&&(Ta?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||fr(t)}}function fr(e){function t(e){18!=e.keyCode&&e.altKey||(Vo(r,"CodeMirror-crosshair"),Oo(document,"keyup",t),Oo(document,"mouseover",t))}var r=e.display.lineDiv;qo(r,"CodeMirror-crosshair"),To(document,"keyup",t),To(document,"mouseover",t)}function hr(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ci(this,e)}function dr(e){var t=this;if(!(Gt(t.display,e)||Ci(t,e)||e.ctrlKey&&!e.altKey||Ta&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(ba&&r==qa)return qa=null,void ko(e);if(!ba||e.which&&!(e.which<10)||!lr(t,e)){var i=String.fromCharCode(null==n?r:n);ur(t,e,i)||t.display.input.onKeyPress(e)}}}function pr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,gr(e))},100)}function vr(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Mo(e,"focus",e),e.state.focused=!0,qo(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),ga&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),je(e))}function gr(e){e.state.delayingBlurEvent||(e.state.focused&&(Mo(e,"blur",e),e.state.focused=!1,Vo(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function mr(e,t){Gt(e.display,t)||yr(e,t)||e.display.input.onContextMenu(t)}function yr(e,t){return Oi(e,"gutterContextMenu")?$t(e,t,"gutterContextMenu",!1,Mo):!1}function br(e,t){if(Ia(e,t.from)<0)return e;if(Ia(e,t.to)<=0)return Ya(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Ya(t).ch-t.to.ch),Na(r,n)}function xr(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new he(br(i.anchor,t),br(i.head,t)))}return de(r,e.sel.primIndex)}function wr(e,t,r){return e.line==t.line?Na(r.line,e.ch-t.ch+r.ch):Na(r.line+(e.line-t.line),e.ch)}function kr(e,t,r){for(var n=[],i=Na(e.first,0),a=i,o=0;o<t.length;o++){var s=t[o],l=wr(s.from,i,a),u=wr(Ya(s),i,a);if(i=s.to,a=u,"around"==r){var c=e.sel.ranges[o],f=Ia(c.head,c.anchor)<0;n[o]=new he(f?u:l,f?l:u)}else n[o]=new he(l,l)}return new fe(n,e.sel.primIndex)}function Sr(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return r&&(n.update=function(t,r,n,i){t&&(this.from=ge(e,t)),r&&(this.to=ge(e,r)),n&&(this.text=n),void 0!==i&&(this.origin=i)}),Mo(e,"beforeChange",e,n),e.cm&&Mo(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Cr(e,t,r){if(e.cm){if(!e.cm.curOp)return Lt(e.cm,Cr)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(Oi(e,"beforeChange")||e.cm&&Oi(e.cm,"beforeChange"))||(t=Sr(e,t,!0))){var n=Ea&&!r&&sn(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)Tr(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text});else Tr(e,t)}}function Tr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Ia(t.from,t.to)){var r=xr(e,t);li(e,t,r,e.cm?e.cm.curOp.id:NaN),Ar(e,t,r,nn(e,t));var n=[];Xn(e,function(e,r){r||-1!=Ui(n,e.history)||(yi(e.history,t),n.push(e.history)),Ar(e,t,null,nn(e,t))})}}function Or(e,t,r){if(!e.cm||!e.cm.state.suppressEdits){for(var n,i=e.history,a=e.sel,o="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,l=0;l<o.length&&(n=o[l],r?!n.ranges||n.equals(e.sel):n.ranges);l++);if(l!=o.length){for(i.lastOrigin=i.lastSelOrigin=null;n=o.pop(),n.ranges;){if(fi(n,s),r&&!n.equals(e.sel))return void Me(e,n,{clearRedo:!1});a=n}var u=[];fi(a,s),s.push({changes:u,generation:i.generation}),i.generation=n.generation||++i.maxGeneration;for(var c=Oi(e,"beforeChange")||e.cm&&Oi(e.cm,"beforeChange"),l=n.changes.length-1;l>=0;--l){var f=n.changes[l];if(f.origin=t,c&&!Sr(e,f,!1))return void(o.length=0);u.push(ai(e,f));var h=l?xr(e,f):Ei(o);Ar(e,f,h,on(e,f)),!l&&e.cm&&e.cm.scrollIntoView({from:f.from,to:Ya(f)});var d=[];Xn(e,function(e,t){t||-1!=Ui(d,e.history)||(yi(e.history,f),d.push(e.history)),Ar(e,f,null,on(e,f))})}}}}function Mr(e,t){if(0!=t&&(e.first+=t,e.sel=new fe(Ni(e.sel.ranges,function(e){return new he(Na(e.anchor.line+t,e.anchor.ch),Na(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Rt(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Pt(e.cm,n,"gutter")}}function Ar(e,t,r,n){if(e.cm&&!e.cm.curOp)return Lt(e.cm,Ar)(e,t,r,n);if(t.to.line<e.first)return void Mr(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Mr(e,i),t={from:Na(e.first,0),to:Na(t.to.line+i,t.to.ch),text:[Ei(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:Na(a,$n(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Zn(e,t.from,t.to),r||(r=xr(e,t)),e.cm?Lr(e.cm,t,n):Vn(e,t,n),Ae(e,r,Uo)}}function Lr(e,t,r){var n=e.doc,i=e.display,o=t.from,s=t.to,l=!1,u=o.line;e.options.lineWrapping||(u=ei(mn($n(n,o.line))),n.iter(u,s.line+1,function(e){return e==i.maxLine?(l=!0,!0):void 0})),n.sel.contains(t.from,t.to)>-1&&Ti(e),Vn(n,t,r,a(e)),e.options.lineWrapping||(n.iter(u,o.line+t.text.length,function(e){var t=f(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,o.line),Be(e,400);var c=t.text.length-(s.line-o.line)-1;t.full?Rt(e):o.line!=s.line||1!=t.text.length||Gn(e.doc,t)?Rt(e,o.line,s.line+1,c):Pt(e,o.line,"text");var h=Oi(e,"changes"),d=Oi(e,"change");if(d||h){var p={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};d&&ki(e,"change",e,p),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function Er(e,t,r,n,i){if(n||(n=r),Ia(n,r)<0){var a=n;n=r,r=a}"string"==typeof t&&(t=e.splitLines(t)),Cr(e,{from:r,to:n,text:t,origin:i})}function Ur(e,t){if(!Ci(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!ka){var a=Wi("div","\u200b",null,"position: absolute; top: "+(t.top-r.viewOffset-_e(e.display))+"px; height: "+(t.bottom-t.top+Ve(e)+r.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(i),e.display.lineSpace.removeChild(a)}}}function Nr(e,t,r,n){null==n&&(n=0);for(var i=0;5>i;i++){var a=!1,o=ht(e,t),s=r&&r!=t?ht(e,r):o,l=Rr(e,Math.min(o.left,s.left),Math.min(o.top,s.top)-n,Math.max(o.left,s.left),Math.max(o.bottom,s.bottom)+n),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=l.scrollTop&&(rr(e,l.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=l.scrollLeft&&(nr(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(a=!0)),!a)break}return o}function Ir(e,t,r,n,i){var a=Rr(e,t,r,n,i);null!=a.scrollTop&&rr(e,a.scrollTop),null!=a.scrollLeft&&nr(e,a.scrollLeft)}function Rr(e,t,r,n,i){var a=e.display,o=mt(e.display);0>r&&(r=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:a.scroller.scrollTop,l=Ye(e),u={};i-r>l&&(i=r+l);var c=e.doc.height+ze(a),f=o>r,h=i>c-o;if(s>r)u.scrollTop=f?0:r;else if(i>s+l){var d=Math.min(r,(h?c:i)-l);d!=s&&(u.scrollTop=d)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:a.scroller.scrollLeft,v=qe(e)-(e.options.fixedGutter?a.gutters.offsetWidth:0),g=n-t>v;return g&&(n=t+v),10>t?u.scrollLeft=0:p>t?u.scrollLeft=Math.max(0,t-(g?0:10)):n>v+p-3&&(u.scrollLeft=n+(g?0:10)-v),u}function Pr(e,t,r){(null!=t||null!=r)&&jr(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=r&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+r)}function Dr(e){jr(e);var t=e.getCursor(),r=t,n=t;e.options.lineWrapping||(r=t.ch?Na(t.line,t.ch-1):t,n=Na(t.line,t.ch+1)),e.curOp.scrollToPos={from:r,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function jr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=dt(e,t.from),n=dt(e,t.to),i=Rr(e,Math.min(r.left,n.left),Math.min(r.top,n.top)-t.margin,Math.max(r.right,n.right),Math.max(r.bottom,n.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function Br(e,t,r,n){var i,a=e.doc;null==r&&(r="add"),"smart"==r&&(a.mode.indent?i=Fe(e,t):r="prev");var o=e.options.tabSize,s=$n(a,t),l=Ro(s.text,null,o);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&(u=a.mode.indent(i,s.text.slice(c.length),s.text),u==Eo||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>a.first?Ro($n(a,t-1).text,null,o):0:"add"==r?u=l+e.options.indentUnit:"subtract"==r?u=l-e.options.indentUnit:"number"==typeof r&&(u=l+r),u=Math.max(0,u);var f="",h=0;if(e.options.indentWithTabs)for(var d=Math.floor(u/o);d;--d)h+=o,f+="	";if(u>h&&(f+=Li(u-h)),f!=c)return Er(a,f,Na(t,0),Na(t,c.length),"+input"),s.stateAfter=null,!0;for(var d=0;d<a.sel.ranges.length;d++){var p=a.sel.ranges[d];if(p.head.line==t&&p.head.ch<c.length){var h=Na(t,c.length);Se(a,d,new he(h,h));break}}}function Hr(e,t,r,n){var i=t,a=t;return"number"==typeof t?a=$n(e,ve(e,t)):i=ei(t),null==i?null:(n(a,i)&&e.cm&&Pt(e.cm,i,r),a)}function Wr(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var a=t(r[i]);n.length&&Ia(a.from,Ei(n).to)<=0;){var o=n.pop();if(Ia(o.from,a.from)<0){a.from=o.from;break}}n.push(a)}At(e,function(){for(var t=n.length-1;t>=0;t--)Er(e.doc,"",n[t].from,n[t].to,"+delete");Dr(e)})}function Fr(e,t,r,n,i){function a(){var t=s+r;return t<e.first||t>=e.first+e.size?f=!1:(s=t,c=$n(e,t))}function o(e){var t=(i?ua:ca)(c,l,r,!0);if(null==t){if(e||!a())return f=!1;l=i?(0>r?ra:ta)(c):0>r?c.text.length:0}else l=t;return!0}var s=t.line,l=t.ch,u=r,c=$n(e,s),f=!0;if("char"==n)o();else if("column"==n)o(!0);else if("word"==n||"group"==n)for(var h=null,d="group"==n,p=e.cm&&e.cm.getHelper(t,"wordChars"),v=!0;!(0>r)||o(!v);v=!1){var g=c.text.charAt(l)||"\n",m=ji(g,p)?"w":d&&"\n"==g?"n":!d||/\s/.test(g)?null:"p";if(!d||v||m||(m="s"),h&&h!=m){0>r&&(r=1,o());break}if(m&&(h=m),r>0&&!o(!v))break}var y=Ne(e,Na(s,l),u,!0);return f||(y.hitSide=!0),y}function _r(e,t,r,n){var i,a=e.doc,o=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+r*(s-(0>r?1.5:.5)*mt(e.display))}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;;){var l=vt(e,o,i);if(!l.outside)break;if(0>r?0>=i:i>=a.height){l.hitSide=!0;break}i+=5*r}return l}function zr(t,r,n,i){e.defaults[t]=r,n&&(Ka[t]=i?function(e,t,r){r!=$a&&n(e,t,r)}:n)}function Gr(e){for(var t,r,n,i,a=e.split(/-(?!$)/),e=a[a.length-1],o=0;o<a.length-1;o++){var s=a[o];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Vr(e){return"string"==typeof e?ao[e]:e}function qr(e,t,r,n,i){if(n&&n.shared)return Yr(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return Lt(e.cm,qr)(e,t,r,n,i);var a=new fo(e,i),o=Ia(t,r);if(n&&Pi(n,a,!1),o>0||0==o&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=Wi("span",[a.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(gn(e,t.line,t,r,a)||t.line!=r.line&&gn(e,r.line,t,r,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ua=!0}a.addToHistory&&li(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,r.line+1,function(e){u&&a.collapsed&&!u.options.lineWrapping&&mn(e)==u.display.maxLine&&(s=!0),a.collapsed&&l!=t.line&&Qn(e,0),en(e,new Zr(a,l==t.line?t.ch:null,l==r.line?r.ch:null)),++l}),a.collapsed&&e.iter(t.line,r.line+1,function(t){wn(e,t)&&Qn(t,0)}),a.clearOnEnter&&To(a,"beforeCursorEnter",function(){a.clear()}),a.readOnly&&(Ea=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++co,a.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),a.collapsed)Rt(u,t.line,r.line+1);else if(a.className||a.title||a.startStyle||a.endStyle||a.css)for(var c=t.line;c<=r.line;c++)Pt(u,c,"text");a.atomic&&Ee(u.doc),ki(u,"markerAdded",u,a)}return a}function Yr(e,t,r,n,i){n=Pi(n),n.shared=!1;var a=[qr(e,t,r,n,i)],o=a[0],s=n.widgetNode;return Xn(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),a.push(qr(e,ge(e,t),ge(e,r),n,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=Ei(a)}),new ho(a,o)}function Xr(e){return e.findMarks(Na(e.first,0),e.clipPos(Na(e.lastLine())),function(e){return e.parent})}function Kr(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),a=e.clipPos(i.from),o=e.clipPos(i.to);if(Ia(a,o)){var s=qr(e,a,o,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function $r(e){for(var t=0;t<e.length;t++){var r=e[t],n=[r.primary.doc];Xn(r.primary.doc,function(e){n.push(e)});for(var i=0;i<r.markers.length;i++){var a=r.markers[i];-1==Ui(n,a.doc)&&(a.parent=null,r.markers.splice(i--,1))}}}function Zr(e,t,r){this.marker=e,this.from=t,this.to=r}function Jr(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Qr(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function en(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function tn(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var a=e[i],o=a.marker,s=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);if(s||a.from==t&&"bookmark"==o.type&&(!r||!a.marker.insertLeft)){var l=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);(n||(n=[])).push(new Zr(o,a.from,l?null:a.to))}}return n}function rn(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var a=e[i],o=a.marker,s=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);if(s||a.from==t&&"bookmark"==o.type&&(!r||a.marker.insertLeft)){var l=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);(n||(n=[])).push(new Zr(o,l?null:a.from-t,null==a.to?null:a.to-t))}}return n}function nn(e,t){if(t.full)return null;var r=ye(e,t.from.line)&&$n(e,t.from.line).markedSpans,n=ye(e,t.to.line)&&$n(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,a=t.to.ch,o=0==Ia(t.from,t.to),s=tn(r,i,o),l=rn(n,a,o),u=1==t.text.length,c=Ei(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var d=Jr(l,h.marker);d?u&&(h.to=null==d.to?null:d.to+c):h.to=i}}if(l)for(var f=0;f<l.length;++f){var h=l[f];if(null!=h.to&&(h.to+=c),null==h.from){var d=Jr(s,h.marker);d||(h.from=c,u&&(s||(s=[])).push(h))}else h.from+=c,u&&(s||(s=[])).push(h)}s&&(s=an(s)),l&&l!=s&&(l=an(l));var p=[s];if(!u){var v,g=t.text.length-2;if(g>0&&s)for(var f=0;f<s.length;++f)null==s[f].to&&(v||(v=[])).push(new Zr(s[f].marker,null,null));for(var f=0;g>f;++f)p.push(v);p.push(l)}return p}function an(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function on(e,t){var r=pi(e,t),n=nn(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var a=r[i],o=n[i];if(a&&o)e:for(var s=0;s<o.length;++s){for(var l=o[s],u=0;u<a.length;++u)if(a[u].marker==l.marker)continue e;a.push(l)}else o&&(r[i]=o)}return r}function sn(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=Ui(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],a=0;a<n.length;++a)for(var o=n[a],s=o.find(0),l=0;l<i.length;++l){var u=i[l];if(!(Ia(u.to,s.from)<0||Ia(u.from,s.to)>0)){var c=[l,1],f=Ia(u.from,s.from),h=Ia(u.to,s.to);(0>f||!o.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(h>0||!o.inclusiveRight&&!h)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-1}}return i}function ln(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function un(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function cn(e){return e.inclusiveLeft?-1:0}function fn(e){return e.inclusiveRight?1:0}function hn(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),a=Ia(n.from,i.from)||cn(e)-cn(t);if(a)return-a;var o=Ia(n.to,i.to)||fn(e)-fn(t);return o?o:t.id-e.id}function dn(e,t){var r,n=Ua&&e.markedSpans;if(n)for(var i,a=0;a<n.length;++a)i=n[a],i.marker.collapsed&&null==(t?i.from:i.to)&&(!r||hn(r,i.marker)<0)&&(r=i.marker);return r}function pn(e){return dn(e,!0)}function vn(e){return dn(e,!1)}function gn(e,t,r,n,i){var a=$n(e,t),o=Ua&&a.markedSpans;if(o)for(var s=0;s<o.length;++s){var l=o[s];if(l.marker.collapsed){var u=l.marker.find(0),c=Ia(u.from,r)||cn(l.marker)-cn(i),f=Ia(u.to,n)||fn(l.marker)-fn(i);if(!(c>=0&&0>=f||0>=c&&f>=0)&&(0>=c&&(Ia(u.to,r)>0||l.marker.inclusiveRight&&i.inclusiveLeft)||c>=0&&(Ia(u.from,n)<0||l.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function mn(e){for(var t;t=pn(e);)e=t.find(-1,!0).line;return e}function yn(e){for(var t,r;t=vn(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function bn(e,t){var r=$n(e,t),n=mn(r);return r==n?t:ei(n)}function xn(e,t){if(t>e.lastLine())return t;var r,n=$n(e,t);if(!wn(e,n))return t;for(;r=vn(n);)n=r.find(1,!0).line;return ei(n)+1}function wn(e,t){var r=Ua&&t.markedSpans;if(r)for(var n,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&kn(e,t,n))return!0}}function kn(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return kn(e,n.line,Jr(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i,a=0;a<t.markedSpans.length;++a)if(i=t.markedSpans[a],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&kn(e,t,i))return!0}function Sn(e,t,r){ri(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Pr(e,null,r)}function Cn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!_o(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),_i(t.display.measure,Wi("div",[e.node],null,r))}return e.height=e.node.offsetHeight}function Tn(e,t,r,n){var i=new po(e,r,n),a=e.cm;return a&&i.noHScroll&&(a.display.alignWidgets=!0),Hr(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,a&&!wn(e,t)){var n=ri(t)<e.scrollTop;Qn(t,t.height+Cn(i)),n&&Pr(a,null,i.height),a.curOp.forceUpdate=!0}return!0}),i}function On(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ln(e),un(e,r);var i=n?n(e):1;i!=e.height&&Qn(e,i)}function Mn(e){e.parent=null,ln(e)}function An(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function Ln(t,r){if(t.blankLine)return t.blankLine(r);if(t.innerMode){var n=e.innerMode(t,r);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function En(t,r,n,i){for(var a=0;10>a;a++){i&&(i[0]=e.innerMode(t,n).mode);var o=t.token(r,n);if(r.pos>r.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function Un(e,t,r,n){function i(e){return{start:f.start,end:f.pos,string:f.current(),type:a||null,state:e?ro(o.mode,c):c}}var a,o=e.doc,s=o.mode;t=ge(o,t);var l,u=$n(o,t.line),c=Fe(e,t.line,r),f=new uo(u.text,e.options.tabSize);for(n&&(l=[]);(n||f.pos<t.ch)&&!f.eol();)f.start=f.pos,a=En(s,f,c),n&&l.push(i(!0));return n?l:i()}function Nn(e,t,r,n,i,a,o){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,f=new uo(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&An(Ln(r,n),a);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,o&&Pn(e,t,n,f.pos),f.pos=t.length,l=null):l=An(En(r,f,n,h),a),h){var d=h[0].name;d&&(l="m-"+(l?d+" "+l:d))}if(!s||c!=l){for(;u<f.start;)u=Math.min(f.start,u+5e4),i(u,c);c=l}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e4);i(p,c),u=p}}function In(e,t,r,n){var i=[e.state.modeGen],a={};Nn(e,t.text,e.doc.mode,r,function(e,t){i.push(e,t)},a,n);for(var o=0;o<e.state.overlays.length;++o){var s=e.state.overlays[o],l=1,u=0;Nn(e,t.text,s.mode,!0,function(e,t){for(var r=l;e>u;){var n=i[l];n>e&&i.splice(l,1,e,i[l+1],n),l+=2,u=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,l-r,e,"cm-overlay "+t),l=r+2;else for(;l>r;r+=2){var a=i[r+1];i[r+1]=(a?a+" ":"")+"cm-overlay "+t}},a)}return{styles:i,classes:a.bgClass||a.textClass?a:null}}function Rn(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Fe(e,ei(t)),i=In(e,t,t.text.length>e.options.maxHighlightLength?ro(e.doc.mode,n):n);t.stateAfter=n,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.frontier&&e.doc.frontier++}return t.styles}function Pn(e,t,r,n){var i=e.doc.mode,a=new uo(t,e.options.tabSize);for(a.start=a.pos=n||0,""==t&&Ln(i,r);!a.eol();)En(i,a,r),a.start=a.pos}function Dn(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?mo:go;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function jn(e,t){var r=Wi("span",null,null,ga?"padding-right: .1px":null),n={pre:Wi("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,splitSpaces:(pa||ga)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var a,o=i?t.rest[i-1]:t.line;n.pos=0,n.addToken=Hn,$i(e.display.measure)&&(a=ni(o))&&(n.addToken=Fn(n.addToken,a)),n.map=[];var s=t!=e.display.externalMeasured&&ei(o);zn(o,n,Rn(e,o,s)),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=Vi(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=Vi(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Ki(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return ga&&/\bcm-tab\b/.test(n.content.lastChild.className)&&(n.content.className="cm-tab-wrap-hack"),Mo(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=Vi(n.pre.className,n.textClass||"")),n}function Bn(e){var t=Wi("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Hn(e,t,r,n,i,a,o){if(t){var s=e.splitSpaces?t.replace(/ {3,}/g,Wn):t,l=e.cm.state.specialChars,u=!1;if(l.test(t))for(var c=document.createDocumentFragment(),f=0;;){l.lastIndex=f;var h=l.exec(t),d=h?h.index-f:t.length-f;if(d){var p=document.createTextNode(s.slice(f,f+d));pa&&9>va?c.appendChild(Wi("span",[p])):c.appendChild(p),e.map.push(e.pos,e.pos+d,p),e.col+=d,e.pos+=d}if(!h)break;if(f+=d+1,"	"==h[0]){var v=e.cm.options.tabSize,g=v-e.col%v,p=c.appendChild(Wi("span",Li(g),"cm-tab"));p.setAttribute("role","presentation"),p.setAttribute("cm-text","	"),e.col+=g}else if("\r"==h[0]||"\n"==h[0]){var p=c.appendChild(Wi("span","\r"==h[0]?"\u240d":"\u2424","cm-invalidchar"));p.setAttribute("cm-text",h[0]),e.col+=1}else{var p=e.cm.options.specialCharPlaceholder(h[0]);p.setAttribute("cm-text",h[0]),pa&&9>va?c.appendChild(Wi("span",[p])):c.appendChild(p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}else{e.col+=t.length;var c=document.createTextNode(s);e.map.push(e.pos,e.pos+t.length,c),pa&&9>va&&(u=!0),e.pos+=t.length}if(r||n||i||u||o){var m=r||"";n&&(m+=n),i&&(m+=i);var y=Wi("span",[c],m,o);return a&&(y.title=a),e.content.appendChild(y)}e.content.appendChild(c)}}function Wn(e){for(var t=" ",r=0;r<e.length-2;++r)t+=r%2?" ":"\xa0";return t+=" "}function Fn(e,t){return function(r,n,i,a,o,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var f=0;f<t.length;f++){var h=t[f];if(h.to>u&&h.from<=u)break}if(h.to>=c)return e(r,n,i,a,o,s,l);e(r,n.slice(0,h.to-u),i,a,null,s,l),a=null,n=n.slice(h.to-u),u=h.to}}}function _n(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function zn(e,t,r){var n=e.markedSpans,i=e.text,a=0;if(n)for(var o,s,l,u,c,f,h,d=i.length,p=0,v=1,g="",m=0;;){if(m==p){l=u=c=f=s="",h=null,m=1/0;for(var y=[],b=0;b<n.length;++b){var x=n[b],w=x.marker;"bookmark"==w.type&&x.from==p&&w.widgetNode?y.push(w):x.from<=p&&(null==x.to||x.to>p||w.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),w.className&&(l+=" "+w.className),w.css&&(s=w.css),w.startStyle&&x.from==p&&(c+=" "+w.startStyle),w.endStyle&&x.to==m&&(u+=" "+w.endStyle),w.title&&!f&&(f=w.title),w.collapsed&&(!h||hn(h.marker,w)<0)&&(h=x)):x.from>p&&m>x.from&&(m=x.from)}if(h&&(h.from||0)==p){if(_n(t,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}if(!h&&y.length)for(var b=0;b<y.length;++b)_n(t,0,y[b])}if(p>=d)break;for(var k=Math.min(d,m);;){if(g){var S=p+g.length;if(!h){var C=S>k?g.slice(0,k-p):g;t.addToken(t,C,o?o+l:l,c,p+C.length==m?u:"",f,s)}if(S>=k){g=g.slice(k-p),p=k;break}p=S,c=""}g=i.slice(a,a=r[v++]),o=Dn(r[v++],t.cm.options)}}else for(var v=1;v<r.length;v+=2)t.addToken(t,i.slice(a,a=r[v]),Dn(r[v+1],t.cm.options))}function Gn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Ei(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Vn(e,t,r,n){function i(e){return r?r[e]:null}function a(e,r,i){On(e,r,i,n),ki(e,"change",e,t)}function o(e,t){for(var r=e,a=[];t>r;++r)a.push(new vo(u[r],i(r),n));return a}var s=t.from,l=t.to,u=t.text,c=$n(e,s.line),f=$n(e,l.line),h=Ei(u),d=i(u.length-1),p=l.line-s.line;if(t.full)e.insert(0,o(0,u.length)),e.remove(u.length,e.size-u.length);else if(Gn(e,t)){var v=o(0,u.length-1);a(f,f.text,d),p&&e.remove(s.line,p),v.length&&e.insert(s.line,v)}else if(c==f)if(1==u.length)a(c,c.text.slice(0,s.ch)+h+c.text.slice(l.ch),d);else{var v=o(1,u.length-1);v.push(new vo(h+c.text.slice(l.ch),d,n)),a(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,v)}else if(1==u.length)a(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(l.ch),i(0)),e.remove(s.line+1,p);else{a(c,c.text.slice(0,s.ch)+u[0],i(0)),a(f,h+f.text.slice(l.ch),d);var v=o(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,v)}ki(e,"change",e,t)}function qn(e){this.lines=e,this.parent=null;for(var t=0,r=0;t<e.length;++t)e[t].parent=this,r+=e[t].height;this.height=r}function Yn(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}function Xn(e,t,r){function n(e,i,a){if(e.linked)for(var o=0;o<e.linked.length;++o){var s=e.linked[o];if(s.doc!=i){var l=a&&s.sharedHist;(!r||l)&&(t(s.doc,l),n(s.doc,e,l))}}}n(e,null,!0)}function Kn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,o(e),r(e),e.options.lineWrapping||h(e),e.options.mode=t.modeOption,Rt(e)}function $n(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],a=i.chunkSize();if(a>t){r=i;break}t-=a}return r.lines[t]}function Zn(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var a=e.text;i==r.line&&(a=a.slice(0,r.ch)),i==t.line&&(a=a.slice(t.ch)),n.push(a),++i}),n}function Jn(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function Qn(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function ei(e){if(null==e.parent)return null;for(var t=e.parent,r=Ui(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function ti(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],a=i.height;if(a>t){e=i;continue e}t-=a,r+=i.chunkSize()}return r}while(!e.lines);for(var n=0;n<e.lines.length;++n){var o=e.lines[n],s=o.height;if(s>t)break;t-=s}return r+n}function ri(e){e=mn(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var a=r.parent;a;r=a,a=r.parent)for(var n=0;n<a.children.length;++n){var o=a.children[n];if(o==r)break;t+=o.height}return t}function ni(e){var t=e.order;return null==t&&(t=e.order=ts(e.text)),t}function ii(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ai(e,t){var r={from:Y(t.from),to:Ya(t),text:Zn(e,t.from,t.to)};return hi(e,r,t.from.line,t.to.line+1),Xn(e,function(e){hi(e,r,t.from.line,t.to.line+1)},!0),r}function oi(e){for(;e.length;){var t=Ei(e);if(!t.ranges)break;
e.pop()}}function si(e,t){return t?(oi(e.done),Ei(e.done)):e.done.length&&!Ei(e.done).ranges?Ei(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Ei(e.done)):void 0}function li(e,t,r,n){var i=e.history;i.undone.length=0;var a,o=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(a=si(i,i.lastOp==n))){var s=Ei(a.changes);0==Ia(t.from,t.to)&&0==Ia(t.from,s.to)?s.to=Ya(t):a.changes.push(ai(e,t))}else{var l=Ei(i.done);for(l&&l.ranges||fi(e.sel,i.done),a={changes:[ai(e,t)],generation:i.generation},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=o,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,s||Mo(e,"historyAdded")}function ui(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ci(e,t,r,n){var i=e.history,a=n&&n.origin;r==i.lastSelOp||a&&i.lastSelOrigin==a&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==a||ui(e,a,Ei(i.done),t))?i.done[i.done.length-1]=t:fi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=a,i.lastSelOp=r,n&&n.clearRedo!==!1&&oi(i.undone)}function fi(e,t){var r=Ei(t);r&&r.ranges&&r.equals(e)||t.push(e)}function hi(e,t,r,n){var i=t["spans_"+e.id],a=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[a]=r.markedSpans),++a})}function di(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function pi(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=0,i=[];n<t.text.length;++n)i.push(di(r[n]));return i}function vi(e,t,r){for(var n=0,i=[];n<e.length;++n){var a=e[n];if(a.ranges)i.push(r?fe.prototype.deepCopy.call(a):a);else{var o=a.changes,s=[];i.push({changes:s});for(var l=0;l<o.length;++l){var u,c=o[l];if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&Ui(t,Number(u[1]))>-1&&(Ei(s)[f]=c[f],delete c[f])}}}return i}function gi(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function mi(e,t,r,n){for(var i=0;i<e.length;++i){var a=e[i],o=!0;if(a.ranges){a.copied||(a=e[i]=a.deepCopy(),a.copied=!0);for(var s=0;s<a.ranges.length;s++)gi(a.ranges[s].anchor,t,r,n),gi(a.ranges[s].head,t,r,n)}else{for(var s=0;s<a.changes.length;++s){var l=a.changes[s];if(r<l.from.line)l.from=Na(l.from.line+n,l.from.ch),l.to=Na(l.to.line+n,l.to.ch);else if(t<=l.to.line){o=!1;break}}o||(e.splice(0,i+1),i=0)}}}function yi(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;mi(e.done,r,n,i),mi(e.undone,r,n,i)}function bi(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function xi(e){return e.target||e.srcElement}function wi(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ta&&e.ctrlKey&&1==t&&(t=3),t}function ki(e,t){function r(e){return function(){e.apply(null,a)}}var n=e._handlers&&e._handlers[t];if(n){var i,a=Array.prototype.slice.call(arguments,2);Ha?i=Ha.delayedCallbacks:Ao?i=Ao:(i=Ao=[],setTimeout(Si,0));for(var o=0;o<n.length;++o)i.push(r(n[o]))}}function Si(){var e=Ao;Ao=null;for(var t=0;t<e.length;++t)e[t]()}function Ci(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Mo(e,r||t.type,e,t),bi(t)||t.codemirrorIgnore}function Ti(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==Ui(r,t[n])&&r.push(t[n])}function Oi(e,t){var r=e._handlers&&e._handlers[t];return r&&r.length>0}function Mi(e){e.prototype.on=function(e,t){To(this,e,t)},e.prototype.off=function(e,t){Oo(this,e,t)}}function Ai(){this.id=null}function Li(e){for(;Do.length<=e;)Do.push(Ei(Do)+" ");return Do[e]}function Ei(e){return e[e.length-1]}function Ui(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function Ni(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Ii(){}function Ri(e,t){var r;return Object.create?r=Object.create(e):(Ii.prototype=e,r=new Ii),t&&Pi(t,r),r}function Pi(e,t,r){t||(t={});for(var n in e)!e.hasOwnProperty(n)||r===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function Di(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function ji(e,t){return t?t.source.indexOf("\\w")>-1&&Wo(e)?!0:t.test(e):Wo(e)}function Bi(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Hi(e){return e.charCodeAt(0)>=768&&Fo.test(e)}function Wi(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)i.appendChild(t[a]);return i}function Fi(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function _i(e,t){return Fi(e).appendChild(t)}function zi(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Gi(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Vi(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!Gi(r[n]).test(t)&&(t+=" "+r[n]);return t}function qi(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}function Yi(){Yo||(Xi(),Yo=!0)}function Xi(){var e;To(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,qi(zt)},100))}),To(window,"blur",function(){qi(gr)})}function Ki(e){if(null==zo){var t=Wi("span","\u200b");_i(e,Wi("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(zo=t.offsetWidth<=1&&t.offsetHeight>2&&!(pa&&8>va))}var r=zo?Wi("span","\u200b"):Wi("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function $i(e){if(null!=Go)return Go;var t=_i(e,document.createTextNode("A\u062eA")),r=Bo(t,0,1).getBoundingClientRect();if(!r||r.left==r.right)return!1;var n=Bo(t,1,2).getBoundingClientRect();return Go=n.right-r.right<3}function Zi(e){if(null!=Jo)return Jo;var t=_i(e,Wi("span","x")),r=t.getBoundingClientRect(),n=Bo(t,0,1).getBoundingClientRect();return Jo=Math.abs(r.left-n.left)>1}function Ji(e,t,r,n){if(!e)return n(t,r,"ltr");for(var i=!1,a=0;a<e.length;++a){var o=e[a];(o.from<r&&o.to>t||t==r&&o.to==t)&&(n(Math.max(o.from,t),Math.min(o.to,r),1==o.level?"rtl":"ltr"),i=!0)}i||n(t,r,"ltr")}function Qi(e){return e.level%2?e.to:e.from}function ea(e){return e.level%2?e.from:e.to}function ta(e){var t=ni(e);return t?Qi(t[0]):0}function ra(e){var t=ni(e);return t?ea(Ei(t)):e.text.length}function na(e,t){var r=$n(e.doc,t),n=mn(r);n!=r&&(t=ei(n));var i=ni(n),a=i?i[0].level%2?ra(n):ta(n):0;return Na(t,a)}function ia(e,t){for(var r,n=$n(e.doc,t);r=vn(n);)n=r.find(1,!0).line,t=null;var i=ni(n),a=i?i[0].level%2?ta(n):ra(n):n.text.length;return Na(null==t?ei(n):t,a)}function aa(e,t){var r=na(e,t.line),n=$n(e.doc,r.line),i=ni(n);if(!i||0==i[0].level){var a=Math.max(0,n.text.search(/\S/)),o=t.line==r.line&&t.ch<=a&&t.ch;return Na(r.line,o?0:a)}return r}function oa(e,t,r){var n=e[0].level;return t==n?!0:r==n?!1:r>t}function sa(e,t){es=null;for(var r,n=0;n<e.length;++n){var i=e[n];if(i.from<t&&i.to>t)return n;if(i.from==t||i.to==t){if(null!=r)return oa(e,i.level,e[r].level)?(i.from!=i.to&&(es=r),n):(i.from!=i.to&&(es=n),r);r=n}}return r}function la(e,t,r,n){if(!n)return t+r;do t+=r;while(t>0&&Hi(e.text.charAt(t)));return t}function ua(e,t,r,n){var i=ni(e);if(!i)return ca(e,t,r,n);for(var a=sa(i,t),o=i[a],s=la(e,t,o.level%2?-r:r,n);;){if(s>o.from&&s<o.to)return s;if(s==o.from||s==o.to)return sa(i,s)==a?s:(o=i[a+=r],r>0==o.level%2?o.to:o.from);if(o=i[a+=r],!o)return null;s=r>0==o.level%2?la(e,o.to,-1,n):la(e,o.from,1,n)}}function ca(e,t,r,n){var i=t+r;if(n)for(;i>0&&Hi(e.text.charAt(i));)i+=r;return 0>i||i>e.text.length?null:i}var fa=/gecko\/\d/i.test(navigator.userAgent),ha=/MSIE \d/.test(navigator.userAgent),da=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),pa=ha||da,va=pa&&(ha?document.documentMode||6:da[1]),ga=/WebKit\//.test(navigator.userAgent),ma=ga&&/Qt\/\d+\.\d+/.test(navigator.userAgent),ya=/Chrome\//.test(navigator.userAgent),ba=/Opera\//.test(navigator.userAgent),xa=/Apple Computer/.test(navigator.vendor),wa=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),ka=/PhantomJS/.test(navigator.userAgent),Sa=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Ca=Sa||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Ta=Sa||/Mac/.test(navigator.platform),Oa=/win/i.test(navigator.platform),Ma=ba&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Ma&&(Ma=Number(Ma[1])),Ma&&Ma>=15&&(ba=!1,ga=!0);var Aa=Ta&&(ma||ba&&(null==Ma||12.11>Ma)),La=fa||pa&&va>=9,Ea=!1,Ua=!1;v.prototype=Pi({update:function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var a=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+a+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&e.clientHeight>0&&(0==n&&this.overlayHack(),this.checkedOverlay=!0),{right:r?n:0,bottom:t?n:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){var e=Ta&&!wa?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=e;var t=this,r=function(e){xi(e)!=t.vert&&xi(e)!=t.horiz&&Lt(t.cm,qt)(e)};To(this.vert,"mousedown",r),To(this.horiz,"mousedown",r)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},v.prototype),g.prototype=Pi({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),e.scrollbarModel={"native":v,"null":g},T.prototype.signal=function(e,t){Oi(e,t)&&this.events.push(arguments)},T.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Mo.apply(null,this.events[e])};var Na=e.Pos=function(e,t){return this instanceof Na?(this.line=e,void(this.ch=t)):new Na(e,t)},Ia=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Ra=null;ne.prototype=Pi({init:function(e){function t(e){if(n.somethingSelected())Ra=n.getSelections(),r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,a.value=Ra.join("\n"),jo(a));else{if(!n.options.lineWiseCopyCut)return;var t=te(n);Ra=t.text,"cut"==e.type?n.setSelections(t.ranges,null,Uo):(r.prevInput="",a.value=t.text.join("\n"),jo(a))}"cut"==e.type&&(n.state.cutIncoming=!0)}var r=this,n=this.cm,i=this.wrapper=ie(),a=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),Sa&&(a.style.width="0px"),To(a,"input",function(){pa&&va>=9&&r.hasSelection&&(r.hasSelection=null),r.poll()}),To(a,"paste",function(e){return Q(e,n)?!0:(n.state.pasteIncoming=!0,void r.fastPoll())}),To(a,"cut",t),To(a,"copy",t),To(e.scroller,"paste",function(t){Gt(e,t)||(n.state.pasteIncoming=!0,r.focus())}),To(e.lineSpace,"selectstart",function(t){Gt(e,t)||ko(t)}),To(a,"compositionstart",function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),To(a,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,r=e.doc,n=Re(e);if(e.options.moveInputWithCursor){var i=ht(e,r.sel.primary().head,"div"),a=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+o.top-a.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+o.left-a.left))}return n},showSelection:function(e){var t=this.cm,r=t.display;_i(r.cursorDiv,e.cursors),_i(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,r,n=this.cm,i=n.doc;if(n.somethingSelected()){this.prevInput="";var a=i.sel.primary();t=Zo&&(a.to().line-a.from().line>100||(r=n.getSelection()).length>1e3);var o=t?"-":r||n.getSelection();this.textarea.value=o,n.state.focused&&jo(this.textarea),pa&&va>=9&&(this.hasSelection=o)}else e||(this.prevInput=this.textarea.value="",pa&&va>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Ca||zi()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var n=r.poll();n||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))}var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||$o(t)&&!r&&!this.composing||Z(e)||e.options.disableInput||e.state.keySeq)return!1;var n=t.value;if(n==r&&!e.somethingSelected())return!1;if(pa&&va>=9&&this.hasSelection===n||Ta&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=n.charCodeAt(0);if(8203!=i||r||(r="\u200b"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var a=0,o=Math.min(r.length,n.length);o>a&&r.charCodeAt(a)==n.charCodeAt(a);)++a;var s=this;return At(e,function(){J(e,n.slice(a),r.length-a,null,s.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?t.value=s.prevInput="":s.prevInput=n,s.composing&&(s.composing.range.clear(),s.composing.range=e.markText(s.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){pa&&va>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=o.selectionStart){var e=i.somethingSelected(),t="\u200b"+(e?o.value:"");o.value="\u21da",o.value=t,n.prevInput=e?"":"\u200b",o.selectionStart=1,o.selectionEnd=t.length,a.selForContextMenu=i.doc.sel}}function r(){if(n.contextMenuPending=!1,n.wrapper.style.position="relative",o.style.cssText=c,pa&&9>va&&a.scrollbars.setScrollTop(a.scroller.scrollTop=l),null!=o.selectionStart){(!pa||pa&&9>va)&&t();var e=0,r=function(){a.selForContextMenu==i.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"\u200b"==n.prevInput?Lt(i,io.selectAll)(i):e++<10?a.detectingSelectAll=setTimeout(r,500):a.input.reset()};a.detectingSelectAll=setTimeout(r,200)}}var n=this,i=n.cm,a=i.display,o=n.textarea,s=Vt(i,e),l=a.scroller.scrollTop;if(s&&!ba){var u=i.options.resetSelectionOnContextMenu;u&&-1==i.doc.sel.contains(s)&&Lt(i,Me)(i.doc,pe(s),Uo);var c=o.style.cssText;if(n.wrapper.style.position="absolute",o.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(pa?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ga)var f=window.scrollY;if(a.input.focus(),ga&&window.scrollTo(null,f),a.input.reset(),i.somethingSelected()||(o.value=n.prevInput=" "),n.contextMenuPending=!0,a.selForContextMenu=i.doc.sel,clearTimeout(a.detectingSelectAll),pa&&va>=9&&t(),La){Co(e);var h=function(){Oo(window,"mouseup",h),setTimeout(r,20)};To(window,"mouseup",h)}else setTimeout(r,50)}},setUneditable:Ii,needsContentAttribute:!1},ne.prototype),ae.prototype=Pi({init:function(e){function t(e){if(n.somethingSelected())Ra=n.getSelections(),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=te(n);Ra=t.text,"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,Uo),n.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Sa)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Ra.join("\n"));else{var r=ie(),i=r.firstChild;n.display.lineSpace.insertBefore(r,n.display.lineSpace.firstChild),i.value=Ra.join("\n");var a=document.activeElement;jo(i),setTimeout(function(){n.display.lineSpace.removeChild(r),a.focus()},50)}}var r=this,n=r.cm,i=r.div=e.lineDiv;i.contentEditable="true",re(i),To(i,"paste",function(e){Q(e,n)}),To(i,"compositionstart",function(e){var t=e.data;if(r.composing={sel:n.doc.sel,data:t,startData:t},t){var i=n.doc.sel.primary(),a=n.getLine(i.head.line),o=a.indexOf(t,Math.max(0,i.head.ch-t.length));o>-1&&o<=i.head.ch&&(r.composing.sel=pe(Na(i.head.line,o),Na(i.head.line,o+t.length)))}}),To(i,"compositionupdate",function(e){r.composing.data=e.data}),To(i,"compositionend",function(e){var t=r.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||r.applyComposition(t),r.composing==t&&(r.composing=null)},50))}),To(i,"touchstart",function(){r.forceCompositionEnd()}),To(i,"input",function(){r.composing||r.pollContent()||At(r.cm,function(){Rt(n)})}),To(i,"copy",t),To(i,"cut",t)},prepareSelection:function(){var e=Re(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),r=le(this.cm,e.anchorNode,e.anchorOffset),n=le(this.cm,e.focusNode,e.focusOffset);if(!r||r.bad||!n||n.bad||0!=Ia(K(r,n),t.from())||0!=Ia(X(r,n),t.to())){var i=oe(this.cm,t.from()),a=oe(this.cm,t.to());if(i||a){var o=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(i){if(!a){var l=o[o.length-1].measure,u=l.maps?l.maps[l.maps.length-1]:l.map;a={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else i={node:o[0].measure.map[2],offset:0};try{var c=Bo(i.node,i.offset,a.offset,a.node)}catch(f){}c&&(e.removeAllRanges(),e.addRange(c),s&&null==e.anchorNode?e.addRange(s):fa&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){_i(this.cm.display.cursorDiv,e.cursors),_i(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return _o(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():At(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var r=le(t,e.anchorNode,e.anchorOffset),n=le(t,e.focusNode,e.focusOffset);r&&n&&At(t,function(){Me(t.doc,pe(r,n),Uo),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var a;if(n.line==t.viewFrom||0==(a=jt(e,n.line)))var o=ei(t.view[0].line),s=t.view[0].node;else var o=ei(t.view[a].line),s=t.view[a-1].node.nextSibling;var l=jt(e,i.line);if(l==t.view.length-1)var u=t.viewTo-1,c=t.lineDiv.lastChild;else var u=ei(t.view[l+1].line)-1,c=t.view[l+1].node.previousSibling;for(var f=e.doc.splitLines(ce(e,s,c,o,u)),h=Zn(e.doc,Na(o,0),Na(u,$n(e.doc,u).text.length));f.length>1&&h.length>1;)if(Ei(f)==Ei(h))f.pop(),h.pop(),u--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),o++}for(var d=0,p=0,v=f[0],g=h[0],m=Math.min(v.length,g.length);m>d&&v.charCodeAt(d)==g.charCodeAt(d);)++d;for(var y=Ei(f),b=Ei(h),x=Math.min(y.length-(1==f.length?d:0),b.length-(1==h.length?d:0));x>p&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;f[f.length-1]=y.slice(0,y.length-p),f[0]=f[0].slice(d);var w=Na(o,d),k=Na(u,h.length?Ei(h).length-p:0);return f.length>1||f[0]||Ia(w,k)?(Er(e.doc,f,w,k,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){e.data&&e.data!=e.startData&&Lt(this.cm,J)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),Lt(this.cm,J)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},onContextMenu:Ii,resetPosition:Ii,needsContentAttribute:!0},ae.prototype),e.inputStyles={textarea:ne,contenteditable:ae},fe.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(0!=Ia(r.anchor,n.anchor)||0!=Ia(r.head,n.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new he(Y(this.ranges[t].anchor),Y(this.ranges[t].head));return new fe(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(Ia(t,n.from())>=0&&Ia(e,n.to())<=0)return r}return-1}},he.prototype={from:function(){return K(this.anchor,this.head)},to:function(){return X(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Pa,Da,ja,Ba={left:0,right:0,top:0,bottom:0},Ha=null,Wa=0,Fa=0,_a=0,za=null;pa?za=-.53:fa?za=15:ya?za=-.7:xa&&(za=-1/3);var Ga=function(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}};e.wheelEventPixels=function(e){var t=Ga(e);return t.x*=za,t.y*=za,t};var Va=new Ai,qa=null,Ya=e.changeEnd=function(e){return e.text?Na(e.from.line+e.text.length-1,Ei(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var r=this.options,n=r[e];(r[e]!=t||"mode"==e)&&(r[e]=t,Ka.hasOwnProperty(e)&&Lt(this,Ka[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Vr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:Et(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:t,opaque:r&&r.opaque}),this.state.modeGen++,Rt(this)}),removeOverlay:Et(function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void Rt(this)}}),indentLine:Et(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ye(this.doc,e)&&Br(this,e,t,r)}),indentSelection:Et(function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(Br(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&Dr(this));else{var a=i.from(),o=i.to(),s=Math.max(r,a.line);r=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=s;r>l;++l)Br(this,l,e);var u=this.doc.sel.ranges;0==a.ch&&t.length==u.length&&u[n].from().ch>0&&Se(this.doc,n,new he(a,u[n].to()),Uo)}}}),getTokenAt:function(e,t){return Un(this,e,t)},getLineTokens:function(e,t){return Un(this,Na(e),t,!0)},getTokenTypeAt:function(e){e=ge(this.doc,e);var t,r=Rn(this,$n(this.doc,e.line)),n=0,i=(r.length-1)/2,a=e.ch;if(0==a)t=r[2];else for(;;){var o=n+i>>1;if((o?r[2*o-1]:0)>=a)i=o;else{if(!(r[2*o+1]<a)){t=r[2*o+2];break}n=o+1}}var s=t?t.indexOf("cm-overlay "):-1;return 0>s?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!to.hasOwnProperty(t))return r;var n=to[t],i=this.getModeAt(e);if("string"==typeof i[t])n[i[t]]&&r.push(n[i[t]]);else if(i[t])for(var a=0;a<i[t].length;a++){var o=n[i[t][a]];o&&r.push(o)}else i.helperType&&n[i.helperType]?r.push(n[i.helperType]):n[i.name]&&r.push(n[i.name]);for(var a=0;a<n._global.length;a++){var s=n._global[a];s.pred(i,this)&&-1==Ui(r,s.val)&&r.push(s.val)}return r},getStateAfter:function(e,t){var r=this.doc;return e=ve(r,null==e?r.first+r.size-1:e),Fe(this,e+1,t)},cursorCoords:function(e,t){var r,n=this.doc.sel.primary();return r=null==e?n.head:"object"==typeof e?ge(this.doc,e):e?n.from():n.to(),ht(this,r,t||"page")},charCoords:function(e,t){return ft(this,ge(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ct(this,e,t||"page"),vt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ct(this,{top:e,left:0},t||"page").top,ti(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var r,n=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,n=!0),r=$n(this.doc,e)}else r=e;return ut(this,r,{top:0,left:0},t||"page").top+(n?this.doc.height-ri(r):0)},defaultTextHeight:function(){return mt(this.display)},defaultCharWidth:function(){return yt(this.display)},setGutterMarker:Et(function(e,t,r){return Hr(this.doc,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&Bi(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Et(function(e){var t=this,r=t.doc,n=r.first;r.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&(r.gutterMarkers[e]=null,Pt(t,n,"gutter"),Bi(r.gutterMarkers)&&(r.gutterMarkers=null)),++n})}),lineInfo:function(e){if("number"==typeof e){if(!ye(this.doc,e))return null;var t=e;if(e=$n(this.doc,e),!e)return null}else{var t=ei(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var a=this.display;e=ht(this,ge(this.doc,e));var o=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),a.sizer.appendChild(t),"over"==n)o=e.top;else if("above"==n||"near"==n){var l=Math.max(a.wrapper.clientHeight,this.doc.height),u=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==i?(s=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&Ir(this,s,o,s+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:Et(cr),triggerOnKeyPress:Et(dr),triggerOnKeyUp:hr,execCommand:function(e){return io.hasOwnProperty(e)?io[e].call(null,this):void 0},triggerElectric:Et(function(e){ee(this,e)}),findPosH:function(e,t,r,n){var i=1;0>t&&(i=-1,t=-t);for(var a=0,o=ge(this.doc,e);t>a&&(o=Fr(this.doc,o,i,r,n),!o.hitSide);++a);return o},moveH:Et(function(e,t){var r=this;r.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?Fr(r.doc,n.head,e,t,r.options.rtlMoveVisually):0>e?n.from():n.to()},Io)}),deleteH:Et(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):Wr(this,function(r){var i=Fr(n,r.head,e,t,!1);return 0>e?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=1,a=n;0>t&&(i=-1,t=-t);for(var o=0,s=ge(this.doc,e);t>o;++o){var l=ht(this,s,"div");if(null==a?a=l.left:l.left=a,s=_r(this,l,i,r),s.hitSide)break}return s},moveV:Et(function(e,t){var r=this,n=this.doc,i=[],a=!r.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(o){if(a)return 0>e?o.from():o.to();var s=ht(r,o.head,"div");null!=o.goalColumn&&(s.left=o.goalColumn),i.push(s.left);var l=_r(r,s,e,t);return"page"==t&&o==n.sel.primary()&&Pr(r,null,ft(r,l,"div").top-s.top),l},Io),i.length)for(var o=0;o<n.sel.ranges.length;o++)n.sel.ranges[o].goalColumn=i[o]}),findWordAt:function(e){var t=this.doc,r=$n(t,e.line).text,n=e.ch,i=e.ch;if(r){var a=this.getHelper(e,"wordChars");(e.xRel<0||i==r.length)&&n?--n:++i;for(var o=r.charAt(n),s=ji(o,a)?function(e){return ji(e,a)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ji(e)};n>0&&s(r.charAt(n-1));)--n;for(;i<r.length&&s(r.charAt(i));)++i}return new he(Na(e.line,n),Na(e.line,i))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?qo(this.display.cursorDiv,"CodeMirror-overwrite"):Vo(this.display.cursorDiv,"CodeMirror-overwrite"),Mo(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==zi()},scrollTo:Et(function(e,t){(null!=e||null!=t)&&jr(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ve(this)-this.display.barHeight,width:e.scrollWidth-Ve(this)-this.display.barWidth,clientHeight:Ye(this),clientWidth:qe(this)}},scrollIntoView:Et(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Na(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)jr(this),this.curOp.scrollToPos=e;else{var r=Rr(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(r.scrollLeft,r.scrollTop)}}),setSize:Et(function(e,t){function r(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this;null!=e&&(n.display.wrapper.style.width=r(e)),null!=t&&(n.display.wrapper.style.height=r(t)),n.options.lineWrapping&&at(this);var i=n.display.viewFrom;n.doc.iter(i,n.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Pt(n,i,"widget");break}++i}),n.curOp.forceUpdate=!0,Mo(n,"refresh",this)}),operation:function(e){return At(this,e)},refresh:Et(function(){var e=this.display.cachedTextHeight;Rt(this),this.curOp.forceUpdate=!0,ot(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==e||Math.abs(e-mt(this.display))>.5)&&o(this),Mo(this,"refresh",this)}),swapDoc:Et(function(e){var t=this.doc;return t.cm=null,Kn(this,e),ot(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ki(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){
return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Mi(e);var Xa=e.defaults={},Ka=e.optionHandlers={},$a=e.Init={toString:function(){return"CodeMirror.Init"}};zr("value","",function(e,t){e.setValue(t)},!0),zr("mode",null,function(e,t){e.doc.modeOption=t,r(e)},!0),zr("indentUnit",2,r,!0),zr("indentWithTabs",!1),zr("smartIndent",!0),zr("tabSize",4,function(e){n(e),ot(e),Rt(e)},!0),zr("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var a=e.text.indexOf(t,i);if(-1==a)break;i=a+t.length,r.push(Na(n,a))}n++});for(var i=r.length-1;i>=0;i--)Er(e.doc,t,r[i],Na(r[i].line,r[i].ch+t.length))}}),zr("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,r,n){t.state.specialChars=new RegExp(r.source+(r.test("	")?"":"|	"),"g"),n!=e.Init&&t.refresh()}),zr("specialCharPlaceholder",Bn,function(e){e.refresh()},!0),zr("electricChars",!0),zr("inputStyle",Ca?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),zr("rtlMoveVisually",!Oa),zr("wholeLineUpdateBefore",!0),zr("theme","default",function(e){s(e),l(e)},!0),zr("keyMap","default",function(t,r,n){var i=Vr(r),a=n!=e.Init&&Vr(n);a&&a.detach&&a.detach(t,i),i.attach&&i.attach(t,a||null)}),zr("extraKeys",null),zr("lineWrapping",!1,i,!0),zr("gutters",[],function(e){d(e.options),l(e)},!0),zr("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?C(e.display)+"px":"0",e.refresh()},!0),zr("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),zr("scrollbarStyle","native",function(e){m(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),zr("lineNumbers",!1,function(e){d(e.options),l(e)},!0),zr("firstLineNumber",1,l,!0),zr("lineNumberFormatter",function(e){return e},l,!0),zr("showCursorWhenSelecting",!1,Ie,!0),zr("resetSelectionOnContextMenu",!0),zr("lineWiseCopyCut",!0),zr("readOnly",!1,function(e,t){"nocursor"==t?(gr(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||e.display.input.reset())}),zr("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),zr("dragDrop",!0,_t),zr("cursorBlinkRate",530),zr("cursorScrollMargin",0),zr("cursorHeight",1,Ie,!0),zr("singleCursorHeightPerLine",!0,Ie,!0),zr("workTime",100),zr("workDelay",100),zr("flattenSpans",!0,n,!0),zr("addModeClass",!1,n,!0),zr("pollInterval",100),zr("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),zr("historyEventDelay",1250),zr("viewportMargin",10,function(e){e.refresh()},!0),zr("maxHighlightLength",1e4,n,!0),zr("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),zr("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),zr("autofocus",null);var Za=e.modes={},Ja=e.mimeModes={};e.defineMode=function(t,r){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(r.dependencies=Array.prototype.slice.call(arguments,2)),Za[t]=r},e.defineMIME=function(e,t){Ja[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Ja.hasOwnProperty(t))t=Ja[t];else if(t&&"string"==typeof t.name&&Ja.hasOwnProperty(t.name)){var r=Ja[t.name];"string"==typeof r&&(r={name:r}),t=Ri(r,t),t.name=r.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,r){var r=e.resolveMode(r),n=Za[r.name];if(!n)return e.getMode(t,"text/plain");var i=n(t,r);if(Qa.hasOwnProperty(r.name)){var a=Qa[r.name];for(var o in a)a.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=a[o])}if(i.name=r.name,r.helperType&&(i.helperType=r.helperType),r.modeProps)for(var o in r.modeProps)i[o]=r.modeProps[o];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Qa=e.modeExtensions={};e.extendMode=function(e,t){var r=Qa.hasOwnProperty(e)?Qa[e]:Qa[e]={};Pi(t,r)},e.defineExtension=function(t,r){e.prototype[t]=r},e.defineDocExtension=function(e,t){bo.prototype[e]=t},e.defineOption=zr;var eo=[];e.defineInitHook=function(e){eo.push(e)};var to=e.helpers={};e.registerHelper=function(t,r,n){to.hasOwnProperty(t)||(to[t]=e[t]={_global:[]}),to[t][r]=n},e.registerGlobalHelper=function(t,r,n,i){e.registerHelper(t,r,i),to[t]._global.push({pred:n,val:i})};var ro=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r},no=e.startState=function(e,t,r){return e.startState?e.startState(t,r):!0};e.innerMode=function(e,t){for(;e.innerMode;){var r=e.innerMode(t);if(!r||r.mode==e)break;t=r.state,e=r.mode}return r||{mode:e,state:t}};var io=e.commands={selectAll:function(e){e.setSelection(Na(e.firstLine(),0),Na(e.lastLine()),Uo)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Uo)},killLine:function(e){Wr(e,function(t){if(t.empty()){var r=$n(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:Na(t.head.line+1,0)}:{from:t.head,to:Na(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Wr(e,function(t){return{from:Na(t.from().line,0),to:ge(e.doc,Na(t.to().line+1,0))}})},delLineLeft:function(e){Wr(e,function(e){return{from:Na(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Wr(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){Wr(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Na(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Na(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return na(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return aa(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return ia(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},Io)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},Io)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?aa(e,t.head):n},Io)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var a=r[i].from(),o=Ro(e.getLine(a.line),a.ch,n);t.push(new Array(n-o%n+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){At(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++){var i=t[n].head,a=$n(e.doc,i.line).text;if(a)if(i.ch==a.length&&(i=new Na(i.line,i.ch-1)),i.ch>0)i=new Na(i.line,i.ch+1),e.replaceRange(a.charAt(i.ch-1)+a.charAt(i.ch-2),Na(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var o=$n(e.doc,i.line-1).text;o&&e.replaceRange(a.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),Na(i.line-1,o.length-1),Na(i.line,1),"+transpose")}r.push(new he(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){At(e,function(){for(var t=e.listSelections().length,r=0;t>r;r++){var n=e.listSelections()[r];e.replaceRange(e.doc.lineSeparator(),n.anchor,n.head,"+input"),e.indentLine(n.from().line+1,null,!0),Dr(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},ao=e.keyMap={};ao.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ao.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ao.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},ao.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ao["default"]=Ta?ao.macDefault:ao.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=Ni(r.split(" "),Gr),a=0;a<i.length;a++){var o,s;a==i.length-1?(s=i.join(" "),o=n):(s=i.slice(0,a+1).join(" "),o="...");var l=t[s];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+s)}else t[s]=o}delete e[r]}for(var u in t)e[u]=t[u];return e};var oo=e.lookupKey=function(e,t,r,n){t=Vr(t);var i=t.call?t.call(e,n):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return oo(e,t.fallthrough,r,n);for(var a=0;a<t.fallthrough.length;a++){var o=oo(e,t.fallthrough[a],r,n);if(o)return o}}},so=e.isModifierKey=function(e){var t="string"==typeof e?e:Qo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},lo=e.keyName=function(e,t){if(ba&&34==e.keyCode&&e["char"])return!1;var r=Qo[e.keyCode],n=r;return null==n||e.altGraphKey?!1:(e.altKey&&"Alt"!=r&&(n="Alt-"+n),(Aa?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(n="Ctrl-"+n),(Aa?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(n="Cmd-"+n),!t&&e.shiftKey&&"Shift"!=r&&(n="Shift-"+n),n)};e.fromTextArea=function(t,r){function n(){t.value=u.getValue()}if(r=r?Pi(r):{},r.value=t.value,!r.tabindex&&t.tabIndex&&(r.tabindex=t.tabIndex),!r.placeholder&&t.placeholder&&(r.placeholder=t.placeholder),null==r.autofocus){var i=zi();r.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(To(t.form,"submit",n),!r.leaveSubmitMethodAlone)){var a=t.form,o=a.submit;try{var s=a.submit=function(){n(),a.submit=o,a.submit(),a.submit=s}}catch(l){}}r.finishInit=function(e){e.save=n,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,n(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Oo(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=o))}},t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},r);return u};var uo=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};uo.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var r=t==e;else var r=t&&(e.test?e.test(t):e(t));return r?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ro(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ro(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ro(this.string,null,this.tabSize)-(this.lineStart?Ro(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e},a=this.string.substr(this.pos,e.length);return i(a)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var co=0,fo=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++co};Mi(fo),fo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&bt(e),Oi(this,"clear")){var r=this.find();r&&ki(this,"clear",r.from,r.to)}for(var n=null,i=null,a=0;a<this.lines.length;++a){var o=this.lines[a],s=Jr(o.markedSpans,this);e&&!this.collapsed?Pt(e,ei(o),"text"):e&&(null!=s.to&&(i=ei(o)),null!=s.from&&(n=ei(o))),o.markedSpans=Qr(o.markedSpans,s),null==s.from&&this.collapsed&&!wn(this.doc,o)&&e&&Qn(o,mt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var a=0;a<this.lines.length;++a){var l=mn(this.lines[a]),u=f(l);u>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Rt(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ee(e.doc)),e&&ki(e,"markerCleared",e,this),t&&wt(e),this.parent&&this.parent.clear()}},fo.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var r,n,i=0;i<this.lines.length;++i){var a=this.lines[i],o=Jr(a.markedSpans,this);if(null!=o.from&&(r=Na(t?a:ei(a),o.from),-1==e))return r;if(null!=o.to&&(n=Na(t?a:ei(a),o.to),1==e))return n}return r&&{from:r,to:n}},fo.prototype.changed=function(){var e=this.find(-1,!0),t=this,r=this.doc.cm;e&&r&&At(r,function(){var n=e.line,i=ei(e.line),a=Je(r,i);if(a&&(it(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!wn(t.doc,n)&&null!=t.height){var o=t.height;t.height=null;var s=Cn(t)-o;s&&Qn(n,n.height+s)}})},fo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Ui(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},fo.prototype.detachLine=function(e){if(this.lines.splice(Ui(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var co=0,ho=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};Mi(ho),ho.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ki(this,"clear")}},ho.prototype.find=function(e,t){return this.primary.find(e,t)};var po=e.LineWidget=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};Mi(po),po.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=ei(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var a=Cn(this);Qn(r,Math.max(0,r.height-a)),e&&At(e,function(){Sn(e,r,-a),Pt(e,n,"widget")})}},po.prototype.changed=function(){var e=this.height,t=this.doc.cm,r=this.line;this.height=null;var n=Cn(this)-e;n&&(Qn(r,r.height+n),t&&At(t,function(){t.curOp.forceUpdate=!0,Sn(t,r,n)}))};var vo=e.Line=function(e,t,r){this.text=e,un(this,t),this.height=r?r(this):1};Mi(vo),vo.prototype.lineNo=function(){return ei(this)};var go={},mo={};qn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;n>r;++r){var i=this.lines[r];this.height-=i.height,Mn(i),ki(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;n>e;++e)if(r(this.lines[e]))return!0}},Yn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(i>e){var a=Math.min(t,i-e),o=n.height;if(n.removeInner(e,a),this.height-=o-n.height,i==a&&(this.children.splice(r--,1),n.parent=null),0==(t-=a))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof qn))){var s=[];this.collapse(s),this.children=[new qn(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],a=i.chunkSize();if(a>=e){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var o=i.lines.splice(i.lines.length-25,25),s=new qn(o);i.height-=s.height,this.children.splice(n+1,0,s),s.parent=this}this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new Yn(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=Ui(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new Yn(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],a=i.chunkSize();if(a>e){var o=Math.min(t,a-e);if(i.iterN(e,o,r))return!0;if(0==(t-=o))break;e=0}else e-=a}}};var yo=0,bo=e.Doc=function(e,t,r,n){if(!(this instanceof bo))return new bo(e,t,r,n);null==r&&(r=0),Yn.call(this,[new qn([new vo("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=r;var i=Na(r,0);this.sel=pe(i),this.history=new ii(null),this.id=++yo,this.modeOption=t,this.lineSep=n,"string"==typeof e&&(e=this.splitLines(e)),Vn(this,{from:i,to:i,text:e}),Me(this,pe(i),Uo)};bo.prototype=Ri(Yn.prototype,{constructor:bo,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Jn(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Ut(function(e){var t=Na(this.first,0),r=this.first+this.size-1;Cr(this,{from:t,to:Na(r,$n(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),Me(this,pe(t))}),replaceRange:function(e,t,r,n){t=ge(this,t),r=r?ge(this,r):t,Er(this,e,t,r,n)},getRange:function(e,t,r){var n=Zn(this,ge(this,e),ge(this,t));return r===!1?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return ye(this,e)?$n(this,e):void 0},getLineNumber:function(e){return ei(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=$n(this,e)),mn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ge(this,e)},getCursor:function(e){var t,r=this.sel.primary();return t=null==e||"head"==e?r.head:"anchor"==e?r.anchor:"end"==e||"to"==e||e===!1?r.to():r.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ut(function(e,t,r){Ce(this,ge(this,"number"==typeof e?Na(e,t||0):e),null,r)}),setSelection:Ut(function(e,t,r){Ce(this,ge(this,e),ge(this,t||e),r)}),extendSelection:Ut(function(e,t,r){we(this,ge(this,e),t&&ge(this,t),r)}),extendSelections:Ut(function(e,t){ke(this,be(this,e,t))}),extendSelectionsBy:Ut(function(e,t){ke(this,Ni(this.sel.ranges,e),t)}),setSelections:Ut(function(e,t,r){if(e.length){for(var n=0,i=[];n<e.length;n++)i[n]=new he(ge(this,e[n].anchor),ge(this,e[n].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Me(this,de(i,t),r)}}),addSelection:Ut(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new he(ge(this,e),ge(this,t||e))),Me(this,de(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=Zn(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Zn(this,r[n].from(),r[n].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Ut(function(e,t,r){for(var n=[],i=this.sel,a=0;a<i.ranges.length;a++){var o=i.ranges[a];n[a]={from:o.from(),to:o.to(),text:this.splitLines(e[a]),origin:r}}for(var s=t&&"end"!=t&&kr(this,n,t),a=n.length-1;a>=0;a--)Cr(this,n[a]);s?Oe(this,s):this.cm&&Dr(this.cm)}),undo:Ut(function(){Or(this,"undo")}),redo:Ut(function(){Or(this,"redo")}),undoSelection:Ut(function(){Or(this,"undo",!0)}),redoSelection:Ut(function(){Or(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var n=0;n<e.undone.length;n++)e.undone[n].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new ii(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:vi(this.history.done),undone:vi(this.history.undone)}},setHistory:function(e){var t=this.history=new ii(this.history.maxGeneration);t.done=vi(e.done.slice(0),null,!0),t.undone=vi(e.undone.slice(0),null,!0)},addLineClass:Ut(function(e,t,r){return Hr(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(Gi(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0})}),removeLineClass:Ut(function(e,t,r){return Hr(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var a=i.match(Gi(r));if(!a)return!1;var o=a.index+a[0].length;e[n]=i.slice(0,a.index)+(a.index&&o!=i.length?" ":"")+i.slice(o)||null}return!0})}),addLineWidget:Ut(function(e,t,r){return Tn(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return qr(this,ge(this,e),ge(this,t),r,"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ge(this,e),qr(this,e,e,r,"bookmark")},findMarksAt:function(e){e=ge(this,e);var t=[],r=$n(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=ge(this,e),t=ge(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(a){var o=a.markedSpans;if(o)for(var s=0;s<o.length;s++){var l=o[s];i==e.line&&e.ch>l.to||null==l.from&&i!=e.line||i==t.line&&l.from>t.ch||r&&!r(l.marker)||n.push(l.marker.parent||l.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first;return this.iter(function(n){var i=n.text.length+1;return i>e?(t=e,!0):(e-=i,void++r)}),ge(this,Na(r,t))},indexFromPos:function(e){e=ge(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new bo(Jn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new bo(Jn(this,t,r),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Kr(n,Xr(this)),n},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=this.linked[r];if(n.doc==t){this.linked.splice(r,1),t.unlinkDoc(this),$r(Xr(this));break}}if(t.history==this.history){var i=[t.id];Xn(t,function(e){i.push(e.id)},!0),t.history=new ii(null),t.history.done=vi(this.history.done,i),t.history.undone=vi(this.history.undone,i)}},iterLinkedDocs:function(e){Xn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ko(e)},lineSeparator:function(){return this.lineSep||"\n"}}),bo.prototype.eachLine=bo.prototype.iter;var xo="iter insert remove copy getEditor constructor".split(" ");for(var wo in bo.prototype)bo.prototype.hasOwnProperty(wo)&&Ui(xo,wo)<0&&(e.prototype[wo]=function(e){return function(){return e.apply(this.doc,arguments)}}(bo.prototype[wo]));Mi(bo);var ko=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},So=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Co=e.e_stop=function(e){ko(e),So(e)},To=e.on=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={}),i=n[t]||(n[t]=[]);i.push(r)}},Oo=e.off=function(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers&&e._handlers[t];if(!n)return;for(var i=0;i<n.length;++i)if(n[i]==r){n.splice(i,1);break}}},Mo=e.signal=function(e,t){var r=e._handlers&&e._handlers[t];if(r)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)},Ao=null,Lo=30,Eo=e.Pass={toString:function(){return"CodeMirror.Pass"}},Uo={scroll:!1},No={origin:"*mouse"},Io={origin:"+move"};Ai.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ro=e.countColumn=function(e,t,r,n,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var a=n||0,o=i||0;;){var s=e.indexOf("	",a);if(0>s||s>=t)return o+(t-a);o+=s-a,o+=r-o%r,a=s+1}},Po=e.findColumn=function(e,t,r){for(var n=0,i=0;;){var a=e.indexOf("	",n);-1==a&&(a=e.length);var o=a-n;if(a==e.length||i+o>=t)return n+Math.min(o,t-i);if(i+=a-n,i+=r-i%r,n=a+1,i>=t)return n}},Do=[""],jo=function(e){e.select()};Sa?jo=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:pa&&(jo=function(e){try{e.select()}catch(t){}});var Bo,Ho=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Wo=e.isWordChar=function(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Ho.test(e))},Fo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Bo=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(i){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var _o=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};pa&&11>va&&(zi=function(){try{return document.activeElement}catch(e){return document.body}});var zo,Go,Vo=e.rmClass=function(e,t){var r=e.className,n=Gi(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}},qo=e.addClass=function(e,t){
var r=e.className;Gi(t).test(r)||(e.className+=(r?" ":"")+t)},Yo=!1,Xo=function(){if(pa&&9>va)return!1;var e=Wi("div");return"draggable"in e||"dragDrop"in e}(),Ko=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;n>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var a=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),o=a.indexOf("\r");-1!=o?(r.push(a.slice(0,o)),t+=o+1):(r.push(a),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},$o=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(r){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},Zo=function(){var e=Wi("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Jo=null,Qo=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;10>e;e++)Qo[e+48]=Qo[e+96]=String(e);for(var e=65;90>=e;e++)Qo[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Qo[e+111]=Qo[e+63235]="F"+e}();var es,ts=function(){function e(e){return 247>=e?r.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?n.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,r){this.level=e,this.from=t,this.to=r}var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,l=/[1n]/,u="L";return function(r){if(!i.test(r))return!1;for(var n,c=r.length,f=[],h=0;c>h;++h)f.push(n=e(r.charCodeAt(h)));for(var h=0,d=u;c>h;++h){var n=f[h];"m"==n?f[h]=d:d=n}for(var h=0,p=u;c>h;++h){var n=f[h];"1"==n&&"r"==p?f[h]="n":o.test(n)&&(p=n,"r"==n&&(f[h]="R"))}for(var h=1,d=f[0];c-1>h;++h){var n=f[h];"+"==n&&"1"==d&&"1"==f[h+1]?f[h]="1":","!=n||d!=f[h+1]||"1"!=d&&"n"!=d||(f[h]=d),d=n}for(var h=0;c>h;++h){var n=f[h];if(","==n)f[h]="N";else if("%"==n){for(var v=h+1;c>v&&"%"==f[v];++v);for(var g=h&&"!"==f[h-1]||c>v&&"1"==f[v]?"1":"N",m=h;v>m;++m)f[m]=g;h=v-1}}for(var h=0,p=u;c>h;++h){var n=f[h];"L"==p&&"1"==n?f[h]="L":o.test(n)&&(p=n)}for(var h=0;c>h;++h)if(a.test(f[h])){for(var v=h+1;c>v&&a.test(f[v]);++v);for(var y="L"==(h?f[h-1]:u),b="L"==(c>v?f[v]:u),g=y||b?"L":"R",m=h;v>m;++m)f[m]=g;h=v-1}for(var x,w=[],h=0;c>h;)if(s.test(f[h])){var k=h;for(++h;c>h&&s.test(f[h]);++h);w.push(new t(0,k,h))}else{var S=h,C=w.length;for(++h;c>h&&"L"!=f[h];++h);for(var m=S;h>m;)if(l.test(f[m])){m>S&&w.splice(C,0,new t(1,S,m));var T=m;for(++m;h>m&&l.test(f[m]);++m);w.splice(C,0,new t(2,T,m)),S=m}else++m;h>S&&w.splice(C,0,new t(1,S,h))}return 1==w[0].level&&(x=r.match(/^\s+/))&&(w[0].from=x[0].length,w.unshift(new t(0,0,x[0].length))),1==Ei(w).level&&(x=r.match(/\s+$/))&&(Ei(w).to-=x[0].length,w.push(new t(0,c-x[0].length,c))),2==w[0].level&&w.unshift(new t(1,w[0].to,w[0].to)),w[0].level!=Ei(w).level&&w.push(new t(w[0].level,c,c)),w}}();return e.version="5.6.1",e}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,r){function n(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}function i(e,t,r){return ge=e,me=r,t}function a(e,t){var r=e.next();if('"'==r||"'"==r)return t.tokenize=o(r),t.tokenize(e,t);if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==r&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return i(r);if("="==r&&e.eat(">"))return i("=>","operator");if("0"==r&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if("0"==r&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),i("number","number");if("0"==r&&e.eat(/b/i))return e.eatWhile(/[01]/i),i("number","number");if(/\d/.test(r))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==r)return e.eat("*")?(t.tokenize=s,s(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(n(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),i("regexp","string-2")):(e.eatWhile(Te),i("operator","operator",e.current()));if("`"==r)return t.tokenize=l,l(e,t);if("#"==r)return e.skipToEnd(),i("error","error");if(Te.test(r))return e.eatWhile(Te),i("operator","operator",e.current());if(Se.test(r)){e.eatWhile(Se);var a=e.current(),u=Ce.propertyIsEnumerable(a)&&Ce[a];return u&&"."!=t.lastType?i(u.type,u.style,a):i("variable","variable",a)}}function o(e){return function(t,r){var n,o=!1;if(xe&&"@"==t.peek()&&t.match(Oe))return r.tokenize=a,i("jsonld-keyword","meta");for(;null!=(n=t.next())&&(n!=e||o);)o=!o&&"\\"==n;return o||(r.tokenize=a),i("string","string")}}function s(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=a;break}n="*"==r}return i("comment","comment")}function l(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=a;break}n=!n&&"\\"==r}return i("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(0>r)){for(var n=0,i=!1,a=r-1;a>=0;--a){var o=e.string.charAt(a),s=Me.indexOf(o);if(s>=0&&3>s){if(!n){++a;break}if(0==--n)break}else if(s>=3&&6>s)++n;else if(Se.test(o))i=!0;else{if(/["'\/]/.test(o))return;if(i&&!n){++a;break}}}i&&!n&&(t.fatArrowAt=a)}}function c(e,t,r,n,i,a){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=a,null!=n&&(this.align=n)}function f(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(var r=n.vars;r;r=r.next)if(r.name==t)return!0}function h(e,t,r,n,i){var a=e.cc;for(Le.state=e,Le.stream=i,Le.marked=null,Le.cc=a,Le.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var o=a.length?a.pop():we?k:w;if(o(r,n)){for(;a.length&&a[a.length-1].lex;)a.pop()();return Le.marked?Le.marked:"variable"==r&&f(e,n)?"variable-2":t}}}function d(){for(var e=arguments.length-1;e>=0;e--)Le.cc.push(arguments[e])}function p(){return d.apply(null,arguments),!0}function v(e){function t(t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}var n=Le.state;if(n.context){if(Le.marked="def",t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;r.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function g(){Le.state.context={prev:Le.state.context,vars:Le.state.localVars},Le.state.localVars=Ee}function m(){Le.state.localVars=Le.state.context.vars,Le.state.context=Le.state.context.prev}function y(e,t){var r=function(){var r=Le.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new c(n,Le.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function b(){var e=Le.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function x(e){function t(r){return r==e?p():";"==e?d():p(t)}return t}function w(e,t){return"var"==e?p(y("vardef",t.length),G,x(";"),b):"keyword a"==e?p(y("form"),k,w,b):"keyword b"==e?p(y("form"),w,b):"{"==e?p(y("}"),W,b):";"==e?p():"if"==e?("else"==Le.state.lexical.info&&Le.state.cc[Le.state.cc.length-1]==b&&Le.state.cc.pop()(),p(y("form"),k,w,b,K)):"function"==e?p(te):"for"==e?p(y("form"),$,w,b):"variable"==e?p(y("stat"),I):"switch"==e?p(y("form"),k,y("}","switch"),x("{"),W,b,b):"case"==e?p(k,x(":")):"default"==e?p(x(":")):"catch"==e?p(y("form"),g,x("("),re,x(")"),w,b,m):"class"==e?p(y("form"),ne,b):"export"==e?p(y("stat"),se,b):"import"==e?p(y("stat"),le,b):d(y("stat"),k,x(";"),b)}function k(e){return C(e,!1)}function S(e){return C(e,!0)}function C(e,t){if(Le.state.fatArrowAt==Le.stream.start){var r=t?N:U;if("("==e)return p(g,y(")"),B(V,")"),b,x("=>"),r,m);if("variable"==e)return d(g,V,x("=>"),r,m)}var n=t?A:M;return Ae.hasOwnProperty(e)?p(n):"async"==e?p(k):"function"==e?p(te,n):"keyword c"==e?p(t?O:T):"("==e?p(y(")"),T,pe,x(")"),b,n):"operator"==e||"spread"==e?p(t?S:k):"["==e?p(y("]"),he,b,n):"{"==e?H(P,"}",null,n):"quasi"==e?d(L,n):p()}function T(e){return e.match(/[;\}\)\],]/)?d():d(k)}function O(e){return e.match(/[;\}\)\],]/)?d():d(S)}function M(e,t){return","==e?p(k):A(e,t,!1)}function A(e,t,r){var n=0==r?M:A,i=0==r?k:S;return"=>"==e?p(g,r?N:U,m):"operator"==e?/\+\+|--/.test(t)?p(n):"?"==t?p(k,x(":"),i):p(i):"quasi"==e?d(L,n):";"!=e?"("==e?H(S,")","call",n):"."==e?p(R,n):"["==e?p(y("]"),T,x("]"),b,n):void 0:void 0}function L(e,t){return"quasi"!=e?d():"${"!=t.slice(t.length-2)?p(L):p(k,E)}function E(e){return"}"==e?(Le.marked="string-2",Le.state.tokenize=l,p(L)):void 0}function U(e){return u(Le.stream,Le.state),d("{"==e?w:k)}function N(e){return u(Le.stream,Le.state),d("{"==e?w:S)}function I(e){return":"==e?p(b,w):d(M,x(";"),b)}function R(e){return"variable"==e?(Le.marked="property",p()):void 0}function P(e,t){return"async"==e?p(P):"variable"==e||"keyword"==Le.style?(Le.marked="property",p("get"==t||"set"==t?D:j)):"number"==e||"string"==e?(Le.marked=xe?"property":Le.style+" property",p(j)):"jsonld-keyword"==e?p(j):"["==e?p(k,x("]"),j):void 0}function D(e){return"variable"!=e?d(j):(Le.marked="property",p(te))}function j(e){return":"==e?p(S):"("==e?d(te):void 0}function B(e,t){function r(n){if(","==n){var i=Le.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),p(e,r)}return n==t?p():p(x(t))}return function(n){return n==t?p():d(e,r)}}function H(e,t,r){for(var n=3;n<arguments.length;n++)Le.cc.push(arguments[n]);return p(y(t,r),B(e,t),b)}function W(e){return"}"==e?p():d(w,W)}function F(e){return ke&&":"==e?p(z):void 0}function _(e,t){return"="==t?p(S):void 0}function z(e){return"variable"==e?(Le.marked="variable-3",p()):void 0}function G(){return d(V,F,Y,X)}function V(e,t){return"variable"==e?(v(t),p()):"["==e?H(V,"]"):"{"==e?H(q,"}"):void 0}function q(e,t){return"variable"!=e||Le.stream.match(/^\s*:/,!1)?("variable"==e&&(Le.marked="property"),p(x(":"),V,Y)):(v(t),p(Y))}function Y(e,t){return"="==t?p(S):void 0}function X(e){return","==e?p(G):void 0}function K(e,t){return"keyword b"==e&&"else"==t?p(y("form","else"),w,b):void 0}function $(e){return"("==e?p(y(")"),Z,x(")"),b):void 0}function Z(e){return"var"==e?p(G,x(";"),Q):";"==e?p(Q):"variable"==e?p(J):d(k,x(";"),Q)}function J(e,t){return"in"==t||"of"==t?(Le.marked="keyword",p(k)):p(M,Q)}function Q(e,t){return";"==e?p(ee):"in"==t||"of"==t?(Le.marked="keyword",p(k)):d(k,x(";"),ee)}function ee(e){")"!=e&&p(k)}function te(e,t){return"*"==t?(Le.marked="keyword",p(te)):"variable"==e?(v(t),p(te)):"("==e?p(g,y(")"),B(re,")"),b,w,m):void 0}function re(e){return"spread"==e?p(re):d(V,F,_)}function ne(e,t){return"variable"==e?(v(t),p(ie)):void 0}function ie(e,t){return"extends"==t?p(k,ie):"{"==e?p(y("}"),ae,b):void 0}function ae(e,t){return"variable"==e||"keyword"==Le.style?"static"==t?(Le.marked="keyword",p(ae)):(Le.marked="property","get"==t||"set"==t?p(oe,te,ae):p(te,ae)):"*"==t?(Le.marked="keyword",p(ae)):";"==e?p(ae):"}"==e?p():void 0}function oe(e){return"variable"!=e?d():(Le.marked="property",p())}function se(e,t){return"*"==t?(Le.marked="keyword",p(fe,x(";"))):"default"==t?(Le.marked="keyword",p(k,x(";"))):d(w)}function le(e){return"string"==e?p():d(ue,fe)}function ue(e,t){return"{"==e?H(ue,"}"):("variable"==e&&v(t),"*"==t&&(Le.marked="keyword"),p(ce))}function ce(e,t){return"as"==t?(Le.marked="keyword",p(ue)):void 0}function fe(e,t){return"from"==t?(Le.marked="keyword",p(k)):void 0}function he(e){return"]"==e?p():d(S,de)}function de(e){return"for"==e?d(pe,x("]")):","==e?p(B(O,"]")):d(B(S,"]"))}function pe(e){return"for"==e?p($,pe):"if"==e?p(k,pe):void 0}function ve(e,t){return"operator"==e.lastType||","==e.lastType||Te.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var ge,me,ye=t.indentUnit,be=r.statementIndent,xe=r.jsonld,we=r.json||xe,ke=r.typescript,Se=r.wordCharacters||/[\w$\xa1-\uffff]/,Ce=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("operator"),a={type:"atom",style:"atom"},o={"if":e("if"),"while":t,"with":t,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"debugger":n,"var":e("var"),"const":e("var"),let:e("var"),async:e("async"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":a,"false":a,"null":a,undefined:a,NaN:a,Infinity:a,"this":e("this"),"class":e("class"),"super":e("atom"),await:n,"yield":n,"export":e("export"),"import":e("import"),"extends":n};if(ke){var s={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:s,number:s,bool:s,any:s};for(var u in l)o[u]=l[u]}return o}(),Te=/[+\-*&%=<>!?|~^]/,Oe=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Me="([{}])",Ae={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Le={state:null,column:null,marked:null,cc:null},Ee={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){var t={tokenize:a,lastType:"sof",cc:[],lexical:new c((e||0)-ye,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=s&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==ge?r:(t.lastType="operator"!=ge||"++"!=me&&"--"!=me?ge:"incdec",h(t,r,ge,me,e))},indent:function(t,n){if(t.tokenize==s)return e.Pass;if(t.tokenize!=a)return 0;var i=n&&n.charAt(0),o=t.lexical;if(!/^\s*else\b/.test(n))for(var l=t.cc.length-1;l>=0;--l){var u=t.cc[l];if(u==b)o=o.prev;else if(u!=K)break}"stat"==o.type&&"}"==i&&(o=o.prev),be&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var c=o.type,f=i==c;return"vardef"==c?o.indented+("operator"==t.lastType||","==t.lastType?o.info+1:0):"form"==c&&"{"==i?o.indented:"form"==c?o.indented+ye:"stat"==c?o.indented+(ve(t,n)?be||ye:0):"switch"!=o.info||f||0==r.doubleIndentSwitch?o.align?o.column+(f?0:1):o.indented+(f?0:ye):o.indented+(/^(?:case|default)\b/.test(n)?ye:2*ye)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:we?null:"/*",blockCommentEnd:we?null:"*/",lineComment:we?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:we?"json":"javascript",jsonldMode:xe,jsonMode:we}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(){var e=this,t=e._,r={},n=Array.prototype,i=Object.prototype,a=Function.prototype,o=n.push,s=n.slice,l=n.concat,u=i.toString,c=i.hasOwnProperty,f=n.forEach,h=n.map,d=n.reduce,p=n.reduceRight,v=n.filter,g=n.every,m=n.some,y=n.indexOf,b=n.lastIndexOf,x=Array.isArray,w=Object.keys,k=a.bind,S=function(e){return e instanceof S?e:this instanceof S?void(this._wrapped=e):new S(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=S),exports._=S):e._=S,S.VERSION="1.5.2";var C=S.each=S.forEach=function(e,t,n){if(null!=e)if(f&&e.forEach===f)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,a=e.length;a>i;i++)if(t.call(n,e[i],i,e)===r)return}else for(var o=S.keys(e),i=0,a=o.length;a>i;i++)if(t.call(n,e[o[i]],o[i],e)===r)return};S.map=S.collect=function(e,t,r){var n=[];return null==e?n:h&&e.map===h?e.map(t,r):(C(e,function(e,i,a){n.push(t.call(r,e,i,a))}),n)};var T="Reduce of empty array with no initial value";S.reduce=S.foldl=S.inject=function(e,t,r,n){var i=arguments.length>2;if(null==e&&(e=[]),d&&e.reduce===d)return n&&(t=S.bind(t,n)),i?e.reduce(t,r):e.reduce(t);if(C(e,function(e,a,o){i?r=t.call(n,r,e,a,o):(r=e,i=!0)}),!i)throw new TypeError(T);return r},S.reduceRight=S.foldr=function(e,t,r,n){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduceRight===p)return n&&(t=S.bind(t,n)),i?e.reduceRight(t,r):e.reduceRight(t);var a=e.length;if(a!==+a){var o=S.keys(e);a=o.length}if(C(e,function(s,l,u){l=o?o[--a]:--a,i?r=t.call(n,r,e[l],l,u):(r=e[l],i=!0)}),!i)throw new TypeError(T);return r},S.find=S.detect=function(e,t,r){var n;return O(e,function(e,i,a){return t.call(r,e,i,a)?(n=e,!0):void 0}),n},S.filter=S.select=function(e,t,r){var n=[];return null==e?n:v&&e.filter===v?e.filter(t,r):(C(e,function(e,i,a){t.call(r,e,i,a)&&n.push(e)}),n)},S.reject=function(e,t,r){return S.filter(e,function(e,n,i){return!t.call(r,e,n,i)},r)},S.every=S.all=function(e,t,n){t||(t=S.identity);var i=!0;return null==e?i:g&&e.every===g?e.every(t,n):(C(e,function(e,a,o){return(i=i&&t.call(n,e,a,o))?void 0:r}),!!i)};var O=S.some=S.any=function(e,t,n){t||(t=S.identity);var i=!1;return null==e?i:m&&e.some===m?e.some(t,n):(C(e,function(e,a,o){return i||(i=t.call(n,e,a,o))?r:void 0}),!!i)};S.contains=S.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):O(e,function(e){return e===t})},S.invoke=function(e,t){var r=s.call(arguments,2),n=S.isFunction(t);return S.map(e,function(e){return(n?t:e[t]).apply(e,r)})},S.pluck=function(e,t){return S.map(e,function(e){return e[t]})},S.where=function(e,t,r){return S.isEmpty(t)?r?void 0:[]:S[r?"find":"filter"](e,function(e){for(var r in t)if(t[r]!==e[r])return!1;return!0})},S.findWhere=function(e,t){return S.where(e,t,!0)},S.max=function(e,t,r){if(!t&&S.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&S.isEmpty(e))return-(1/0);var n={computed:-(1/0),value:-(1/0)};return C(e,function(e,i,a){var o=t?t.call(r,e,i,a):e;o>n.computed&&(n={value:e,computed:o})}),n.value},S.min=function(e,t,r){if(!t&&S.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&S.isEmpty(e))return 1/0;var n={computed:1/0,value:1/0};return C(e,function(e,i,a){var o=t?t.call(r,e,i,a):e;o<n.computed&&(n={value:e,computed:o})}),n.value},S.shuffle=function(e){var t,r=0,n=[];return C(e,function(e){t=S.random(r++),n[r-1]=n[t],n[t]=e}),n},S.sample=function(e,t,r){return arguments.length<2||r?e[S.random(e.length-1)]:S.shuffle(e).slice(0,Math.max(0,t))};var M=function(e){return S.isFunction(e)?e:function(t){return t[e]}};S.sortBy=function(e,t,r){var n=M(t);return S.pluck(S.map(e,function(e,t,i){return{value:e,index:t,criteria:n.call(r,e,t,i)}}).sort(function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(n>r||void 0===n)return-1}return e.index-t.index}),"value")};var A=function(e){return function(t,r,n){var i={},a=null==r?S.identity:M(r);return C(t,function(r,o){var s=a.call(n,r,o,t);e(i,s,r)}),i}};S.groupBy=A(function(e,t,r){(S.has(e,t)?e[t]:e[t]=[]).push(r)}),S.indexBy=A(function(e,t,r){e[t]=r}),S.countBy=A(function(e,t){S.has(e,t)?e[t]++:e[t]=1}),S.sortedIndex=function(e,t,r,n){r=null==r?S.identity:M(r);for(var i=r.call(n,t),a=0,o=e.length;o>a;){var s=a+o>>>1;r.call(n,e[s])<i?a=s+1:o=s}return a},S.toArray=function(e){return e?S.isArray(e)?s.call(e):e.length===+e.length?S.map(e,S.identity):S.values(e):[]},S.size=function(e){return null==e?0:e.length===+e.length?e.length:S.keys(e).length},S.first=S.head=S.take=function(e,t,r){return null==e?void 0:null==t||r?e[0]:s.call(e,0,t)},S.initial=function(e,t,r){return s.call(e,0,e.length-(null==t||r?1:t))},S.last=function(e,t,r){return null==e?void 0:null==t||r?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},S.rest=S.tail=S.drop=function(e,t,r){return s.call(e,null==t||r?1:t)},S.compact=function(e){return S.filter(e,S.identity)};var L=function(e,t,r){return t&&S.every(e,S.isArray)?l.apply(r,e):(C(e,function(e){S.isArray(e)||S.isArguments(e)?t?o.apply(r,e):L(e,t,r):r.push(e)}),r)};S.flatten=function(e,t){return L(e,t,[])},S.without=function(e){return S.difference(e,s.call(arguments,1))},S.uniq=S.unique=function(e,t,r,n){S.isFunction(t)&&(n=r,r=t,t=!1);var i=r?S.map(e,r,n):e,a=[],o=[];return C(i,function(r,n){(t?n&&o[o.length-1]===r:S.contains(o,r))||(o.push(r),a.push(e[n]))}),a},S.union=function(){return S.uniq(S.flatten(arguments,!0))},S.intersection=function(e){var t=s.call(arguments,1);return S.filter(S.uniq(e),function(e){return S.every(t,function(t){return S.indexOf(t,e)>=0})})},S.difference=function(e){var t=l.apply(n,s.call(arguments,1));return S.filter(e,function(e){return!S.contains(t,e)})},S.zip=function(){for(var e=S.max(S.pluck(arguments,"length").concat(0)),t=new Array(e),r=0;e>r;r++)t[r]=S.pluck(arguments,""+r);return t},S.object=function(e,t){if(null==e)return{};for(var r={},n=0,i=e.length;i>n;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r},S.indexOf=function(e,t,r){if(null==e)return-1;var n=0,i=e.length;if(r){if("number"!=typeof r)return n=S.sortedIndex(e,t),e[n]===t?n:-1;n=0>r?Math.max(0,i+r):r}if(y&&e.indexOf===y)return e.indexOf(t,r);for(;i>n;n++)if(e[n]===t)return n;return-1},S.lastIndexOf=function(e,t,r){if(null==e)return-1;var n=null!=r;if(b&&e.lastIndexOf===b)return n?e.lastIndexOf(t,r):e.lastIndexOf(t);for(var i=n?r:e.length;i--;)if(e[i]===t)return i;return-1},S.range=function(e,t,r){arguments.length<=1&&(t=e||0,e=0),r=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/r),0),i=0,a=new Array(n);n>i;)a[i++]=e,e+=r;return a};var E=function(){};S.bind=function(e,t){var r,n;if(k&&e.bind===k)return k.apply(e,s.call(arguments,1));if(!S.isFunction(e))throw new TypeError;return r=s.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(s.call(arguments)));E.prototype=e.prototype;var i=new E;E.prototype=null;var a=e.apply(i,r.concat(s.call(arguments)));return Object(a)===a?a:i}},S.partial=function(e){var t=s.call(arguments,1);return function(){return e.apply(this,t.concat(s.call(arguments)))}},S.bindAll=function(e){var t=s.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return C(t,function(t){e[t]=S.bind(e[t],e)}),e},S.memoize=function(e,t){var r={};return t||(t=S.identity),function(){var n=t.apply(this,arguments);return S.has(r,n)?r[n]:r[n]=e.apply(this,arguments)}},S.delay=function(e,t){var r=s.call(arguments,2);return setTimeout(function(){return e.apply(null,r)},t)},S.defer=function(e){return S.delay.apply(S,[e,1].concat(s.call(arguments,1)))},S.throttle=function(e,t,r){var n,i,a,o=null,s=0;r||(r={});var l=function(){s=r.leading===!1?0:new Date,o=null,a=e.apply(n,i)};return function(){var u=new Date;s||r.leading!==!1||(s=u);var c=t-(u-s);return n=this,i=arguments,0>=c?(clearTimeout(o),o=null,s=u,a=e.apply(n,i)):o||r.trailing===!1||(o=setTimeout(l,c)),a}},S.debounce=function(e,t,r){var n,i,a,o,s;return function(){a=this,i=arguments,o=new Date;var l=function(){var u=new Date-o;t>u?n=setTimeout(l,t-u):(n=null,r||(s=e.apply(a,i)))},u=r&&!n;return n||(n=setTimeout(l,t)),u&&(s=e.apply(a,i)),s}},S.once=function(e){var t,r=!1;return function(){return r?t:(r=!0,t=e.apply(this,arguments),e=null,t)}},S.wrap=function(e,t){return function(){var r=[e];return o.apply(r,arguments),t.apply(this,r)}},S.compose=function(){var e=arguments;return function(){for(var t=arguments,r=e.length-1;r>=0;r--)t=[e[r].apply(this,t)];return t[0]}},S.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},S.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var r in e)S.has(e,r)&&t.push(r);return t},S.values=function(e){for(var t=S.keys(e),r=t.length,n=new Array(r),i=0;r>i;i++)n[i]=e[t[i]];return n},S.pairs=function(e){for(var t=S.keys(e),r=t.length,n=new Array(r),i=0;r>i;i++)n[i]=[t[i],e[t[i]]];return n},S.invert=function(e){for(var t={},r=S.keys(e),n=0,i=r.length;i>n;n++)t[e[r[n]]]=r[n];return t},S.functions=S.methods=function(e){var t=[];for(var r in e)S.isFunction(e[r])&&t.push(r);return t.sort()},S.extend=function(e){return C(s.call(arguments,1),function(t){if(t)for(var r in t)e[r]=t[r]}),e},S.pick=function(e){var t={},r=l.apply(n,s.call(arguments,1));return C(r,function(r){r in e&&(t[r]=e[r])}),t},S.omit=function(e){var t={},r=l.apply(n,s.call(arguments,1));for(var i in e)S.contains(r,i)||(t[i]=e[i]);return t},S.defaults=function(e){return C(s.call(arguments,1),function(t){if(t)for(var r in t)void 0===e[r]&&(e[r]=t[r])}),e},S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e},S.tap=function(e,t){return t(e),e};var U=function(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof S&&(e=e._wrapped),t instanceof S&&(t=t._wrapped);var i=u.call(e);if(i!=u.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=r.length;a--;)if(r[a]==e)return n[a]==t;var o=e.constructor,s=t.constructor;if(o!==s&&!(S.isFunction(o)&&o instanceof o&&S.isFunction(s)&&s instanceof s))return!1;r.push(e),n.push(t);var l=0,c=!0;if("[object Array]"==i){if(l=e.length,c=l==t.length)for(;l--&&(c=U(e[l],t[l],r,n)););}else{for(var f in e)if(S.has(e,f)&&(l++,!(c=S.has(t,f)&&U(e[f],t[f],r,n))))break;if(c){for(f in t)if(S.has(t,f)&&!l--)break;c=!l}}return r.pop(),n.pop(),c};S.isEqual=function(e,t){return U(e,t,[],[])},S.isEmpty=function(e){if(null==e)return!0;if(S.isArray(e)||S.isString(e))return 0===e.length;for(var t in e)if(S.has(e,t))return!1;return!0},S.isElement=function(e){return!(!e||1!==e.nodeType)},S.isArray=x||function(e){return"[object Array]"==u.call(e)},S.isObject=function(e){return e===Object(e)},C(["Arguments","Function","String","Number","Date","RegExp"],function(e){S["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),S.isArguments(arguments)||(S.isArguments=function(e){return!(!e||!S.has(e,"callee"))}),"function"!=typeof/./&&(S.isFunction=function(e){return"function"==typeof e}),S.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},S.isNaN=function(e){return S.isNumber(e)&&e!=+e},S.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},S.isNull=function(e){return null===e},S.isUndefined=function(e){return void 0===e},S.has=function(e,t){return c.call(e,t)},S.noConflict=function(){return e._=t,this},S.identity=function(e){return e},S.times=function(e,t,r){for(var n=Array(Math.max(0,e)),i=0;e>i;i++)n[i]=t.call(r,i);return n},S.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=S.invert(N.escape);var I={escape:new RegExp("["+S.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+S.keys(N.unescape).join("|")+")","g")};S.each(["escape","unescape"],function(e){S[e]=function(t){return null==t?"":(""+t).replace(I[e],function(t){return N[e][t]})}}),S.result=function(e,t){if(null==e)return void 0;var r=e[t];return S.isFunction(r)?r.call(e):r},S.mixin=function(e){C(S.functions(e),function(t){var r=S[t]=e[t];S.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),B.call(this,r.apply(S,e))}})};var R=0;S.uniqueId=function(e){var t=++R+"";return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;S.template=function(e,t,r){var n;r=S.defaults({},r,S.templateSettings);var i=new RegExp([(r.escape||P).source,(r.interpolate||P).source,(r.evaluate||P).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(i,function(t,r,n,i,s){return o+=e.slice(a,s).replace(j,function(e){return"\\"+D[e]}),r&&(o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),n&&(o+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),a=s+t.length,t}),o+="';\n",r.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{n=new Function(r.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return n(t,S);var l=function(e){return n.call(this,e,S)};return l.source="function("+(r.variable||"obj")+"){\n"+o+"}",l},S.chain=function(e){return S(e).chain()};var B=function(e){return this._chain?S(e).chain():e};S.mixin(S),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];S.prototype[e]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=e&&"splice"!=e||0!==r.length||delete r[0],B.call(this,r)}}),C(["concat","join","slice"],function(e){var t=n[e];S.prototype[e]=function(){return B.call(this,t.apply(this._wrapped,arguments))}}),S.extend(S.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this);