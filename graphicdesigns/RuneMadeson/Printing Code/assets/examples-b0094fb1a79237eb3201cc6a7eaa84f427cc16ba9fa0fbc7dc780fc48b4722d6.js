!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Rune=e()}}(function(){return function e(t,r,n){function i(s,o){if(!r[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){},{}],2:[function(e,t,n){function i(e){var t,r,n,i=e[0]/255,a=e[1]/255,s=e[2]/255,o=Math.min(i,a,s),l=Math.max(i,a,s),u=l-o;return l==o?t=0:i==l?t=(a-s)/u:a==l?t=2+(s-i)/u:s==l&&(t=4+(i-a)/u),t=Math.min(60*t,360),0>t&&(t+=360),n=(o+l)/2,r=l==o?0:.5>=n?u/(l+o):u/(2-l-o),[t,100*r,100*n]}function a(e){var t,r,n,i=e[0],a=e[1],s=e[2],o=Math.min(i,a,s),l=Math.max(i,a,s),u=l-o;return r=0==l?0:u/l*1e3/10,l==o?t=0:i==l?t=(a-s)/u:a==l?t=2+(s-i)/u:s==l&&(t=4+(i-a)/u),t=Math.min(60*t,360),0>t&&(t+=360),n=l/255*1e3/10,[t,r,n]}function s(e){var t=e[0],r=e[1],n=e[2],a=i(e)[0],s=1/255*Math.min(t,Math.min(r,n)),n=1-1/255*Math.max(t,Math.max(r,n));return[a,100*s,100*n]}function o(e){var t,r,n,i,a=e[0]/255,s=e[1]/255,o=e[2]/255;return i=Math.min(1-a,1-s,1-o),t=(1-a-i)/(1-i)||0,r=(1-s-i)/(1-i)||0,n=(1-o-i)/(1-i)||0,[100*t,100*r,100*n,100*i]}function l(e){return Q[JSON.stringify(e)]}function u(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=.4124*t+.3576*r+.1805*n,a=.2126*t+.7152*r+.0722*n,s=.0193*t+.1192*r+.9505*n;return[100*i,100*a,100*s]}function c(e){var t,r,n,i=u(e),a=i[0],s=i[1],o=i[2];return a/=95.047,s/=100,o/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,t=116*s-16,r=500*(a-s),n=200*(s-o),[t,r,n]}function h(e){return B(c(e))}function f(e){var t,r,n,i,a,s=e[0]/360,o=e[1]/100,l=e[2]/100;if(0==o)return a=255*l,[a,a,a];r=.5>l?l*(1+o):l+o-l*o,t=2*l-r,i=[0,0,0];for(var u=0;3>u;u++)n=s+1/3*-(u-1),0>n&&n++,n>1&&n--,a=1>6*n?t+6*(r-t)*n:1>2*n?r:2>3*n?t+(r-t)*(2/3-n)*6:t,i[u]=255*a;return i}function p(e){var t,r,n=e[0],i=e[1]/100,a=e[2]/100;return 0===a?[0,0,0]:(a*=2,i*=1>=a?a:2-a,r=(a+i)/2,t=2*i/(a+i),[n,100*t,100*r])}function d(e){return s(f(e))}function v(e){return o(f(e))}function m(e){return l(f(e))}function y(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,a=t-Math.floor(t),s=255*n*(1-r),o=255*n*(1-r*a),l=255*n*(1-r*(1-a)),n=255*n;switch(i){case 0:return[n,l,s];case 1:return[o,n,s];case 2:return[s,n,l];case 3:return[s,o,n];case 4:return[l,s,n];case 5:return[n,s,o]}}function x(e){var t,r,n=e[0],i=e[1]/100,a=e[2]/100;return r=(2-i)*a,t=i*a,t/=1>=r?r:2-r,t=t||0,r/=2,[n,100*t,100*r]}function w(e){return s(y(e))}function S(e){return o(y(e))}function _(e){return l(y(e))}function T(e){var t,n,i,a,s=e[0]/360,o=e[1]/100,l=e[2]/100,u=o+l;switch(u>1&&(o/=u,l/=u),t=Math.floor(6*s),n=1-l,i=6*s-t,0!=(1&t)&&(i=1-i),a=o+i*(n-o),t){default:case 6:case 0:r=n,g=a,b=o;break;case 1:r=a,g=n,b=o;break;case 2:r=o,g=n,b=a;break;case 3:r=o,g=a,b=n;break;case 4:r=a,g=o,b=n;break;case 5:r=n,g=o,b=a}return[255*r,255*g,255*b]}function k(e){return i(T(e))}function C(e){return a(T(e))}function A(e){return o(T(e))}function O(e){return l(T(e))}function M(e){var t,r,n,i=e[0]/100,a=e[1]/100,s=e[2]/100,o=e[3]/100;return t=1-Math.min(1,i*(1-o)+o),r=1-Math.min(1,a*(1-o)+o),n=1-Math.min(1,s*(1-o)+o),[255*t,255*r,255*n]}function L(e){return i(M(e))}function E(e){return a(M(e))}function P(e){return s(M(e))}function R(e){return l(M(e))}function I(e){var t,r,n,i=e[0]/100,a=e[1]/100,s=e[2]/100;return t=3.2406*i+-1.5372*a+s*-.4986,r=i*-.9689+1.8758*a+.0415*s,n=.0557*i+a*-.204+1.057*s,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:t=12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=12.92*n,t=Math.min(Math.max(0,t),1),r=Math.min(Math.max(0,r),1),n=Math.min(Math.max(0,n),1),[255*t,255*r,255*n]}function U(e){var t,r,n,i=e[0],a=e[1],s=e[2];return i/=95.047,a/=100,s/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,t=116*a-16,r=500*(i-a),n=200*(a-s),[t,r,n]}function N(e){return B(U(e))}function D(e){var t,r,n,i,a=e[0],s=e[1],o=e[2];return 8>=a?(r=100*a/903.3,i=7.787*(r/100)+16/116):(r=100*Math.pow((a+16)/116,3),i=Math.pow(r/100,1/3)),t=.008856>=t/95.047?t=95.047*(s/500+i-16/116)/7.787:95.047*Math.pow(s/500+i,3),n=.008859>=n/108.883?n=108.883*(i-o/200-16/116)/7.787:108.883*Math.pow(i-o/200,3),[t,r,n]}function B(e){var t,r,n,i=e[0],a=e[1],s=e[2];return t=Math.atan2(s,a),r=360*t/2/Math.PI,0>r&&(r+=360),n=Math.sqrt(a*a+s*s),[i,n,r]}function j(e){return I(D(e))}function H(e){var t,r,n,i=e[0],a=e[1],s=e[2];return n=s/360*2*Math.PI,t=a*Math.cos(n),r=a*Math.sin(n),[i,t,r]}function F(e){return D(H(e))}function W(e){return j(H(e))}function z(e){return $[e]}function G(e){return i(z(e))}function V(e){return a(z(e))}function q(e){return s(z(e))}function Y(e){return o(z(e))}function X(e){return c(z(e))}function K(e){return u(z(e))}t.exports={rgb2hsl:i,rgb2hsv:a,rgb2hwb:s,rgb2cmyk:o,rgb2keyword:l,rgb2xyz:u,rgb2lab:c,rgb2lch:h,hsl2rgb:f,hsl2hsv:p,hsl2hwb:d,hsl2cmyk:v,hsl2keyword:m,hsv2rgb:y,hsv2hsl:x,hsv2hwb:w,hsv2cmyk:S,hsv2keyword:_,hwb2rgb:T,hwb2hsl:k,hwb2hsv:C,hwb2cmyk:A,hwb2keyword:O,cmyk2rgb:M,cmyk2hsl:L,cmyk2hsv:E,cmyk2hwb:P,cmyk2keyword:R,keyword2rgb:z,keyword2hsl:G,keyword2hsv:V,keyword2hwb:q,keyword2cmyk:Y,keyword2lab:X,keyword2xyz:K,xyz2rgb:I,xyz2lab:U,xyz2lch:N,lab2xyz:D,lab2rgb:j,lab2lch:B,lch2lab:H,lch2xyz:F,lch2rgb:W};var $={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Q={};for(var Z in $)Q[JSON.stringify($[Z])]=Z},{}],3:[function(e,t,r){var n=e("./conversions"),i=function(){return new u};for(var a in n){i[a+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),n[e](t)}}(a);var s=/(\w+)2(\w+)/.exec(a),o=s[1],l=s[2];i[o]=i[o]||{},i[o][l]=i[a]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var r=n[e](t);if("string"==typeof r||void 0===r)return r;for(var i=0;i<r.length;i++)r[i]=Math.round(r[i]);return r}}(a)}var u=function(){this.convs={}};u.prototype.routeSpace=function(e,t){var r=t[0];return void 0===r?this.getValues(e):("number"==typeof r&&(r=Array.prototype.slice.call(t)),this.setValues(e,r))},u.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},u.prototype.getValues=function(e){var t=this.convs[e];if(!t){var r=this.space,n=this.convs[r];t=i[r][e](n),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){u.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),t.exports=i},{"./conversions":2}],4:[function(e,t,r){function n(e,t,r){var n=e?e.length:0;return r&&a(e,t,r)&&(t=!1),n?i(e,t):[]}var i=e("../internal/baseFlatten"),a=e("../internal/isIterateeCall");t.exports=n},{"../internal/baseFlatten":23,"../internal/isIterateeCall":56}],5:[function(e,t,r){function n(e){var t=e?e.length:0;return t?e[t-1]:void 0}t.exports=n},{}],6:[function(e,t,r){var n=e("../internal/baseDifference"),i=e("../internal/isArrayLike"),a=e("../function/restParam"),s=a(function(e,t){return i(e)?n(e,t):[]});t.exports=s},{"../function/restParam":10,"../internal/baseDifference":21,"../internal/isArrayLike":54}],7:[function(e,t,r){t.exports=e("./forEach")},{"./forEach":8}],8:[function(e,t,r){var n=e("../internal/arrayEach"),i=e("../internal/baseEach"),a=e("../internal/createForEach"),s=a(n,i);t.exports=s},{"../internal/arrayEach":12,"../internal/baseEach":22,"../internal/createForEach":46}],9:[function(e,t,r){function n(e,t,r){var n=o(e)?i:s;return t=a(t,r,3),n(e,t)}var i=e("../internal/arrayMap"),a=e("../internal/baseCallback"),s=e("../internal/baseMap"),o=e("../lang/isArray");t.exports=n},{"../internal/arrayMap":13,"../internal/baseCallback":19,"../internal/baseMap":31,"../lang/isArray":65}],10:[function(e,t,r){function n(e,t){if("function"!=typeof e)throw new TypeError(i);return t=a(void 0===t?e.length-1:+t||0,0),function(){for(var r=arguments,n=-1,i=a(r.length-t,0),s=Array(i);++n<i;)s[n]=r[t+n];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,r[0],s);case 2:return e.call(this,r[0],r[1],s)}var o=Array(t+1);for(n=-1;++n<t;)o[n]=r[n];return o[t]=s,e.apply(this,o)}}var i="Expected a function",a=Math.max;t.exports=n},{}],11:[function(e,t,r){(function(r){function n(e){var t=e?e.length:0;for(this.data={hash:o(null),set:new s};t--;)this.push(e[t])}var i=e("./cachePush"),a=e("./getNative"),s=a(r,"Set"),o=a(Object,"create");n.prototype.push=i,t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cachePush":40,"./getNative":52}],12:[function(e,t,r){function n(e,t){for(var r=-1,n=e.length;++r<n&&t(e[r],r,e)!==!1;);return e}t.exports=n},{}],13:[function(e,t,r){function n(e,t){for(var r=-1,n=e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}t.exports=n},{}],14:[function(e,t,r){function n(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}t.exports=n},{}],15:[function(e,t,r){function n(e,t){for(var r=-1,n=e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}t.exports=n},{}],16:[function(e,t,r){function n(e,t){return void 0===e?t:e}t.exports=n},{}],17:[function(e,t,r){function n(e,t,r){for(var n=-1,a=i(t),s=a.length;++n<s;){var o=a[n],l=e[o],u=r(l,t[o],o,e,t);(u===u?u===l:l!==l)&&(void 0!==l||o in e)||(e[o]=u)}return e}var i=e("../object/keys");t.exports=n},{"../object/keys":72}],18:[function(e,t,r){function n(e,t){return null==t?e:i(t,a(t),e)}var i=e("./baseCopy"),a=e("../object/keys");t.exports=n},{"../object/keys":72,"./baseCopy":20}],19:[function(e,t,r){function n(e,t,r){var n=typeof e;return"function"==n?void 0===t?e:s(e,t,r):null==e?o:"object"==n?i(e):void 0===t?l(e):a(e,t)}var i=e("./baseMatches"),a=e("./baseMatchesProperty"),s=e("./bindCallback"),o=e("../utility/identity"),l=e("../utility/property");t.exports=n},{"../utility/identity":75,"../utility/property":76,"./baseMatches":32,"./baseMatchesProperty":33,"./bindCallback":38}],20:[function(e,t,r){function n(e,t,r){r||(r={});for(var n=-1,i=t.length;++n<i;){var a=t[n];r[a]=e[a]}return r}t.exports=n},{}],21:[function(e,t,r){function n(e,t){var r=e?e.length:0,n=[];if(!r)return n;var l=-1,u=i,c=!0,h=c&&t.length>=o?s(t):null,f=t.length;h&&(u=a,c=!1,t=h);e:for(;++l<r;){var p=e[l];if(c&&p===p){for(var d=f;d--;)if(t[d]===p)continue e;n.push(p)}else u(t,p,0)<0&&n.push(p)}return n}var i=e("./baseIndexOf"),a=e("./cacheIndexOf"),s=e("./createCache"),o=200;t.exports=n},{"./baseIndexOf":27,"./cacheIndexOf":39,"./createCache":44}],22:[function(e,t,r){var n=e("./baseForOwn"),i=e("./createBaseEach"),a=i(n);t.exports=a},{"./baseForOwn":25,"./createBaseEach":42}],23:[function(e,t,r){function n(e,t,r,u){u||(u=[]);for(var c=-1,h=e.length;++c<h;){var f=e[c];l(f)&&o(f)&&(r||s(f)||a(f))?t?n(f,t,r,u):i(u,f):r||(u[u.length]=f)}return u}var i=e("./arrayPush"),a=e("../lang/isArguments"),s=e("../lang/isArray"),o=e("./isArrayLike"),l=e("./isObjectLike");t.exports=n},{"../lang/isArguments":64,"../lang/isArray":65,"./arrayPush":14,"./isArrayLike":54,"./isObjectLike":59}],24:[function(e,t,r){var n=e("./createBaseFor"),i=n();t.exports=i},{"./createBaseFor":43}],25:[function(e,t,r){function n(e,t){return i(e,t,a)}var i=e("./baseFor"),a=e("../object/keys");t.exports=n},{"../object/keys":72,"./baseFor":24}],26:[function(e,t,r){function n(e,t,r){if(null!=e){void 0!==r&&r in i(e)&&(t=[r]);for(var n=0,a=t.length;null!=e&&a>n;)e=e[t[n++]];return n&&n==a?e:void 0}}var i=e("./toObject");t.exports=n},{"./toObject":62}],27:[function(e,t,r){function n(e,t,r){if(t!==t)return i(e,r);for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var i=e("./indexOfNaN");t.exports=n},{"./indexOfNaN":53}],28:[function(e,t,r){function n(e,t,r,o,l,u){return e===t?!0:null==e||null==t||!a(e)&&!s(t)?e!==e&&t!==t:i(e,t,n,r,o,l,u)}var i=e("./baseIsEqualDeep"),a=e("../lang/isObject"),s=e("./isObjectLike");t.exports=n},{"../lang/isObject":68,"./baseIsEqualDeep":29,"./isObjectLike":59}],29:[function(e,t,r){function n(e,t,r,n,f,v,g){var m=o(e),y=o(t),b=c,x=c;m||(b=d.call(e),b==u?b=h:b!=h&&(m=l(e))),y||(x=d.call(t),x==u?x=h:x!=h&&(y=l(t)));var w=b==h,S=x==h,_=b==x;if(_&&!m&&!w)return a(e,t,b);if(!f){var T=w&&p.call(e,"__wrapped__"),k=S&&p.call(t,"__wrapped__");if(T||k)return r(T?e.value():e,k?t.value():t,n,f,v,g)}if(!_)return!1;v||(v=[]),g||(g=[]);for(var C=v.length;C--;)if(v[C]==e)return g[C]==t;v.push(e),g.push(t);var A=(m?i:s)(e,t,r,n,f,v,g);return v.pop(),g.pop(),A}var i=e("./equalArrays"),a=e("./equalByTag"),s=e("./equalObjects"),o=e("../lang/isArray"),l=e("../lang/isTypedArray"),u="[object Arguments]",c="[object Array]",h="[object Object]",f=Object.prototype,p=f.hasOwnProperty,d=f.toString;t.exports=n},{"../lang/isArray":65,"../lang/isTypedArray":69,"./equalArrays":47,"./equalByTag":48,"./equalObjects":49}],30:[function(e,t,r){function n(e,t,r){var n=t.length,s=n,o=!r;if(null==e)return!s;for(e=a(e);n--;){var l=t[n];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++n<s;){l=t[n];var u=l[0],c=e[u],h=l[1];if(o&&l[2]){if(void 0===c&&!(u in e))return!1}else{var f=r?r(c,h,u):void 0;if(!(void 0===f?i(h,c,r,!0):f))return!1}}return!0}var i=e("./baseIsEqual"),a=e("./toObject");t.exports=n},{"./baseIsEqual":28,"./toObject":62}],31:[function(e,t,r){function n(e,t){var r=-1,n=a(e)?Array(e.length):[];return i(e,function(e,i,a){n[++r]=t(e,i,a)}),n}var i=e("./baseEach"),a=e("./isArrayLike");t.exports=n},{"./baseEach":22,"./isArrayLike":54}],32:[function(e,t,r){function n(e){var t=a(e);if(1==t.length&&t[0][2]){var r=t[0][0],n=t[0][1];return function(e){return null==e?!1:e[r]===n&&(void 0!==n||r in s(e))}}return function(e){return i(e,t)}}var i=e("./baseIsMatch"),a=e("./getMatchData"),s=e("./toObject");t.exports=n},{"./baseIsMatch":30,"./getMatchData":51,"./toObject":62}],33:[function(e,t,r){function n(e,t){var r=o(e),n=l(e)&&u(t),p=e+"";return e=f(e),function(o){if(null==o)return!1;var l=p;if(o=h(o),(r||!n)&&!(l in o)){if(o=1==e.length?o:i(o,s(e,0,-1)),null==o)return!1;l=c(e),o=h(o)}return o[l]===t?void 0!==t||l in o:a(t,o[l],void 0,!0)}}var i=e("./baseGet"),a=e("./baseIsEqual"),s=e("./baseSlice"),o=e("../lang/isArray"),l=e("./isKey"),u=e("./isStrictComparable"),c=e("../array/last"),h=e("./toObject"),f=e("./toPath");t.exports=n},{"../array/last":5,"../lang/isArray":65,"./baseGet":26,"./baseIsEqual":28,"./baseSlice":36,"./isKey":57,"./isStrictComparable":60,"./toObject":62,"./toPath":63}],34:[function(e,t,r){function n(e){return function(t){return null==t?void 0:t[e]}}t.exports=n},{}],35:[function(e,t,r){function n(e){var t=e+"";return e=a(e),function(r){return i(r,e,t)}}var i=e("./baseGet"),a=e("./toPath");t.exports=n},{"./baseGet":26,"./toPath":63}],36:[function(e,t,r){function n(e,t,r){var n=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),r=void 0===r||r>i?i:+r||0,0>r&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}t.exports=n},{}],37:[function(e,t,r){function n(e){return null==e?"":e+""}t.exports=n},{}],38:[function(e,t,r){function n(e,t,r){if("function"!=typeof e)return i;if(void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,a){return e.call(t,r,n,i,a)};case 5:return function(r,n,i,a,s){return e.call(t,r,n,i,a,s)}}return function(){return e.apply(t,arguments)}}var i=e("../utility/identity");t.exports=n},{"../utility/identity":75}],39:[function(e,t,r){function n(e,t){var r=e.data,n="string"==typeof t||i(t)?r.set.has(t):r.hash[t];return n?0:-1}var i=e("../lang/isObject");t.exports=n},{"../lang/isObject":68}],40:[function(e,t,r){function n(e){var t=this.data;"string"==typeof e||i(e)?t.set.add(e):t.hash[e]=!0}var i=e("../lang/isObject");t.exports=n},{"../lang/isObject":68}],41:[function(e,t,r){function n(e){return s(function(t,r){var n=-1,s=null==t?0:r.length,o=s>2?r[s-2]:void 0,l=s>2?r[2]:void 0,u=s>1?r[s-1]:void 0;for("function"==typeof o?(o=i(o,u,5),s-=2):(o="function"==typeof u?u:void 0,s-=o?1:0),l&&a(r[0],r[1],l)&&(o=3>s?void 0:o,s=1);++n<s;){var c=r[n];c&&e(t,c,o)}return t})}var i=e("./bindCallback"),a=e("./isIterateeCall"),s=e("../function/restParam");t.exports=n},{"../function/restParam":10,"./bindCallback":38,"./isIterateeCall":56}],42:[function(e,t,r){function n(e,t){return function(r,n){var o=r?i(r):0;if(!a(o))return e(r,n);for(var l=t?o:-1,u=s(r);(t?l--:++l<o)&&n(u[l],l,u)!==!1;);return r}}var i=e("./getLength"),a=e("./isLength"),s=e("./toObject");t.exports=n},{"./getLength":50,"./isLength":58,"./toObject":62}],43:[function(e,t,r){function n(e){return function(t,r,n){for(var a=i(t),s=n(t),o=s.length,l=e?o:-1;e?l--:++l<o;){var u=s[l];if(r(a[u],u,a)===!1)break}return t}}var i=e("./toObject");t.exports=n},{"./toObject":62}],44:[function(e,t,r){(function(r){function n(e){return o&&s?new i(e):null}var i=e("./SetCache"),a=e("./getNative"),s=a(r,"Set"),o=a(Object,"create");t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./SetCache":11,"./getNative":52}],45:[function(e,t,r){function n(e,t){return i(function(r){var n=r[0];return null==n?n:(r.push(t),e.apply(void 0,r))})}var i=e("../function/restParam");t.exports=n},{"../function/restParam":10}],46:[function(e,t,r){function n(e,t){return function(r,n,s){return"function"==typeof n&&void 0===s&&a(r)?e(r,n):t(r,i(n,s,3))}}var i=e("./bindCallback"),a=e("../lang/isArray");t.exports=n},{"../lang/isArray":65,"./bindCallback":38}],47:[function(e,t,r){function n(e,t,r,n,a,s,o){var l=-1,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;for(;++l<u;){var h=e[l],f=t[l],p=n?n(a?f:h,a?h:f,l):void 0;if(void 0!==p){if(p)continue;return!1}if(a){if(!i(t,function(e){return h===e||r(h,e,n,a,s,o)}))return!1}else if(h!==f&&!r(h,f,n,a,s,o))return!1}return!0}var i=e("./arraySome");t.exports=n},{"./arraySome":15}],48:[function(e,t,r){function n(e,t,r){switch(r){case i:case a:return+e==+t;case s:return e.name==t.name&&e.message==t.message;case o:return e!=+e?t!=+t:e==+t;case l:case u:return e==t+""}return!1}var i="[object Boolean]",a="[object Date]",s="[object Error]",o="[object Number]",l="[object RegExp]",u="[object String]";t.exports=n},{}],49:[function(e,t,r){function n(e,t,r,n,a,o,l){var u=i(e),c=u.length,h=i(t),f=h.length;if(c!=f&&!a)return!1;for(var p=c;p--;){var d=u[p];if(!(a?d in t:s.call(t,d)))return!1}for(var v=a;++p<c;){d=u[p];var g=e[d],m=t[d],y=n?n(a?m:g,a?g:m,d):void 0;if(!(void 0===y?r(g,m,n,a,o,l):y))return!1;v||(v="constructor"==d)}if(!v){var b=e.constructor,x=t.constructor;if(b!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x))return!1}return!0}var i=e("../object/keys"),a=Object.prototype,s=a.hasOwnProperty;t.exports=n},{"../object/keys":72}],50:[function(e,t,r){var n=e("./baseProperty"),i=n("length");t.exports=i},{"./baseProperty":34}],51:[function(e,t,r){function n(e){for(var t=a(e),r=t.length;r--;)t[r][2]=i(t[r][1]);return t}var i=e("./isStrictComparable"),a=e("../object/pairs");t.exports=n},{"../object/pairs":74,"./isStrictComparable":60}],52:[function(e,t,r){function n(e,t){var r=null==e?void 0:e[t];return i(r)?r:void 0}var i=e("../lang/isNative");t.exports=n},{"../lang/isNative":67}],53:[function(e,t,r){function n(e,t,r){for(var n=e.length,i=t+(r?0:-1);r?i--:++i<n;){var a=e[i];if(a!==a)return i}return-1}t.exports=n},{}],54:[function(e,t,r){function n(e){return null!=e&&a(i(e))}var i=e("./getLength"),a=e("./isLength");t.exports=n},{"./getLength":50,"./isLength":58}],55:[function(e,t,r){function n(e,t){return e="number"==typeof e||i.test(e)?+e:-1,t=null==t?a:t,e>-1&&e%1==0&&t>e}var i=/^\d+$/,a=9007199254740991;t.exports=n},{}],56:[function(e,t,r){function n(e,t,r){if(!s(r))return!1;var n=typeof t;if("number"==n?i(r)&&a(t,r.length):"string"==n&&t in r){var o=r[t];return e===e?e===o:o!==o}return!1}var i=e("./isArrayLike"),a=e("./isIndex"),s=e("../lang/isObject");t.exports=n},{"../lang/isObject":68,"./isArrayLike":54,"./isIndex":55}],57:[function(e,t,r){function n(e,t){var r=typeof e;if("string"==r&&o.test(e)||"number"==r)return!0;if(i(e))return!1;var n=!s.test(e);return n||null!=t&&e in a(t)}var i=e("../lang/isArray"),a=e("./toObject"),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=n},{"../lang/isArray":65,"./toObject":62}],58:[function(e,t,r){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}var i=9007199254740991;t.exports=n},{}],59:[function(e,t,r){function n(e){return!!e&&"object"==typeof e}t.exports=n},{}],60:[function(e,t,r){function n(e){return e===e&&!i(e)}var i=e("../lang/isObject");t.exports=n},{"../lang/isObject":68}],61:[function(e,t,r){function n(e){for(var t=l(e),r=t.length,n=r&&e.length,u=!!n&&o(n)&&(a(e)||i(e)),h=-1,f=[];++h<r;){var p=t[h];(u&&s(p,n)||c.call(e,p))&&f.push(p)}return f}var i=e("../lang/isArguments"),a=e("../lang/isArray"),s=e("./isIndex"),o=e("./isLength"),l=e("../object/keysIn"),u=Object.prototype,c=u.hasOwnProperty;t.exports=n},{"../lang/isArguments":64,"../lang/isArray":65,"../object/keysIn":73,"./isIndex":55,"./isLength":58}],62:[function(e,t,r){function n(e){return i(e)?e:Object(e)}var i=e("../lang/isObject");t.exports=n},{"../lang/isObject":68}],63:[function(e,t,r){function n(e){if(a(e))return e;var t=[];return i(e).replace(s,function(e,r,n,i){t.push(n?i.replace(o,"$1"):r||e)}),t}var i=e("./baseToString"),a=e("../lang/isArray"),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,o=/\\(\\)?/g;t.exports=n},{"../lang/isArray":65,"./baseToString":37}],64:[function(e,t,r){function n(e){return a(e)&&i(e)&&o.call(e,"callee")&&!l.call(e,"callee")}var i=e("../internal/isArrayLike"),a=e("../internal/isObjectLike"),s=Object.prototype,o=s.hasOwnProperty,l=s.propertyIsEnumerable;t.exports=n},{"../internal/isArrayLike":54,"../internal/isObjectLike":59}],65:[function(e,t,r){var n=e("../internal/getNative"),i=e("../internal/isLength"),a=e("../internal/isObjectLike"),s="[object Array]",o=Object.prototype,l=o.toString,u=n(Array,"isArray"),c=u||function(e){return a(e)&&i(e.length)&&l.call(e)==s};t.exports=c},{"../internal/getNative":52,"../internal/isLength":58,"../internal/isObjectLike":59}],66:[function(e,t,r){function n(e){return i(e)&&o.call(e)==a}var i=e("./isObject"),a="[object Function]",s=Object.prototype,o=s.toString;t.exports=n},{"./isObject":68}],67:[function(e,t,r){function n(e){return null==e?!1:i(e)?c.test(l.call(e)):a(e)&&s.test(e)}var i=e("./isFunction"),a=e("../internal/isObjectLike"),s=/^\[object .+?Constructor\]$/,o=Object.prototype,l=Function.prototype.toString,u=o.hasOwnProperty,c=RegExp("^"+l.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},{"../internal/isObjectLike":59,"./isFunction":66}],68:[function(e,t,r){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=n},{}],69:[function(e,t,r){function n(e){return a(e)&&i(e.length)&&!!M[E.call(e)]}var i=e("../internal/isLength"),a=e("../internal/isObjectLike"),s="[object Arguments]",o="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",h="[object Function]",f="[object Map]",p="[object Number]",d="[object Object]",v="[object RegExp]",g="[object Set]",m="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",x="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",_="[object Int16Array]",T="[object Int32Array]",k="[object Uint8Array]",C="[object Uint8ClampedArray]",A="[object Uint16Array]",O="[object Uint32Array]",M={};M[x]=M[w]=M[S]=M[_]=M[T]=M[k]=M[C]=M[A]=M[O]=!0,M[s]=M[o]=M[b]=M[l]=M[u]=M[c]=M[h]=M[f]=M[p]=M[d]=M[v]=M[g]=M[m]=M[y]=!1;var L=Object.prototype,E=L.toString;t.exports=n},{"../internal/isLength":58,"../internal/isObjectLike":59}],70:[function(e,t,r){var n=e("../internal/assignWith"),i=e("../internal/baseAssign"),a=e("../internal/createAssigner"),s=a(function(e,t,r){return r?n(e,t,r):i(e,t)});t.exports=s},{"../internal/assignWith":17,"../internal/baseAssign":18,"../internal/createAssigner":41}],71:[function(e,t,r){var n=e("./assign"),i=e("../internal/assignDefaults"),a=e("../internal/createDefaults"),s=a(n,i);t.exports=s},{"../internal/assignDefaults":16,"../internal/createDefaults":45,"./assign":70}],72:[function(e,t,r){var n=e("../internal/getNative"),i=e("../internal/isArrayLike"),a=e("../lang/isObject"),s=e("../internal/shimKeys"),o=n(Object,"keys"),l=o?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?s(e):a(e)?o(e):[]}:s;t.exports=l},{"../internal/getNative":52,"../internal/isArrayLike":54,"../internal/shimKeys":61,"../lang/isObject":68}],73:[function(e,t,r){function n(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(a(e)||i(e))&&t||0;for(var r=e.constructor,n=-1,u="function"==typeof r&&r.prototype===e,h=Array(t),f=t>0;++n<t;)h[n]=n+"";for(var p in e)f&&s(p,t)||"constructor"==p&&(u||!c.call(e,p))||h.push(p);return h}var i=e("../lang/isArguments"),a=e("../lang/isArray"),s=e("../internal/isIndex"),o=e("../internal/isLength"),l=e("../lang/isObject"),u=Object.prototype,c=u.hasOwnProperty;t.exports=n},{"../internal/isIndex":55,"../internal/isLength":58,"../lang/isArguments":64,"../lang/isArray":65,"../lang/isObject":68}],74:[function(e,t,r){function n(e){e=a(e);for(var t=-1,r=i(e),n=r.length,s=Array(n);++t<n;){var o=r[t];s[t]=[o,e[o]]}return s}var i=e("./keys"),a=e("../internal/toObject");t.exports=n},{"../internal/toObject":62,"./keys":72}],75:[function(e,t,r){function n(e){return e}t.exports=n},{}],76:[function(e,t,r){function n(e){return s(e)?i(e):a(e)}var i=e("../internal/baseProperty"),a=e("../internal/basePropertyDeep"),s=e("../internal/isKey");t.exports=n},{"../internal/baseProperty":34,"../internal/basePropertyDeep":35,"../internal/isKey":57}],77:[function(e,t,r){var n=e("./vdom/create-element.js");t.exports=n},{"./vdom/create-element.js":89}],78:[function(e,t,r){var n=e("./vtree/diff.js");t.exports=n},{"./vtree/diff.js":112}],79:[function(e,t,r){var n=e("./virtual-hyperscript/index.js");t.exports=n},{"./virtual-hyperscript/index.js":97}],80:[function(e,t,r){/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */
t.exports=function(e){var t,r=String.prototype.split,n=/()??/.exec("")[1]===e;return t=function(t,i,a){if("[object RegExp]"!==Object.prototype.toString.call(i))return r.call(t,i,a);var s,o,l,u,c=[],h=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),f=0,i=new RegExp(i.source,h+"g");for(t+="",n||(s=new RegExp("^"+i.source+"$(?!\\s)",h)),a=a===e?-1>>>0:a>>>0;(o=i.exec(t))&&(l=o.index+o[0].length,!(l>f&&(c.push(t.slice(f,o.index)),!n&&o.length>1&&o[0].replace(s,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(o[t]=e)}),o.length>1&&o.index<t.length&&Array.prototype.push.apply(c,o.slice(1)),u=o[0].length,f=l,c.length>=a)));)i.lastIndex===o.index&&i.lastIndex++;return f===t.length?(u||!i.test(""))&&c.push(""):c.push(t.slice(f)),c.length>a?c.slice(0,a):c}}()},{}],81:[function(e,t,r){"use strict";function n(e){var t=e[s];return t||(t=e[s]={}),t}var i=e("individual/one-version"),a="7";i("ev-store",a);var s="__EV_STORE_KEY@"+a;t.exports=n},{"individual/one-version":83}],82:[function(e,t,r){(function(e){"use strict";function r(e,t){return e in n?n[e]:(n[e]=t,t)}var n="undefined"!=typeof window?window:"undefined"!=typeof e?e:{};t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],83:[function(e,t,r){"use strict";function n(e,t,r){var n="__INDIVIDUAL_ONE_VERSION_"+e,a=n+"_ENFORCE_SINGLETON",s=i(a,t);if(s!==t)throw new Error("Can only have one copy of "+e+".\nYou already have version "+s+" installed.\nThis means you cannot install version "+t);return i(n,r)}var i=e("./index.js");t.exports=n},{"./index.js":82}],84:[function(e,t,r){(function(r){var n="undefined"!=typeof r?r:"undefined"!=typeof window?window:{},i=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var a=n["__GLOBAL_DOCUMENT_CACHE@4"];a||(a=n["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":1}],85:[function(e,t,r){"use strict";t.exports=function(e){return"object"==typeof e&&null!==e}},{}],86:[function(e,t,r){function n(e){return"[object Array]"===a.call(e)}var i=Array.isArray,a=Object.prototype.toString;t.exports=i||n},{}],87:[function(e,t,r){var n=e("./vdom/patch.js");t.exports=n},{"./vdom/patch.js":92}],88:[function(e,t,r){function n(e,t,r){for(var n in t){var s=t[n];void 0===s?i(e,n,s,r):l(s)?(i(e,n,s,r),s.hook&&s.hook(e,n,r?r[n]:void 0)):o(s)?a(e,t,r,n,s):e[n]=s}}function i(e,t,r,n){if(n){var i=n[t];if(l(i))i.unhook&&i.unhook(e,t,r);else if("attributes"===t)for(var a in i)e.removeAttribute(a);else if("style"===t)for(var s in i)e.style[s]="";else"string"==typeof i?e[t]="":e[t]=null}}function a(e,t,r,n,i){var a=r?r[n]:void 0;if("attributes"!==n){if(a&&o(a)&&s(a)!==s(i))return void(e[n]=i);o(e[n])||(e[n]={});var l="style"===n?"":void 0;for(var u in i){var c=i[u];e[n][u]=void 0===c?l:c}}else for(var h in i){var f=i[h];void 0===f?e.removeAttribute(h):e.setAttribute(h,f)}}function s(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var o=e("is-object"),l=e("../vnode/is-vhook.js");t.exports=n},{"../vnode/is-vhook.js":103,"is-object":85}],89:[function(e,t,r){function n(e,t){var r=t?t.document||i:i,c=t?t.warn:null;if(e=u(e).a,l(e))return e.init();if(o(e))return r.createTextNode(e.text);if(!s(e))return c&&c("Item is not a valid virtual dom node",e),null;var h=null===e.namespace?r.createElement(e.tagName):r.createElementNS(e.namespace,e.tagName),f=e.properties;a(h,f);for(var p=e.children,d=0;d<p.length;d++){var v=n(p[d],t);v&&h.appendChild(v)}return h}var i=e("global/document"),a=e("./apply-properties"),s=e("../vnode/is-vnode.js"),o=e("../vnode/is-vtext.js"),l=e("../vnode/is-widget.js"),u=e("../vnode/handle-thunk.js");t.exports=n},{"../vnode/handle-thunk.js":101,"../vnode/is-vnode.js":104,"../vnode/is-vtext.js":105,"../vnode/is-widget.js":106,"./apply-properties":88,"global/document":84}],90:[function(e,t,r){function n(e,t,r,n){return r&&0!==r.length?(r.sort(s),i(e,t,r,n,0)):{}}function i(e,t,r,n,s){if(n=n||{},e){a(r,s,s)&&(n[s]=e);var l=t.children;if(l)for(var u=e.childNodes,c=0;c<t.children.length;c++){s+=1;var h=l[c]||o,f=s+(h.count||0);a(r,s,f)&&i(u[c],h,r,n,s),s=f}}return n}function a(e,t,r){if(0===e.length)return!1;for(var n,i,a=0,s=e.length-1;s>=a;){if(n=(s+a)/2>>0,i=e[n],a===s)return i>=t&&r>=i;if(t>i)a=n+1;else{if(!(i>r))return!0;s=n-1}}return!1}function s(e,t){return e>t?1:-1}var o={};t.exports=n},{}],91:[function(e,t,r){function n(e,t,r){var n=e.type,u=e.vNode,p=e.patch;switch(n){case d.REMOVE:return i(t,u);case d.INSERT:return a(t,p,r);case d.VTEXT:return s(t,u,p,r);case d.WIDGET:return o(t,u,p,r);case d.VNODE:return l(t,u,p,r);case d.ORDER:return c(t,p),t;case d.PROPS:return f(t,p,u.properties),t;case d.THUNK:return h(t,r.patch(t,p,r));default:return t}}function i(e,t){var r=e.parentNode;return r&&r.removeChild(e),u(e,t),null}function a(e,t,r){var n=r.render(t,r);return e&&e.appendChild(n),e}function s(e,t,r,n){var i;if(3===e.nodeType)e.replaceData(0,e.length,r.text),i=e;else{var a=e.parentNode;i=n.render(r,n),a&&i!==e&&a.replaceChild(i,e)}return i}function o(e,t,r,n){var i,a=v(t,r);i=a?r.update(t,e)||e:n.render(r,n);var s=e.parentNode;return s&&i!==e&&s.replaceChild(i,e),a||u(e,t),i}function l(e,t,r,n){var i=e.parentNode,a=n.render(r,n);return i&&a!==e&&i.replaceChild(a,e),a}function u(e,t){"function"==typeof t.destroy&&p(t)&&t.destroy(e)}function c(e,t){for(var r,n,i,a=e.childNodes,s={},o=0;o<t.removes.length;o++)n=t.removes[o],r=a[n.from],n.key&&(s[n.key]=r),e.removeChild(r);for(var l=a.length,u=0;u<t.inserts.length;u++)i=t.inserts[u],r=s[i.key],e.insertBefore(r,i.to>=l++?null:a[i.to])}function h(e,t){return e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e),t}var f=e("./apply-properties"),p=e("../vnode/is-widget.js"),d=e("../vnode/vpatch.js"),v=e("./update-widget");t.exports=n},{"../vnode/is-widget.js":106,"../vnode/vpatch.js":109,"./apply-properties":88,"./update-widget":93}],92:[function(e,t,r){function n(e,t,r){return r=r||{},r.patch=r.patch&&r.patch!==n?r.patch:i,r.render=r.render||u,r.patch(e,t,r)}function i(e,t,r){var n=s(t);if(0===n.length)return e;var i=c(e,t.a,n),l=e.ownerDocument;r.document||l===o||(r.document=l);for(var u=0;u<n.length;u++){var h=n[u];e=a(e,i[h],t[h],r)}return e}function a(e,t,r,n){if(!t)return e;var i;if(l(r))for(var a=0;a<r.length;a++)i=h(r[a],t,n),t===e&&(e=i);else i=h(r,t,n),t===e&&(e=i);return e}function s(e){var t=[];for(var r in e)"a"!==r&&t.push(Number(r));return t}var o=e("global/document"),l=e("x-is-array"),u=e("./create-element"),c=e("./dom-index"),h=e("./patch-op");t.exports=n},{"./create-element":89,"./dom-index":90,"./patch-op":91,"global/document":84,"x-is-array":86}],93:[function(e,t,r){function n(e,t){return i(e)&&i(t)?"name"in e&&"name"in t?e.id===t.id:e.init===t.init:!1}var i=e("../vnode/is-widget.js");t.exports=n},{"../vnode/is-widget.js":106}],94:[function(e,t,r){"use strict";function n(e,t){return this instanceof n?(this.namespace=e,void(this.value=t)):new n(e,t)}t.exports=n,n.prototype.hook=function(e,t,r){r&&"AttributeHook"===r.type&&r.value===this.value&&r.namespace===this.namespace||e.setAttributeNS(this.namespace,t,this.value)},n.prototype.unhook=function(e,t,r){if(!r||"AttributeHook"!==r.type||r.namespace!==this.namespace){var n=t.indexOf(":"),i=n>-1?t.substr(n+1):t;e.removeAttributeNS(this.namespace,i)}},n.prototype.type="AttributeHook"},{}],95:[function(e,t,r){"use strict";function n(e){return this instanceof n?void(this.value=e):new n(e)}var i=e("ev-store");t.exports=n,n.prototype.hook=function(e,t){var r=i(e),n=t.substr(3);r[n]=this.value},n.prototype.unhook=function(e,t){var r=i(e),n=t.substr(3);r[n]=void 0}},{"ev-store":81}],96:[function(e,t,r){"use strict";function n(e){return this instanceof n?void(this.value=e):new n(e)}t.exports=n,n.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)}},{}],97:[function(e,t,r){"use strict";function n(e,t,r){var n,s,l,u,c=[];return!r&&o(t)&&(r=t,s={}),s=s||t||{},n=y(e,s),s.hasOwnProperty("key")&&(l=s.key,s.key=void 0),s.hasOwnProperty("namespace")&&(u=s.namespace,s.namespace=void 0),"INPUT"!==n||u||!s.hasOwnProperty("value")||void 0===s.value||g(s.value)||(s.value=b(s.value)),a(s),void 0!==r&&null!==r&&i(r,c,n,s),new h(n,s,c,l,u)}function i(e,t,r,n){if("string"==typeof e)t.push(new f(e));else if("number"==typeof e)t.push(new f(String(e)));else if(s(e))t.push(e);else{if(!c(e)){if(null===e||void 0===e)return;throw l({foreignObject:e,parentVnode:{tagName:r,properties:n}})}for(var a=0;a<e.length;a++)i(e[a],t,r,n)}}function a(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];if(g(r))continue;"ev-"===t.substr(0,3)&&(e[t]=x(r))}}function s(e){return p(e)||d(e)||v(e)||m(e)}function o(e){return"string"==typeof e||c(e)||s(e)}function l(e){var t=new Error;return t.type="virtual-hyperscript.unexpected.virtual-element",t.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+u(e.foreignObject)+".\nThe parent vnode is:\n"+u(e.parentVnode),t.foreignObject=e.foreignObject,t.parentVnode=e.parentVnode,t}function u(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}var c=e("x-is-array"),h=e("../vnode/vnode.js"),f=e("../vnode/vtext.js"),p=e("../vnode/is-vnode"),d=e("../vnode/is-vtext"),v=e("../vnode/is-widget"),g=e("../vnode/is-vhook"),m=e("../vnode/is-thunk"),y=e("./parse-tag.js"),b=e("./hooks/soft-set-hook.js"),x=e("./hooks/ev-hook.js");t.exports=n},{"../vnode/is-thunk":102,"../vnode/is-vhook":103,"../vnode/is-vnode":104,"../vnode/is-vtext":105,"../vnode/is-widget":106,"../vnode/vnode.js":108,"../vnode/vtext.js":110,"./hooks/ev-hook.js":95,"./hooks/soft-set-hook.js":96,"./parse-tag.js":98,"x-is-array":86}],98:[function(e,t,r){"use strict";function n(e,t){if(!e)return"DIV";var r=!t.hasOwnProperty("id"),n=i(e,a),o=null;s.test(n[1])&&(o="DIV");var l,u,c,h;for(h=0;h<n.length;h++)u=n[h],u&&(c=u.charAt(0),o?"."===c?(l=l||[],l.push(u.substring(1,u.length))):"#"===c&&r&&(t.id=u.substring(1,u.length)):o=u);return l&&(t.className&&l.push(t.className),t.className=l.join(" ")),t.namespace?o:o.toUpperCase()}var i=e("browser-split"),a=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,s=/^\.|#/;t.exports=n},{"browser-split":80}],99:[function(e,t,r){"use strict";function n(e){return l.hasOwnProperty(e)?l[e]:void 0}var i=null,a="http://www.w3.org/2001/xml-events",s="http://www.w3.org/1999/xlink",o="http://www.w3.org/XML/1998/namespace",l={about:i,"accent-height":i,accumulate:i,additive:i,"alignment-baseline":i,alphabetic:i,amplitude:i,"arabic-form":i,ascent:i,attributeName:i,attributeType:i,azimuth:i,bandwidth:i,baseFrequency:i,baseProfile:i,"baseline-shift":i,bbox:i,begin:i,bias:i,by:i,calcMode:i,"cap-height":i,"class":i,clip:i,"clip-path":i,"clip-rule":i,clipPathUnits:i,color:i,"color-interpolation":i,"color-interpolation-filters":i,"color-profile":i,"color-rendering":i,content:i,contentScriptType:i,contentStyleType:i,cursor:i,cx:i,cy:i,d:i,datatype:i,defaultAction:i,descent:i,diffuseConstant:i,direction:i,display:i,divisor:i,"dominant-baseline":i,dur:i,dx:i,dy:i,edgeMode:i,editable:i,elevation:i,"enable-background":i,end:i,"ev:event":a,event:i,exponent:i,externalResourcesRequired:i,fill:i,"fill-opacity":i,"fill-rule":i,filter:i,filterRes:i,filterUnits:i,"flood-color":i,"flood-opacity":i,focusHighlight:i,focusable:i,"font-family":i,"font-size":i,"font-size-adjust":i,"font-stretch":i,"font-style":i,"font-variant":i,"font-weight":i,format:i,from:i,fx:i,fy:i,g1:i,g2:i,"glyph-name":i,"glyph-orientation-horizontal":i,"glyph-orientation-vertical":i,glyphRef:i,gradientTransform:i,gradientUnits:i,handler:i,hanging:i,height:i,"horiz-adv-x":i,"horiz-origin-x":i,"horiz-origin-y":i,id:i,ideographic:i,"image-rendering":i,"in":i,in2:i,initialVisibility:i,intercept:i,k:i,k1:i,k2:i,k3:i,k4:i,kernelMatrix:i,kernelUnitLength:i,kerning:i,keyPoints:i,keySplines:i,keyTimes:i,lang:i,lengthAdjust:i,"letter-spacing":i,"lighting-color":i,limitingConeAngle:i,local:i,"marker-end":i,"marker-mid":i,"marker-start":i,markerHeight:i,markerUnits:i,markerWidth:i,mask:i,maskContentUnits:i,maskUnits:i,mathematical:i,max:i,media:i,mediaCharacterEncoding:i,mediaContentEncodings:i,mediaSize:i,mediaTime:i,method:i,min:i,mode:i,name:i,"nav-down":i,"nav-down-left":i,"nav-down-right":i,"nav-left":i,"nav-next":i,"nav-prev":i,"nav-right":i,"nav-up":i,"nav-up-left":i,"nav-up-right":i,numOctaves:i,observer:i,offset:i,opacity:i,operator:i,order:i,orient:i,orientation:i,origin:i,overflow:i,overlay:i,"overline-position":i,"overline-thickness":i,"panose-1":i,path:i,pathLength:i,patternContentUnits:i,patternTransform:i,patternUnits:i,phase:i,playbackOrder:i,"pointer-events":i,points:i,pointsAtX:i,pointsAtY:i,pointsAtZ:i,preserveAlpha:i,preserveAspectRatio:i,primitiveUnits:i,propagate:i,property:i,r:i,radius:i,refX:i,refY:i,rel:i,"rendering-intent":i,repeatCount:i,repeatDur:i,requiredExtensions:i,requiredFeatures:i,requiredFonts:i,requiredFormats:i,resource:i,restart:i,result:i,rev:i,role:i,rotate:i,rx:i,ry:i,scale:i,seed:i,"shape-rendering":i,slope:i,snapshotTime:i,spacing:i,specularConstant:i,specularExponent:i,spreadMethod:i,startOffset:i,stdDeviation:i,stemh:i,stemv:i,stitchTiles:i,"stop-color":i,"stop-opacity":i,"strikethrough-position":i,"strikethrough-thickness":i,string:i,stroke:i,"stroke-dasharray":i,"stroke-dashoffset":i,"stroke-linecap":i,"stroke-linejoin":i,"stroke-miterlimit":i,"stroke-opacity":i,"stroke-width":i,surfaceScale:i,syncBehavior:i,syncBehaviorDefault:i,syncMaster:i,syncTolerance:i,syncToleranceDefault:i,systemLanguage:i,tableValues:i,target:i,targetX:i,targetY:i,"text-anchor":i,"text-decoration":i,"text-rendering":i,textLength:i,timelineBegin:i,title:i,to:i,transform:i,transformBehavior:i,type:i,"typeof":i,u1:i,u2:i,"underline-position":i,"underline-thickness":i,unicode:i,"unicode-bidi":i,"unicode-range":i,"units-per-em":i,"v-alphabetic":i,"v-hanging":i,"v-ideographic":i,"v-mathematical":i,values:i,version:i,"vert-adv-y":i,"vert-origin-x":i,"vert-origin-y":i,viewBox:i,viewTarget:i,visibility:i,width:i,widths:i,"word-spacing":i,"writing-mode":i,x:i,"x-height":i,x1:i,x2:i,xChannelSelector:i,"xlink:actuate":s,"xlink:arcrole":s,"xlink:href":s,"xlink:role":s,"xlink:show":s,"xlink:title":s,"xlink:type":s,"xml:base":o,"xml:id":o,"xml:lang":o,"xml:space":o,y:i,y1:i,y2:i,yChannelSelector:i,z:i,zoomAndPan:i};t.exports=n},{}],100:[function(e,t,r){"use strict";function n(e,t,r){!r&&i(t)&&(r=t,t={}),t=t||{},t.namespace=u;var n=t.attributes||(t.attributes={});for(var a in t)if(t.hasOwnProperty(a)){var c=o(a);if(void 0!==c){var h=t[a];("string"==typeof h||"number"==typeof h||"boolean"==typeof h)&&(null===c?(n[a]=h,t[a]=void 0):t[a]=l(c,h))}}return s(e,t,r)}function i(e){return"string"==typeof e||a(e)}var a=e("x-is-array"),s=e("./index.js"),o=e("./svg-attribute-namespace"),l=e("./hooks/attribute-hook"),u="http://www.w3.org/2000/svg";t.exports=n},{"./hooks/attribute-hook":94,"./index.js":97,"./svg-attribute-namespace":99,"x-is-array":86}],101:[function(e,t,r){function n(e,t){var r=e,n=t;return l(t)&&(n=i(t,e)),l(e)&&(r=i(e,null)),{a:r,b:n}}function i(e,t){var r=e.vnode;if(r||(r=e.vnode=e.render(t)),!(a(r)||s(r)||o(r)))throw new Error("thunk did not return a valid node");return r}var a=e("./is-vnode"),s=e("./is-vtext"),o=e("./is-widget"),l=e("./is-thunk");t.exports=n},{"./is-thunk":102,"./is-vnode":104,"./is-vtext":105,"./is-widget":106}],102:[function(e,t,r){function n(e){return e&&"Thunk"===e.type}t.exports=n},{}],103:[function(e,t,r){function n(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}t.exports=n},{}],104:[function(e,t,r){function n(e){return e&&"VirtualNode"===e.type&&e.version===i}var i=e("./version");t.exports=n},{"./version":107}],105:[function(e,t,r){function n(e){return e&&"VirtualText"===e.type&&e.version===i}var i=e("./version");t.exports=n},{"./version":107}],106:[function(e,t,r){function n(e){return e&&"Widget"===e.type}t.exports=n},{}],107:[function(e,t,r){t.exports="2"},{}],108:[function(e,t,r){function n(e,t,r,n,i){this.tagName=e,this.properties=t||u,this.children=r||c,this.key=null!=n?String(n):void 0,this.namespace="string"==typeof i?i:null;var h,f=r&&r.length||0,p=0,d=!1,v=!1,g=!1;for(var m in t)if(t.hasOwnProperty(m)){var y=t[m];l(y)&&y.unhook&&(h||(h={}),h[m]=y)}for(var b=0;f>b;b++){var x=r[b];a(x)?(p+=x.count||0,!d&&x.hasWidgets&&(d=!0),!v&&x.hasThunks&&(v=!0),g||!x.hooks&&!x.descendantHooks||(g=!0)):!d&&s(x)?"function"==typeof x.destroy&&(d=!0):!v&&o(x)&&(v=!0)}this.count=f+p,this.hasWidgets=d,this.hasThunks=v,this.hooks=h,this.descendantHooks=g}var i=e("./version"),a=e("./is-vnode"),s=e("./is-widget"),o=e("./is-thunk"),l=e("./is-vhook");t.exports=n;var u={},c=[];n.prototype.version=i,n.prototype.type="VirtualNode"},{"./is-thunk":102,"./is-vhook":103,"./is-vnode":104,"./is-widget":106,"./version":107}],109:[function(e,t,r){function n(e,t,r){this.type=Number(e),this.vNode=t,this.patch=r}var i=e("./version");n.NONE=0,n.VTEXT=1,n.VNODE=2,n.WIDGET=3,n.PROPS=4,n.ORDER=5,n.INSERT=6,n.REMOVE=7,n.THUNK=8,t.exports=n,n.prototype.version=i,n.prototype.type="VirtualPatch"},{"./version":107}],110:[function(e,t,r){function n(e){this.text=String(e)}var i=e("./version");t.exports=n,n.prototype.version=i,n.prototype.type="VirtualText"},{"./version":107}],111:[function(e,t,r){function n(e,t){var r;for(var o in e){o in t||(r=r||{},r[o]=void 0);var l=e[o],u=t[o];if(l!==u)if(a(l)&&a(u))if(i(u)!==i(l))r=r||{},r[o]=u;else if(s(u))r=r||{},r[o]=u;else{var c=n(l,u);c&&(r=r||{},r[o]=c)}else r=r||{},r[o]=u}for(var h in t)h in e||(r=r||{},r[h]=t[h]);return r}function i(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var a=e("is-object"),s=e("../vnode/is-vhook");t.exports=n},{"../vnode/is-vhook":103,"is-object":85}],112:[function(e,t,r){function n(e,t){var r={a:e};return i(e,t,r,0),r}function i(e,t,r,n){if(e!==t){var i=r[n],o=!1;if(w(e)||w(t))l(e,t,r,n);else if(null==t)x(e)||(s(e,r,n),i=r[n]),i=v(i,new m(m.REMOVE,e,t));else if(y(t))if(y(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var u=_(e.properties,t.properties);u&&(i=v(i,new m(m.PROPS,e,u))),i=a(e,t,r,i,n)}else i=v(i,new m(m.VNODE,e,t)),o=!0;else i=v(i,new m(m.VNODE,e,t)),o=!0;else b(t)?b(e)?e.text!==t.text&&(i=v(i,new m(m.VTEXT,e,t))):(i=v(i,new m(m.VTEXT,e,t)),o=!0):x(t)&&(x(e)||(o=!0),i=v(i,new m(m.WIDGET,e,t)));i&&(r[n]=i),o&&s(e,r,n)}}function a(e,t,r,n,a){for(var s=e.children,o=f(s,t.children),l=o.children,u=s.length,c=l.length,h=u>c?u:c,p=0;h>p;p++){var d=s[p],g=l[p];a+=1,d?i(d,g,r,a):g&&(n=v(n,new m(m.INSERT,null,g))),y(d)&&d.count&&(a+=d.count)}return o.moves&&(n=v(n,new m(m.ORDER,e,o.moves))),n}function s(e,t,r){c(e,t,r),o(e,t,r)}function o(e,t,r){if(x(e))"function"==typeof e.destroy&&(t[r]=v(t[r],new m(m.REMOVE,e,null)));else if(y(e)&&(e.hasWidgets||e.hasThunks))for(var n=e.children,i=n.length,a=0;i>a;a++){var s=n[a];r+=1,o(s,t,r),y(s)&&s.count&&(r+=s.count)}else w(e)&&l(e,null,t,r)}function l(e,t,r,i){var a=S(e,t),s=n(a.a,a.b);u(s)&&(r[i]=new m(m.THUNK,null,s))}function u(e){for(var t in e)if("a"!==t)return!0;return!1}function c(e,t,r){if(y(e)){if(e.hooks&&(t[r]=v(t[r],new m(m.PROPS,e,h(e.hooks)))),e.descendantHooks||e.hasThunks)for(var n=e.children,i=n.length,a=0;i>a;a++){var s=n[a];r+=1,c(s,t,r),y(s)&&s.count&&(r+=s.count)}}else w(e)&&l(e,null,t,r)}function h(e){var t={};for(var r in e)t[r]=void 0;return t}function f(e,t){var r=d(t),n=r.keys,i=r.free;if(i.length===t.length)return{children:t,moves:null};var a=d(e),s=a.keys,o=a.free;if(o.length===e.length)return{children:t,moves:null};for(var l=[],u=0,c=i.length,h=0,f=0;f<e.length;f++){var v,g=e[f];g.key?n.hasOwnProperty(g.key)?(v=n[g.key],l.push(t[v])):(v=f-h++,l.push(null)):c>u?(v=i[u++],l.push(t[v])):(v=f-h++,l.push(null))}for(var m=u>=i.length?t.length:i[u],y=0;y<t.length;y++){var b=t[y];b.key?s.hasOwnProperty(b.key)||l.push(b):y>=m&&l.push(b)}for(var x,w=l.slice(),S=0,_=[],T=[],k=0;k<t.length;){var C=t[k];for(x=w[S];null===x&&w.length;)_.push(p(w,S,null)),x=w[S];x&&x.key===C.key?(S++,k++):C.key?(x&&x.key&&n[x.key]!==k+1?(_.push(p(w,S,x.key)),x=w[S],x&&x.key===C.key?S++:T.push({key:C.key,to:k})):T.push({key:C.key,to:k}),k++):x&&x.key&&_.push(p(w,S,x.key))}for(;S<w.length;)x=w[S],_.push(p(w,S,x&&x.key));return _.length!==h||T.length?{children:l,moves:{removes:_,inserts:T}}:{children:l,moves:null}}function p(e,t,r){return e.splice(t,1),{from:t,key:r}}function d(e){for(var t={},r=[],n=e.length,i=0;n>i;i++){var a=e[i];a.key?t[a.key]=i:r.push(i)}return{keys:t,free:r}}function v(e,t){return e?(g(e)?e.push(t):e=[e,t],e):t}var g=e("x-is-array"),m=e("../vnode/vpatch"),y=e("../vnode/is-vnode"),b=e("../vnode/is-vtext"),x=e("../vnode/is-widget"),w=e("../vnode/is-thunk"),S=e("../vnode/handle-thunk"),_=e("./diff-props");t.exports=n},{"../vnode/handle-thunk":101,"../vnode/is-thunk":102,"../vnode/is-vnode":104,"../vnode/is-vtext":105,"../vnode/is-widget":106,"../vnode/vpatch":109,"./diff-props":111,"x-is-array":86}],113:[function(e,t,r){var n=e("./bezier"),i=e("./vector"),a=(e("./utils"),function(){});a.prototype={type:"anchor",add:function(e){var t=this.copy();return t.vec1&&(t.vec1=t.vec1.add(e)),t.vec2&&(t.vec2=t.vec2.add(e)),t.vec3&&(t.vec3=t.vec3.add(e)),t},sub:function(e){var t=this.copy();return t.vec1&&(t.vec1=t.vec1.sub(e)),t.vec2&&(t.vec2=t.vec2.sub(e)),t.vec3&&(t.vec3=t.vec3.sub(e)),t},multiply:function(e){var t=this.copy();return t.vec1&&(t.vec1=t.vec1.multiply(e)),t.vec2&&(t.vec2=t.vec2.multiply(e)),t.vec3&&(t.vec3=t.vec3.multiply(e)),t},copy:function(){var e=new a;return e.command=this.command,this.vec1&&(e.vec1=this.vec1.copy()),this.vec2&&(e.vec2=this.vec2.copy()),this.vec3&&(e.vec3=this.vec3.copy()),e},setMove:function(e,t){return this.command="move",e instanceof i?this.vec1=e:this.vec1=new i(e,t),this},setLine:function(e,t){return this.command="line",e instanceof i?this.vec1=e:this.vec1=new i(e,t),this},setCurve:function(e,t,r,n,a,s){return"undefined"!=typeof s?(this.command="cubic",this.vec1=new i(e,t),this.vec2=new i(r,n),this.vec3=new i(a,s)):(this.command="quad",this.vec1=new i(e,t),this.vec2=new i(r,n)),this},setClose:function(){return this.command="close",this},length:function(){if("move"==this.command)return 0;if("line"==this.command)return this.vec1.length();if("quad"==this.command)return new n(0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y).length();if("cubic"==this.command)return new n(0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y,this.vec3.x,this.vec3.y).length();throw new Error("Cannot compute length for this type of anchor")},vectorAt:function(e){e>1&&(e=1),0>e&&(e=0);if("line"==this.command)return new i(this.vec1.x,this.vec1.y).multiply(e);if("quad"==this.command)return new n(0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y).get(e);if("cubic"==this.command)return new n(0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y,this.vec3.x,this.vec3.y).get(e);throw new Error("Cannot compute vectorAt for this type of anchor")}},t.exports=a},{"./bezier":114,"./utils":132,"./vector":133}],114:[function(e,t,r){!function(){"use strict";var e=Math.abs,r=(Math.min,Math.max,Math.cos),n=Math.sin,i=(Math.acos,Math.asin,Math.atan2),a=Math.sqrt,s=(Math.PI,{x:0,y:0,z:0}),o={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){var r=t(e),n=r.x*r.x+r.y*r.y;return"undefined"!=typeof r.z&&(n+=r.z*r.z),a(n)},length:function(e){var t,r,n=.5,i=0,a=this.Tvalues.length;for(t=0;a>t;t++)r=n*this.Tvalues[t]+n,i+=this.Cvalues[t]*this.arcfn(r,e);return n*i},angle:function(e,t,r){var n,s=t.x-e.x,o=t.y-e.y,l=r.x-e.x,u=r.y-e.y,c=s*u-o*l,h=a(s*s+o*o),f=a(l*l+u*u);return s/=h,o/=h,l/=f,u/=f,n=s*l+o*u,i(c,n)},dist:function(e,t){var r=e.x-t.x,n=e.y-t.y;return a(r*r+n*n)},align:function(e,t){var a=t.p1.x,s=t.p1.y,o=-i(t.p2.y-s,t.p2.x-a),l=function(e){return{x:(e.x-a)*r(o)-(e.y-s)*n(o),y:(e.x-a)*n(o)+(e.y-s)*r(o)}};return e.map(l)}},l=function(t){var r=t&&t.forEach?t:arguments;if("object"==typeof r[0]){r=[];for(var n=0;n<t.length;n++)["x","y","z"].forEach(function(e){"undefined"!=typeof t[n][e]&&r.push(t[n][e])})}var i=r.length;if(6!==i&&8!==i&&9!==i&&12!==i)throw new Error("This Bezier curve library only supports quadratic and cubic curves (in 2d and 3d)");var a=9===i||12===i;this._3d=a;for(var s=[],l=0,u=a?3:2;i>l;l+=u){var c={x:r[l],y:r[l+1]};a&&(c.z=r[l+2]),s.push(c)}this.order=s.length-1,this.points=s;var h=["x","y"];a&&h.push("z"),this.dims=h,this.dimlen=h.length,function(t){for(var r=o.align(s,{p1:s[0],p2:s[t.order]}),n=0;n<r.length;n++)if(e(r[n].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()};l.utils=o,l.prototype={update:function(){this.dpoints=[];for(var e=this.points,t=e.length,r=t-1;t>1;t--,r--){for(var n,i=[],a=0;r>a;a++)n={x:r*(e[a+1].x-e[a].x),y:r*(e[a+1].y-e[a].y)},this._3d&&(n.z=r*(e[a+1].z-e[a].z)),i.push(n);this.dpoints.push(i),e=i}this.computedirection()},computedirection:function(){var e=this.points,t=o.angle(e[0],e[this.order],e[1]);this.clockwise=t>0},length:function(){return o.length(this.derivative.bind(this))},get:function(e){return this.compute(e)},compute:function(e){if(0===e)return this.points[0];if(1===e)return this.points[this.order];var t,r,n,i=1-e,a=i*i,o=e*e,l=0,u=this.points;2===this.order&&(u=[u[0],u[1],u[2],s],t=a,r=i*e*2,n=o),3===this.order&&(t=a*i,r=a*e*3,n=i*o*3,l=e*o);var c={x:t*u[0].x+r*u[1].x+n*u[2].x+l*u[3].x,y:t*u[0].y+r*u[1].y+n*u[2].y+l*u[3].y};return this._3d&&(c.z=t*u[0].z+r*u[1].z+n*u[2].z+l*u[3].z),c},derivative:function(e){var t,r,n=1-e,i=0,a=this.dpoints[0];2===this.order&&(a=[a[0],a[1],s],t=n,r=e),3===this.order&&(t=n*n,r=n*e*2,i=e*e);var o={x:t*a[0].x+r*a[1].x+i*a[2].x,y:t*a[0].y+r*a[1].y+i*a[2].y};return this._3d&&(o.z=t*a[0].z+r*a[1].z+i*a[2].z),o}},t.exports=l}()},{}],115:[function(e,t,r){var n=e("color-convert"),i=function(e,t,r,n,a){if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},e instanceof i)return e;if("hsv"==e)this.setValues("hsv",{h:t%360,s:r,v:n}),a&&this.setValues("alpha",a);else if("string"==typeof e){var s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!s)throw new Error('Unable to parse color from string "'+e+'"');this.setValues("rgb",[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]),t&&this.setValues("alpha",t)}else"undefined"==typeof r?(this.setValues("rgb",{r:e,g:e,b:e}),t&&this.setValues("alpha",t)):"undefined"!=typeof e&&(this.setValues("rgb",{r:e,g:t,b:r}),n&&this.setValues("alpha",n))};i.prototype={type:"color",rgb:function(e){return this.setSpace("rgb",arguments)},hsl:function(e){return this.setSpace("hsl",arguments)},hsv:function(e){return this.setSpace("hsv",arguments)},hwb:function(e){return this.setSpace("hwb",arguments)},cmyk:function(e){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values.rgb;return e.concat([this.values.alpha])},hslaArray:function(){var e=this.values.hsl;return e.concat([this.values.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},luminosity:function(){for(var e=this.values.rgb,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=.03928>=n?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb,t=(299*e[0]+587*e[1]+114*e[2])/1e3;return 128>t},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;3>t;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){return this.values.hsl[2]+=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},darken:function(e){return this.values.hsl[2]-=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},saturate:function(e){return this.values.hsl[1]+=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},desaturate:function(e){return this.values.hsl[1]-=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},whiten:function(e){return this.values.hwb[1]+=this.values.hwb[1]*e,this.setValues("hwb",this.values.hwb),this},blacken:function(e){return this.values.hwb[2]+=this.values.hwb[2]*e,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){return this.setValues("alpha",this.values.alpha-this.values.alpha*e),this},opaquer:function(e){return this.setValues("alpha",this.values.alpha+this.values.alpha*e),this},rotate:function(e){var t=this.values.hsl[0];return t=(t+e)%360,t=0>t?360+t:t,this.values.hsl[0]=t,this.setValues("hsl",this.values.hsl),this},mix:function(e,t){var r=this,n=e,i=void 0!==t?t:.5,a=2*i-1,s=r.alpha()-n.alpha(),o=((a*s==-1?a:(a+s)/(1+a*s))+1)/2,l=1-o;return this.rgb(o*r.red()+l*n.red(),o*r.green()+l*n.green(),o*r.blue()+l*n.blue()).alpha(r.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},copy:function(){return(new i).rgb(this.rgb())},getValues:function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=this.values[e][r];return 1!=this.values.alpha&&(t.a=this.values.alpha),t},setValues:function(e,t){var r={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},i={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},a=1;if("alpha"==e)a=t;else if(t.length)this.values[e]=t.slice(0,e.length),a=t[e.length];else if(void 0!==t[e.charAt(0)]){for(var s=0;s<e.length;s++)this.values[e][s]=t[e.charAt(s)];a=t.a}else if(void 0!==t[r[e][0]]){for(var o=r[e],s=0;s<e.length;s++)this.values[e][s]=t[o[s]];a=t.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==a?a:this.values.alpha)),"alpha"!=e){for(var s=0;s<e.length;s++){var l=Math.max(0,Math.min(i[e][s],this.values[e][s]));this.values[e][s]=Math.round(l)}for(var u in r){u!=e&&(this.values[u]=n[e][u](this.values[e]));for(var s=0;s<u.length;s++){var l=Math.max(0,Math.min(i[u][s],this.values[u][s]));this.values[u][s]=Math.round(l)}}return!0}},setSpace:function(e,t){var r=t[0];return void 0===r?this.getValues(e):("number"==typeof r&&(r=Array.prototype.slice.call(t)),this.setValues(e,r),this)},setChannel:function(e,t,r){return void 0===r?this.values[e][t]:(this.values[e][t]=r,this.setValues(e,this.values[e]),this)}},i.Convert=n,t.exports=i},{"color-convert":3}],116:[function(e,t,r){var n={on:function(e,t){return this._events||(this._events={}),this._events[e]=this._events[e]||[],this._events[e].push(t),
this},off:function(e,t){if(this._events[e]&&!t)delete this._events[e];else if(this._events[e]){e=this._events[e];for(var r=e.length;r--;)e[r]===t&&e.splice(r-1,1)}else 0===arguments.length&&(this._events={});return this},trigger:function(e){if(this._events&&this._events[e])for(var t=this._events[e],r=arguments.length>1?[arguments[1]]:[],n=t.length;n--;)t[n].apply(this,r);return this}};t.exports=n},{}],117:[function(e,t,r){var n=e("lodash/object/assign"),i=e("lodash/collection/map"),a=e("lodash/array/flatten"),s=e("lodash/object/defaults"),o=e("./mixins/shape"),l=e("./group"),u=e("virtual-dom/virtual-hyperscript/svg"),c=function(e){this.shape(),this.modules=[];var t=s(e||{},{x:0,y:0,columns:10,rows:1,gutterWidth:0,gutterHeight:0,moduleWidth:50,moduleHeight:500});"undefined"!=typeof t.gutter&&(t.gutterWidth=t.gutter,t.gutterHeight=t.gutter),"undefined"!=typeof t.width?t.moduleWidth=(t.width-(t.columns-1)*t.gutterWidth)/t.columns:t.width=t.moduleWidth*t.columns+t.gutterWidth*(t.columns-1),"undefined"!=typeof t.height?t.moduleHeight=(t.height-(t.rows-1)*t.gutterHeight)/t.rows:t.height=t.moduleHeight*t.rows+t.gutterHeight*(t.rows-1),n(this.state,t),this.computeGrid()};c.prototype={add:function(e,t,r){t||(t=1),r||(r=1);var n=t-1+(r-1)*this.state.columns;if(!this.modules[n])throw new Error("Column or row does not exist");this.modules[n].add(e)},getModule:function(e,t){var r=e-1+(t-1)*this.state.columns;return this.modules[r]?this.modules[r]:void 0},computeGrid:function(){this.modules=[];for(var e=0;e<this.state.rows;e++)for(var t=0;t<this.state.columns;t++){var r=t*this.state.moduleWidth+t*this.state.gutterWidth,n=e*this.state.moduleHeight+e*this.state.gutterHeight;this.modules.push(new l(r,n))}},render:function(e){var t=this.shapeAttributes({}),r=i(this.modules,function(t){return t.render(e)});return e.debug&&(r=r.concat(this.renderDebug())),u("g",t,a(r,!0))},renderDebug:function(){var e=[];e.push(this.debugRect(0,0,this.state.width,this.state.height));for(var t=0,r=0;r<this.state.columns-1;r++)t+=this.state.moduleWidth,e.push(this.debugLine(t,0,t,this.state.height)),t+=this.state.gutterWidth,e.push(this.debugLine(t,0,t,this.state.height));for(var n=0,r=0;r<this.state.rows-1;r++)n+=this.state.moduleHeight,e.push(this.debugLine(0,n,this.state.width,n)),n+=this.state.gutterHeight,e.push(this.debugLine(0,n,this.state.width,n));return e}},n(c.prototype,o,{type:"grid"}),t.exports=c},{"./group":118,"./mixins/shape":120,"lodash/array/flatten":4,"lodash/collection/map":9,"lodash/object/assign":70,"lodash/object/defaults":71,"virtual-dom/virtual-hyperscript/svg":100}],118:[function(e,t,r){var n=e("lodash/array/without"),i=e("lodash/object/assign"),a=e("lodash/array/flatten"),s=e("lodash/collection/each"),o=(e("lodash/collection/map"),e("./mixins/shape")),l=e("./utils"),u=(e("./vector"),e("virtual-dom/virtual-hyperscript/svg")),c=function(e,t){this.shape(),this.children=[],this.changedChildren=[],this.renderedChildren=[],"undefined"!=typeof e&&(this.state.x=e),"undefined"!=typeof t&&(this.state.y=t)};c.prototype={add:function(e){e.parent&&e.parent.remove(e),this.children.push(e),e.parent=this,e.childId=this.children.length-1,e.changed()},remove:function(e){this.children=n(this.children,e),this.changedChildren=n(this.changedChildren,e.childId);for(var t=e.childId;t<this.children.length;t++)this.children[t].childId--;for(var t=0;t<this.changedChildren.length;t++)this.changedChildren[t]>e.childId&&this.changedChildren[t]--;e.childId=null,e.parentNotified=!1,e.parent=!1},copy:function(e){for(var t=new c,r=0;r<this.children.length;r++)this.children[r].copy(t);return l.copyMixinVars(this,t),l.groupLogic(t,this.parent,e),t},scale:function(e){return s(this.children,function(t){t.state.x*=e,t.state.y*=e,t.scale(e)}),this},render:function(e){if(this.children&&0!=this.children.length){var t=this.shapeAttributes({});return u("g",t,this.renderChildren(e))}},renderChildren:function(e){for(;this.changedChildren.length>0;){var t=this.changedChildren.shift();this.renderedChildren[t]=this.children[t].render(e),this.children[t].parentNotified=!1}return a(this.renderedChildren,!0)}},i(c.prototype,o,{type:"group"}),t.exports=c},{"./mixins/shape":120,"./utils":132,"./vector":133,"lodash/array/flatten":4,"lodash/array/without":6,"lodash/collection/each":7,"lodash/collection/map":9,"lodash/object/assign":70,"virtual-dom/virtual-hyperscript/svg":100}],119:[function(e,t,r){var n={box:function(e){this.state=this.state||{},this.state.width=e?e.state.width:0,this.state.height=e?e.state.height:0},width:function(e,t){return this.state.width=t?this.state.width+e:e,this.changed(),this},height:function(e,t){return this.state.height=t?this.state.height+e:e,this.changed(),this},scaleBox:function(e){this.state.width*=e,this.state.height*=e},boxAttributes:function(e){return e.width=Utils.s(this.state.width),e.height=Utils.s(this.state.height),e}};t.exports=n},{}],120:[function(e,t,r){var n=e("../vector"),i=e("../utils"),a=e("lodash/collection/each"),s=e("virtual-dom/virtual-hyperscript/svg"),o={changed:function(){this.parent&&!this.parentNotified&&(this.parent.changedChildren.push(this.childId),this.parentNotified=!0,this.parent.changed())},shape:function(e){this.state=this.state||{},this.state.x=e?e.state.x:0,this.state.y=e?e.state.y:0,this.state.rotation=e?e.state.rotation:0,this.state.rotationX=e?e.state.rotationX:0,this.state.rotationY=e?e.state.rotationY:0},move:function(e,t,r){return this.state.x=r?this.state.x+e:e,this.state.y=r?this.state.y+t:t,this.changed(),this},rotate:function(e,t,r,n){return this.state.rotation=e,(t||r)&&(this.state.rotationX=t||0,this.state.rotationY=r||0),n&&(this.state.rotationX+=this.state.x,this.state.rotationY+=this.state.y),this.changed(),this},addTo:function(e){return e.add(this),this},removeParent:function(){return this.parent&&this.parent.remove(this),this},stagepos:function(){var e=new n(this.state.x,this.state.y);return this.parent&&(e=e.add(this.parent.stagepos())),e},shapeAttributes:function(e){var t=[];if(this.state.rotation){var r="rotate("+this.state.rotation;(this.state.rotationX||this.state.rotationY)&&(r+=" "+this.state.rotationX+" "+this.state.rotationY),t.push(r+")")}return"group"!=this.type&&"path"!=this.type&&"polygon"!=this.type&&"grid"!=this.type&&"triangle"!=this.type||!this.state.x&&!this.state.y||t.push("translate("+this.state.x+" "+this.state.y+")"),t.length>0&&(e.transform=t.join(" ").trim()),e},optionalAttributes:function(e,t){a(t,function(t,r){this.state[r]&&(e[t]=i.s(this.state[r]))},this)},debugCircle:function(e,t){return s("circle",{cx:i.s(e),cy:i.s(t),r:i.s(4),fill:"rgb(212, 18, 229)"})},debugRect:function(e,t,r,n){return s("rect",{x:i.s(e),y:i.s(t),width:i.s(r),height:i.s(n),stroke:"rgb(212, 18, 229)",fill:"none"})},debugLine:function(e,t,r,n){return s("line",{x1:i.s(e),y1:i.s(t),x2:i.s(r),y2:i.s(n),stroke:"rgb(212, 18, 229)",fill:"none"})}};t.exports=o},{"../utils":132,"../vector":133,"lodash/collection/each":7,"virtual-dom/virtual-hyperscript/svg":100}],121:[function(e,t,r){var n=e("../color"),i=e("../utils"),a={styles:function(e){this.state=this.state||{},this.state.fill=new n(128),this.state.stroke=new n(0),e&&(e.state.fill===!1?this.state.fill=!1:e.state.fill&&(this.state.fill=e.state.fill.copy()),e.state.stroke===!1?this.state.stroke=!1:e.state.stroke&&(this.state.stroke=e.state.stroke.copy()),e.state.strokeWidth&&(this.state.strokeWidth=e.state.strokeWidth),e.state.strokeCap&&(this.state.strokeCap=e.state.strokeCap),e.state.strokeJoin&&(this.state.strokeJoin=e.state.strokeJoin),e.state.strokeMiterlimit&&(this.state.strokeMiterlimit=e.state.strokeMiterlimit),e.state.strokeDash&&(this.state.strokeDash=e.state.strokeDash),e.state.strokeDashOffset&&(this.state.strokeDashOffset=e.state.strokeDashOffset))},fill:function(e,t,r,i,a){return e===!1?this.state.fill=!1:this.state.fill=new n(e,t,r,i,a),this.changed(),this},stroke:function(e,t,r,i,a){return e===!1?this.state.stroke=!1:this.state.stroke=new n(e,t,r,i,a),this.changed(),this},strokeWidth:function(e){return this.state.strokeWidth=e,this.changed(),this},strokeCap:function(e){return this.state.strokeCap=e,this.changed(),this},strokeJoin:function(e){return this.state.strokeJoin=e,this.changed(),this},strokeMiterlimit:function(e){return this.state.strokeMiterlimit=e,this.changed(),this},strokeDash:function(e){return this.state.strokeDash=e,this.changed(),this},strokeDashOffset:function(e){return this.state.strokeDashOffset=e,this.changed(),this},scaleStyles:function(e){this.state.strokeWidth?this.state.strokeWidth*=e:this.state.strokeWidth=e},stylesAttributes:function(e){if(this.state.fill===!1)e.fill="none";else if(this.state.fill){e.fill="rgb("+this.state.fill.values.rgb[0]+", "+this.state.fill.values.rgb[1]+", "+this.state.fill.values.rgb[2]+")";var t=this.state.fill.values.alpha;1>t&&(e["fill-opacity"]=i.s(t))}if(this.state.stroke===!1)e.stroke="none";else if(this.state.stroke){e.stroke="rgb("+this.state.stroke.values.rgb[0]+", "+this.state.stroke.values.rgb[1]+", "+this.state.stroke.values.rgb[2]+")";var t=this.state.stroke.values.alpha;1>t&&(e["stroke-opacity"]=i.s(t))}return this.state.strokeWidth&&(e["stroke-width"]=i.s(this.state.strokeWidth)),this.state.strokeCap&&(e["stroke-linecap"]=this.state.strokeCap),this.state.strokeJoin&&(e["stroke-linejoin"]=this.state.strokeJoin),this.state.strokeMiterlimit&&(e["stroke-miterlimit"]=i.s(this.state.strokeMiterlimit)),this.state.strokeDash&&(e["stroke-dasharray"]=this.state.strokeDash),this.state.strokeDashOffset&&(e["stroke-dashoffset"]=i.s(this.state.strokeDashOffset)),e}};t.exports=a},{"../color":115,"../utils":132}],122:[function(e,t,r){var n=e("lodash/object/defaults"),i=e("lodash/object/assign"),a=e("lodash/collection/each"),s=e("./vector"),o=e("./anchor"),l=e("./color"),u=e("./group"),c=e("./grid"),h=e("./utils"),f=e("./events"),p=e("./shapes/circle"),d=e("./shapes/ellipse"),v=e("./shapes/line"),g=e("./shapes/triangle"),m=e("./shapes/path"),y=e("./shapes/polygon"),b=e("./shapes/rectangle"),x=e("./shapes/text"),w=e("./shapes/image"),S=e("./mixins/box"),_=e("./mixins/shape"),T=e("./mixins/styles"),k=(e("virtual-dom/h"),e("virtual-dom/diff")),C=e("virtual-dom/patch"),A=e("virtual-dom/create-element"),O=e("virtual-dom/virtual-hyperscript/svg"),M=function(e){var t=n(e||{},{debug:!1,frameRate:60}),r={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"};t.width&&(r.width=h.s(t.width),this.width=t.width),t.height&&(r.height=h.s(t.height),this.height=t.height);var i={attributes:r};if(this.tree=O("svg",i),this.el=A(this.tree),this.stage=new u,this.debug=t.debug,this.frameCount=1,this.frameRate=t.frameRate,t.container&&h.isBrowser())if("string"==typeof t.container&&(t.container=document.querySelector(t.container)),t.container){this.appendTo(t.container);var a=this.el.getBoundingClientRect();this.width||(this.width=a.width,this.ignoreWidth=!0),this.height||(this.height=a.height,this.ignoreHeight=!0)}else console.error("Container element not found");this.width||(this.width=640),this.height||(this.height=480),this.initEvents()};M.prototype={handleSize:function(){},relativePos:function(e,t){var r=this.el.getBoundingClientRect(),n=e-window.scrollX-r.left,i=t-window.scrollY-r.top;return{x:n,y:i}},initEvents:function(){"undefined"!=typeof window&&this.initMouseEvents()},initMouseEvents:function(){var e=["mousemove","mousedown","mouseup","click"];a(e,function(e){var t=this;this.el.addEventListener(e,function(r){var n=t.relativePos(r.pageX,r.pageY);t.trigger(e,{x:n.x,y:n.y})})},this)},group:function(e,t,r){var n=new u(e,t);return h.groupLogic(n,this.stage,r),n},triangle:function(e,t,r,n,i,a,s){var o=new g(e,t,r,n,i,a);return h.groupLogic(o,this.stage,s),o},rect:function(e,t,r,n,i){var a=new b(e,t,r,n);return h.groupLogic(a,this.stage,i),a},ellipse:function(e,t,r,n,i){var a=new d(e,t,r,n);return h.groupLogic(a,this.stage,i),a},circle:function(e,t,r,n){var i=new p(e,t,r,n);return h.groupLogic(i,this.stage,n),i},line:function(e,t,r,n,i){var a=new v(e,t,r,n);return h.groupLogic(a,this.stage,i),a},polygon:function(e,t,r){var n=new y(e,t);return h.groupLogic(n,this.stage,r),n},path:function(e,t,r){var n=new m(e,t);return h.groupLogic(n,this.stage,r),n},text:function(e,t,r,n){var i=new x(e,t,r);return h.groupLogic(i,this.stage,n),i},image:function(e,t,r,n,i,a){var s=new w(e,t,r,n,i);return h.groupLogic(s,this.stage,a),s},grid:function(e,t){var r=new c(e);return h.groupLogic(r,this.stage,t),r},play:function(){if(this.pauseNext)return void(this.pauseNext=!1);if(this.frameRate>=60)this.playNow();else{var e=this;setTimeout(function(){e.playNow()},1e3/this.frameRate)}},playNow:function(){var e=this;this.trigger("update",{frameCount:this.frameCount}),this.animationFrame=requestAnimationFrame(function(){e.play()}),this.draw()},pause:function(){this.pauseNext=!0},appendTo:function(e){return e.appendChild(this.el),this},draw:function(){var e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"};this.ignoreWidth||(e.width=h.s(this.width)),this.ignoreHeight||(e.height=h.s(this.height));var t={attributes:e},r=O("svg",t,[this.stage.renderChildren({debug:this.debug})]),n=k(this.tree,r);this.el=C(this.el,n),this.tree=r,this.frameCount+=1}},i(M,h),i(M.prototype,h),i(M.prototype,f),M.Vector=s,M.Anchor=o,M.Color=l,M.Group=u,M.Grid=c,M.Circle=p,M.Ellipse=d,M.Line=v,M.Triangle=g,M.Path=m,M.Polygon=y,M.Rectangle=b,M.Text=x,M.Image=w,M.Shape=_,M.Styles=T,M.Box=S,t.exports=M},{"./anchor":113,"./color":115,"./events":116,"./grid":117,"./group":118,"./mixins/box":119,"./mixins/shape":120,"./mixins/styles":121,"./shapes/circle":123,"./shapes/ellipse":124,"./shapes/image":125,"./shapes/line":126,"./shapes/path":127,"./shapes/polygon":128,"./shapes/rectangle":129,"./shapes/text":130,"./shapes/triangle":131,"./utils":132,"./vector":133,"lodash/collection/each":7,"lodash/object/assign":70,"lodash/object/defaults":71,"virtual-dom/create-element":77,"virtual-dom/diff":78,"virtual-dom/h":79,"virtual-dom/patch":87,"virtual-dom/virtual-hyperscript/svg":100}],123:[function(e,t,r){var n=e("lodash/object/assign"),i=e("../mixins/shape"),a=e("../mixins/styles"),s=e("./ellipse"),o=e("../utils"),l=e("virtual-dom/virtual-hyperscript/svg"),u=function(e,t,r){this.shape(),this.styles(),this.state.x=e,this.state.y=t,this.state.radius=r};u.prototype={toPolygon:function(e,t){var r=new s(this.state.x,this.state.y,2*this.state.radius,2*this.state.radius),n=r.toPolygon(e,!1);return o.copyMixinVars(this,n),o.groupLogic(n,this.parent,t),n},radius:function(e,t){return this.state.radius=t?this.state.radius+e:e,this.changed(),this},scale:function(e){return this.scaleStyles(e),this.state.radius*=e,this.changed(),this},copy:function(e){var t=new u;return t.state.radius=this.state.radius,o.copyMixinVars(this,t),o.groupLogic(t,this.parent,e),t},render:function(e){var t={cx:o.s(this.state.x),cy:o.s(this.state.y),r:o.s(this.state.radius)};return this.shapeAttributes(t),this.stylesAttributes(t),l("circle",t)}},n(u.prototype,i,a,{type:"circle"}),t.exports=u},{"../mixins/shape":120,"../mixins/styles":121,"../utils":132,"./ellipse":124,"lodash/object/assign":70,"virtual-dom/virtual-hyperscript/svg":100}],124:[function(e,t,r){var n=e("lodash/object/assign"),i=e("../mixins/shape"),a=e("../mixins/box"),s=e("../mixins/styles"),o=e("./polygon"),l=e("../utils"),u=e("virtual-dom/virtual-hyperscript/svg"),c=function(e,t,r,n){this.shape(),this.box(),this.styles(),this.state.x=e,this.state.y=t,this.state.width=r,this.state.height=n};c.prototype={toPolygon:function(e,t){var r=16,n=this.state.width/2,i=this.state.height/2;if(e&&e.spacing){var a=Math.PI*(this.state.width+this.state.height);r=a/e.spacing}for(var s=360/r,u=new o(this.state.x,this.state.y),c=0;r>c;c++){var h=Math.cos(l.radians(c*s))*n,f=Math.sin(l.radians(c*s))*i;u.lineTo(h,f)}return l.copyMixinVars(this,u),l.groupLogic(u,this.parent,t),u},scale:function(e){return this.scaleBox(e),this.scaleStyles(e),this.changed(),this},copy:function(e){var t=new c;return l.copyMixinVars(this,t),l.groupLogic(t,this.parent,e),t},render:function(e){var t={cx:l.s(this.state.x),cy:l.s(this.state.y),rx:l.s(this.state.width/2),ry:l.s(this.state.height/2)};return this.shapeAttributes(t),this.stylesAttributes(t),u("ellipse",t)}},n(c.prototype,i,a,s,{type:"ellipse"}),t.exports=c},{"../mixins/box":119,"../mixins/shape":120,"../mixins/styles":121,"../utils":132,"./polygon":128,"lodash/object/assign":70,"virtual-dom/virtual-hyperscript/svg":100}],125:[function(e,t,r){var n=e("lodash/object/assign"),i=e("../mixins/shape"),a=(e("../mixins/styles"),e("../mixins/box")),s=e("../utils"),o=e("virtual-dom/virtual-hyperscript/svg"),l=function(e,t,r,n,i){this.shape(),this.box(),this.state.url=e,this.state.x=t,this.state.y=r,this.state.width=n,this.state.height=i};l.prototype={scale:function(e){return this.scaleBox(e),this.changed(),this},copy:function(e){var t=new l;return t.state.url=this.state.url,s.copyMixinVars(this,t),s.groupLogic(t,this.parent,e),t},render:function(e){var t={"xlink:href":s.s(this.state.url),x:s.s(this.state.x),y:s.s(this.state.y)};return this.optionalAttributes(t,{width:"width",height:"height"}),this.shapeAttributes(t),o("image",t)}},n(l.prototype,i,a,{type:"image"}),t.exports=l},{"../mixins/box":119,"../mixins/shape":120,"../mixins/styles":121,"../utils":132,"lodash/object/assign":70,"virtual-dom/virtual-hyperscript/svg":100}],126:[function(e,t,r){var n=e("lodash/object/assign"),i=e("../mixins/shape"),a=e("../mixins/styles"),s=e("../vector"),o=e("../utils"),l=e("virtual-dom/virtual-hyperscript/svg"),u=function(e,t,r,n){this.shape(),this.styles(),this.state.x=e,this.state.y=t,this.state.x2=r,this.state.y2=n};n(u.prototype,i,a,{type:"line",start:function(e,t,r){return this.state.x=r?this.state.x+e:e,this.state.y=r?this.state.y+t:t,this.changed(),this},end:function(e,t,r){return this.state.x2=r?this.state.x2+e:e,this.state.y2=r?this.state.y2+t:t,this.changed(),this},copy:function(e){var t=new u;return t.state.x2=this.state.x2,t.state.y2=this.state.y2,o.copyMixinVars(this,t),o.groupLogic(t,this.parent,e),t},scale:function(e){this.scaleStyles(e);var t=new s(this.state.x,this.state.y),r=new s(this.state.x2,this.state.y2),n=r.sub(t).multiply(e).add(t);return this.state.x2=n.x,this.state.y2=n.y,this.changed(),this},move:function(e,t,r){var n=new s(this.state.x2,this.state.y2).sub(new s(this.state.x,this.state.y));return this.state.x=r?this.state.x+e:e,this.state.y=r?this.state.y+t:t,this.state.x2=this.state.x+n.x,this.state.y2=this.state.y+n.y,this.changed(),this},render:function(e){var t={x1:o.s(this.state.x),y1:o.s(this.state.y),x2:o.s(this.state.x2),y2:o.s(this.state.y2)};return this.shapeAttributes(t),this.stylesAttributes(t),l("line",t)}}),t.exports=u},{"../mixins/shape":120,"../mixins/styles":121,"../utils":132,"../vector":133,"lodash/object/assign":70,"virtual-dom/virtual-hyperscript/svg":100}],127:[function(e,t,r){var n=e("lodash/collection/each"),i=e("lodash/collection/map"),a=e("lodash/object/assign"),s=e("../mixins/shape"),o=e("../mixins/styles"),l=e("../anchor"),u=e("../vector"),c=e("./polygon"),h=e("../utils"),f=e("virtual-dom/virtual-hyperscript/svg"),p=function(e,t){this.shape(),this.styles(),this.state.anchors=[],"undefined"!=typeof e&&(this.state.x=e),"undefined"!=typeof t&&(this.state.y=t)};p.prototype={moveTo:function(e,t){return this.state.anchors.push((new l).setMove(e,t)),this.changed(),this},lineTo:function(e,t){return this.checkStartMove(),this.state.anchors.push((new l).setLine(e,t)),this.changed(),this},curveTo:function(e,t,r,n,i,a){return this.checkStartMove(),this.state.anchors.push((new l).setCurve(e,t,r,n,i,a)),this.changed(),this},closePath:function(){return this.checkStartMove(),this.state.anchors.push((new l).setClose()),this.changed(),this},startVector:function(){return this.state.anchors[0]&&"move"==this.state.anchors[0].command?this.state.anchors[0].vec1.copy():new u(0,0)},subpaths:function(e){var t=[],r=0;return n(this.state.anchors,function(n,i){var a="move"==n.command,s=this.state.anchors[i-1]&&"close"==this.state.anchors[i-1].command,o=i==this.state.anchors.length-1;if(i>r&&(a||s||o)){o&&i++;var l=this.copy(e);l.state.anchors=l.state.anchors.slice(r,i),t.push(l),r=i}},this),t},length:function(){for(var e=0,t=this.subpaths(!1),r=0;r<t.length;r++)for(var n=t[r].state.anchors,i=0;i<n.length-1;i++){var a=n[i],s=a.vec3||a.vec2||a.vec1,o=n[i+1];"close"==o.command&&(o=t[r].startVector());var l=o.sub(s);e+=l.length()}return e},vectorAtLength:function(e){for(var t=0,r=this.subpaths(!1),n=0;n<r.length;n++)for(var i=r[n].state.anchors,a=0;a<i.length-1;a++){var s=i[a],o=s.vec3||s.vec2||s.vec1,u=i[a+1];if("close"==u.command){var c=r[n].startVector();u=(new l).setLine(c.x,c.y)}var h=u.sub(o),f=h.length();if(t+f>e){var p=e-t;return o.add(h.vectorAt(p/f))}t+=f}return this.startVector()},vectorAt:function(e){return this.vectorAtLength(this.length()*e)},toPolygons:function(e,t){var r=this.subpaths(!1),i=[];return e&&e.spacing&&n(r,function(r){for(var n=new c(r.state.x,r.state.y),a=r.length(),s=a/e.spacing,o=0;s>o;o++){var l=r.vectorAtLength(o*e.spacing);n.lineTo(l.x,l.y)}h.copyMixinVars(this,n),h.groupLogic(n,this.parent,t),i.push(n)},this),i},copy:function(e){var t=new p;return t.state.anchors=i(this.state.anchors,function(e){return e.copy()}),h.copyMixinVars(this,t),h.groupLogic(t,this.parent,e),t},scale:function(e){return this.scaleStyles(e),this.state.anchors=i(this.state.anchors,function(t){return t.multiply(e)}),this.changed(),this},fillRule:function(e){return this.state.fillRule=e,this.changed(),this},checkStartMove:function(){0==this.state.anchors.length&&this.moveTo(0,0)},render:function(e){var t=this.shapeAttributes({});this.stylesAttributes(t),t.d=i(this.state.anchors,function(e){return"move"==e.command?"M "+e.vec1.x+" "+e.vec1.y:"line"==e.command?"L "+e.vec1.x+" "+e.vec1.y:"cubic"==e.command?"C "+e.vec1.x+" "+e.vec1.y+" "+e.vec2.x+" "+e.vec2.y+" "+e.vec3.x+" "+e.vec3.y:"quad"==e.command&&"undefined"!=typeof e.vec2?"Q "+e.vec1.x+" "+e.vec1.y+" "+e.vec2.x+" "+e.vec2.y:"quad"==e.command?"T "+e.vec1.x+" "+e.vec1.y:"close"==e.command?"Z":void 0}).join(" ").trim(),this.optionalAttributes(t,{fillRule:"fill-rule"});var r=[f("path",t)];return e.debug&&(r=r.concat(this.renderDebug())),r},renderDebug:function(){var e=this,t=[];return n(this.state.anchors,function(r,n){if("cubic"==r.command){t.push(e.debugLine(e.state.x+r.vec1.x,e.state.y+r.vec1.y,e.state.x+r.vec3.x,e.state.y+r.vec3.y)),t.push(e.debugLine(e.state.x+r.vec2.x,e.state.y+r.vec2.y,e.state.x+r.vec3.x,e.state.y+r.vec3.y));for(var n=1;4>n;n++)t.push(e.debugCircle(e.state.x+r["vec"+n].x,e.state.y+r["vec"+n].y))}else if("quad"==r.command&&"undefined"!=typeof r.vec2){t.push(e.debugLine(e.state.x+r.vec1.x,e.state.y+r.vec1.y,e.state.x+r.vec2.x,e.state.y+r.vec2.y));for(var n=1;3>n;n++)t.push(e.debugCircle(e.state.x+r["vec"+n].x,e.state.y+r["vec"+n].y))}}),t}},a(p.prototype,s,o,{type:"path"}),t.exports=p},{"../anchor":113,"../mixins/shape":120,"../mixins/styles":121,"../utils":132,"../vector":133,"./polygon":128,"lodash/collection/each":7,"lodash/collection/map":9,"lodash/object/assign":70,"virtual-dom/virtual-hyperscript/svg":100}],128:[function(e,t,r){var n=e("lodash/object/assign"),i=e("lodash/collection/each"),a=e("lodash/collection/map"),s=e("lodash/array/flatten"),o=e("../mixins/shape"),l=e("../mixins/styles"),u=e("../vector"),c=e("../utils"),h=e("virtual-dom/virtual-hyperscript/svg"),f=function(e,t){this.shape(),this.styles(),this.state.vectors=[],"undefined"!=typeof e&&(this.state.x=e),"undefined"!=typeof t&&(this.state.y=t)};f.prototype={lineTo:function(e,t){return e instanceof u?this.state.vectors.push(e):this.state.vectors.push(new u(e,t)),this.changed(),this},length:function(){for(var e=0,t=0;t<this.state.vectors.length;t++){var r=this.state.vectors[t],n=this.state.vectors[(t+1)%this.state.vectors.length];e+=n.sub(r).length()}return e},vectorAtLength:function(e){for(var t=0,r=0;r<this.state.vectors.length;r++){var n=this.state.vectors[r],i=this.state.vectors[(r+1)%this.state.vectors.length],a=i.sub(n),s=a.length();if(t+s>e){var o=e-t;return n.add(a.normalize().multiply(o))}t+=s}return this.state.vectors[0].copy()},vectorAt:function(e){return this.vectorAtLength(this.length()*e)},area:function(){for(var e=0,t=0;t<this.state.vectors.length-1;t++)e+=this.state.vectors[t].x*this.state.vectors[t+1].y-this.state.vectors[t+1].x*this.state.vectors[t].y;return e/=2,Math.abs(e)},bounds:function(){var e=void 0,t=void 0,r=void 0,n=void 0;return i(this.state.vectors,function(i){("undefined"==typeof r||i.x<r)&&(r=i.x),("undefined"==typeof e||i.x>e)&&(e=i.x),("undefined"==typeof n||i.y<n)&&(n=i.y),("undefined"==typeof t||i.y>t)&&(t=i.y)}),{x:r,y:n,width:e-r,height:t-n}},centroid:function(){for(var e=0,t=0,r=0,n=0;n<this.state.vectors.length;n++){var i=this.state.vectors[n],a=this.state.vectors[(n+1)%this.state.vectors.length];e+=i.x*a.y-a.x*i.y,t+=(i.x+a.x)*(i.x*a.y-a.x*i.y),r+=(i.y+a.y)*(i.x*a.y-a.x*i.y)}e/=2;var s=t/(6*e),o=r/(6*e);return new u(s,o)},toPolygon:function(e,t){if(e&&e.spacing){for(var r=new f(this.state.x,this.state.y),n=this.length(),i=n/e.spacing,a=0;i>a;a++){var s=this.vectorAtLength(a*e.spacing);r.lineTo(s.x,s.y)}return c.copyMixinVars(this,r),c.groupLogic(r,this.parent,t),r}return this},copy:function(e){var t=new f;return t.state.vectors=a(this.state.vectors,function(e){return e.copy()}),c.copyMixinVars(this,t),c.groupLogic(t,this.parent,e),t},contains:function(e,t){for(var r,n,i=this.stagepos(),o=s(a(this.state.vectors,function(e){return[i.x+e.x,i.y+e.y]},this)),l=o.length>>1,u=o[2*l-3]-t,c=o[2*l-2]-e,h=o[2*l-1]-t,f=0;l>f;f++)r=c,u=h,c=o[2*f]-e,h=o[2*f+1]-t,u!=h&&(n=h>u);for(var p=0,f=0;l>f;f++)if(r=c,u=h,c=o[2*f]-e,h=o[2*f+1]-t,!(0>u&&0>h||u>0&&h>0||0>r&&0>c)){if(u==h&&Math.min(r,c)<=0)return!0;if(u!=h){var d=r+(c-r)*-u/(h-u);if(0==d)return!0;d>0&&p++,0==u&&n&&h>u&&p--,0==u&&!n&&u>h&&p--,n=h>u}}return 1==(1&p)},scale:function(e){return this.scaleStyles(e),this.state.vectors=a(this.state.vectors,function(t){return t.multiply(e)}),this.changed(),this},render:function(e){var t={points:a(this.state.vectors,function(e){return e.x+" "+e.y}).join(" ")};return this.shapeAttributes(t),this.stylesAttributes(t),h("polygon",t)}},n(f.prototype,o,l,{type:"polygon"}),t.exports=f},{"../mixins/shape":120,"../mixins/styles":121,"../utils":132,"../vector":133,"lodash/array/flatten":4,"lodash/collection/each":7,"lodash/collection/map":9,"lodash/object/assign":70,"virtual-dom/virtual-hyperscript/svg":100}],129:[function(e,t,r){var n=e("lodash/object/assign"),i=e("../mixins/shape"),a=e("../mixins/styles"),s=e("../mixins/box"),o=e("./polygon"),l=e("../utils"),u=e("virtual-dom/virtual-hyperscript/svg"),c=function(e,t,r,n){this.shape(),this.box(),this.styles(),this.state.x=e,this.state.y=t,this.state.width=r,this.state.height=n};c.prototype={round:function(e,t){return t||(t=e),this.state.rx=e,this.state.ry=t,this.changed(),this},toPolygon:function(e,t){var r=new o(this.state.x,this.state.y).lineTo(0,0).lineTo(this.state.width,0).lineTo(this.state.width,this.state.height).lineTo(0,this.state.height);return e&&(r=r.toPolygon(e,!1)),l.copyMixinVars(this,r),l.groupLogic(r,this.parent,t),r},copy:function(e){var t=new c;return l.copyMixinVars(this,t),l.groupLogic(t,this.parent,e),t},scale:function(e){return this.scaleBox(e),this.scaleStyles(e),this.changed(),this},render:function(e){var t={x:l.s(this.state.x),y:l.s(this.state.y),width:l.s(this.state.width),height:l.s(this.state.height)};return this.state.rx&&(t.rx=l.s(this.state.rx)),this.state.ry&&(t.ry=l.s(this.state.ry)),this.shapeAttributes(t),this.stylesAttributes(t),u("rect",t)}},n(c.prototype,i,s,a,{type:"rectangle"}),t.exports=c},{"../mixins/box":119,"../mixins/shape":120,"../mixins/styles":121,"../utils":132,"./polygon":128,"lodash/object/assign":70,"virtual-dom/virtual-hyperscript/svg":100}],130:[function(e,t,r){var n=e("lodash/object/assign"),i=e("../mixins/shape"),a=e("../mixins/styles"),s=e("../utils"),o=e("virtual-dom/virtual-hyperscript/svg"),l=function(e,t,r){this.shape(),this.styles(),this.state.text=e,this.state.x=t,this.state.y=r,this.state.fontSize=16};l.prototype={toPolygon:function(){throw new Error("You need the Rune.Font plugin to convert text to polygon")},textAlign:function(e){return this.state.textAlign=e,this.changed(),this},fontFamily:function(e){return this.state.fontFamily=e,this.changed(),this},fontStyle:function(e){return this.state.fontStyle=e,this.changed(),this},fontWeight:function(e){return this.state.fontWeight=e,this.changed(),this},fontSize:function(e){return this.state.fontSize=e,this.changed(),this},letterSpacing:function(e){return this.state.letterSpacing=e,this.changed(),this},textDecoration:function(e){return this.state.textDecoration=e,this.changed(),this},copy:function(e){var t=new l;return t.state.text=this.state.text,t.state.textAlign=this.state.textAlign,t.state.fontFamily=this.state.fontFamily,t.state.fontStyle=this.state.fontStyle,t.state.fontWeight=this.state.fontWeight,t.state.fontSize=this.state.fontSize,t.state.letterSpacing=this.state.letterSpacing,t.state.textDecoration=this.state.textDecoration,s.copyMixinVars(this,t),s.groupLogic(t,this.parent,e),t},scale:function(e){return this.scaleStyles(e),this.state.fontSize*=e,this.changed(),this},render:function(e){var t={x:s.s(this.state.x),y:s.s(this.state.y)};if(this.shapeAttributes(t),this.stylesAttributes(t),this.state.textAlign){var r={left:"start",center:"middle",right:"end"};t["text-anchor"]=r[this.state.textAlign]}if(this.optionalAttributes(t,{fontFamily:"font-family",textAlign:"text-align",fontStyle:"font-style",fontWeight:"font-weight",fontSize:"font-size",letterSpacing:"letter-spacing",textDecoration:"text-decoration"}),this.state.textAlign){var r={left:"start",center:"middle",right:"end"};t["text-anchor"]=r[this.state.textAlign]}return o("text",t,this.state.text)}},n(l.prototype,i,a,{type:"text"}),t.exports=l},{"../mixins/shape":120,"../mixins/styles":121,"../utils":132,"lodash/object/assign":70,"virtual-dom/virtual-hyperscript/svg":100}],131:[function(e,t,r){var n=e("lodash/object/assign"),i=e("../mixins/shape"),a=e("../mixins/styles"),s=e("../utils"),o=e("virtual-dom/virtual-hyperscript/svg"),l=function(e,t,r,n,i,a){this.shape(),this.styles(),this.state.x=e,this.state.y=t,this.state.x2=r-e,this.state.y2=n-t,this.state.x3=i-e,this.state.y3=a-t};l.prototype={copy:function(e){var t=new l;return t.state.x2=this.state.x2,t.state.y2=this.state.y2,t.state.x3=this.state.x3,t.state.y3=this.state.y3,s.copyMixinVars(this,t),s.groupLogic(t,this.parent,e),t},scale:function(e){return this.scaleStyles(e),this.state.x2*=e,this.state.y2*=e,this.state.x3*=e,this.state.y3*=e,this.changed(),this},render:function(e){var t={points:"0 0 "+this.state.x2+" "+this.state.y2+" "+this.state.x3+" "+this.state.y3};return this.shapeAttributes(t),this.stylesAttributes(t),o("polygon",t)}},n(l.prototype,i,a,{type:"triangle"}),t.exports=l},{"../mixins/shape":120,"../mixins/styles":121,"../utils":132,"lodash/object/assign":70,"virtual-dom/virtual-hyperscript/svg":100}],132:[function(e,t,r){var n={isBrowser:function(){return"undefined"!=typeof window},s:function(e){return"string"!=typeof e&&"undefined"!=typeof e.toString?e.toString():e},random:function(e,t){return"undefined"==typeof t&&(t=e,e=0),e+Math.random()*(t-e)},degrees:function(e){return e*(180/Math.PI)},radians:function(e){return e*(Math.PI/180)},groupLogic:function(e,t,r){r&&"group"==r.type?r.add(e):r!==!1&&t&&"group"==t.type&&t.add(e)},copyMixinVars:function(e,t){e.shape&&t.shape&&t.shape(e),e.box&&t.box&&t.box(e),e.styles&&t.styles&&t.styles(e)},round:function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)},map:function(e,t,r,n,i){return(e-t)/(r-t)*(i-n)+n}};t.exports=n},{}],133:[function(e,t,r){var n=e("./utils"),i=9,a=function(e,t){this.x=e||0,this.y=t||0};a.prototype={type:"vector",set:function(e,t){this.x=e,this.y=t},add:function(e){return new a(this.x+e.x,this.y+e.y)},sub:function(e){return new a(this.x-e.x,this.y-e.y)},multiply:function(e){return new a(this.x*e,this.y*e)},divide:function(e){var t=new a(0,0);return e&&(t.x=this.x/e,t.y=this.y/e),t},distance:function(e){return Math.sqrt(this.distanceSquared(e))},distanceSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},lerp:function(e,t){var r=(e.x-this.x)*t+this.x,n=(e.y-this.y)*t+this.y;return new a(r,n)},dot:function(e){return this.x*e.x+this.y*e.y},length:function(){return Math.sqrt(this.lengthSquared())},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){return this.divide(this.length())},rotation:function(){return n.degrees(Math.atan2(this.y,this.x))},rotate:function(e){var t=n.radians(this.rotation()+e),r=this.length(),s=n.round(Math.cos(t)*r,i),o=n.round(Math.sin(t)*r,i);
return new a(s,o)},copy:function(){return new a(this.x,this.y)},toString:function(){return"(x: "+this.x+", y: "+this.y+")"}},t.exports=a},{"./utils":132}]},{},[122])(122)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.Rune||(t.Rune={})).Font=e()}}(function(){return function e(t,r,n){function i(s,o){if(!r[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){},{}],2:[function(e,t,r){function n(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new n,this.dtree=new n}function a(e,t,r,n){var i,a;for(i=0;r>i;++i)e[i]=0;for(i=0;30-r>i;++i)e[i+r]=i/r|0;for(a=n,i=0;30>i;++i)t[i]=a,a+=1<<e[i]}function s(e,t){var r;for(r=0;7>r;++r)e.table[r]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,r=0;24>r;++r)e.trans[r]=256+r;for(r=0;144>r;++r)e.trans[24+r]=r;for(r=0;8>r;++r)e.trans[168+r]=280+r;for(r=0;112>r;++r)e.trans[176+r]=144+r;for(r=0;5>r;++r)t.table[r]=0;for(t.table[5]=32,r=0;32>r;++r)t.trans[r]=r}function o(e,t,r,n){var i,a;for(i=0;16>i;++i)e.table[i]=0;for(i=0;n>i;++i)e.table[t[r+i]]++;for(e.table[0]=0,a=0,i=0;16>i;++i)C[i]=a,a+=e.table[i];for(i=0;n>i;++i)t[r+i]&&(e.trans[C[t[r+i]]++]=i)}function l(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function u(e,t,r){if(!t)return r;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,n+r}function c(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=0,n=0,i=0,a=e.tag;do n=2*n+(1&a),a>>>=1,++i,r+=t.table[i],n-=t.table[i];while(n>=0);return e.tag=a,e.bitcount-=i,t.trans[r+n]}function h(e,t,r){var n,i,a,s,l,h;for(n=u(e,5,257),i=u(e,5,1),a=u(e,4,4),s=0;19>s;++s)k[s]=0;for(s=0;a>s;++s){var f=u(e,3,0);k[_[s]]=f}for(o(T,k,0,19),l=0;n+i>l;){var p=c(e,T);switch(p){case 16:var d=k[l-1];for(h=u(e,2,3);h;--h)k[l++]=d;break;case 17:for(h=u(e,3,3);h;--h)k[l++]=0;break;case 18:for(h=u(e,7,11);h;--h)k[l++]=0;break;default:k[l++]=p}}o(t,k,0,n),o(r,k,n,i)}function f(e,t,r){for(;;){var n=c(e,t);if(256===n)return v;if(256>n)e.dest[e.destLen++]=n;else{var i,a,s,o;for(n-=257,i=u(e,b[n],x[n]),a=c(e,r),s=e.destLen-u(e,w[a],S[a]),o=s;s+i>o;++o)e.dest[e.destLen++]=e.dest[o]}}}function p(e){for(var t,r,n;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(t=e.source[e.sourceIndex+1],t=256*t+e.source[e.sourceIndex],r=e.source[e.sourceIndex+3],r=256*r+e.source[e.sourceIndex+2],t!==(65535&~r))return g;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,v}function d(e,t){var r,n,a=new i(e,t);do{switch(r=l(a),btype=u(a,2,0),btype){case 0:n=p(a);break;case 1:n=f(a,m,y);break;case 2:h(a,a.ltree,a.dtree),n=f(a,a.ltree,a.dtree);break;default:n=g}if(n!==v)throw new Error("Data error")}while(!r);return a.destLen<a.dest.length?"function"==typeof a.dest.slice?a.dest.slice(0,a.destLen):a.dest.subarray(0,a.destLen):a.dest}var v=0,g=-3,m=new n,y=new n,b=new Uint8Array(30),x=new Uint16Array(30),w=new Uint8Array(30),S=new Uint16Array(30),_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T=new n,k=new Uint8Array(320),C=new Uint16Array(16);s(m,y),a(b,x,4,3),a(w,S,2,1),b[28]=0,x[28]=258,t.exports=d},{}],3:[function(e,t,r){"use strict";r.argument=function(e,t){if(!e)throw new Error(t)},r.assert=r.argument},{}],4:[function(e,t,r){"use strict";function n(e,t,r,n,i){e.beginPath(),e.moveTo(t,r),e.lineTo(n,i),e.stroke()}r.line=n},{}],5:[function(e,t,r){"use strict";function n(e){this.font=e}function i(e){this.cmap=e}function a(e,t){this.encoding=e,this.charset=t}function s(e){var t;switch(e.version){case 1:this.names=r.standardNames.slice();break;case 2:for(this.names=new Array(e.numberOfGlyphs),t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<r.standardNames.length?this.names[t]=r.standardNames[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-r.standardNames.length];break;case 2.5:for(this.names=new Array(e.numberOfGlyphs),t=0;t<e.numberOfGlyphs;t++)this.names[t]=r.standardNames[t+e.glyphNameIndex[t]];break;case 3:this.names=[]}}function o(e){for(var t,r=e.tables.cmap.glyphIndexMap,n=Object.keys(r),i=0;i<n.length;i+=1){var a=n[i],s=r[a];t=e.glyphs.get(s),t.addUnicode(parseInt(a))}for(i=0;i<e.glyphs.length;i+=1)t=e.glyphs.get(i),e.cffEncoding?t.name=e.cffEncoding.charset[i]:t.name=e.glyphNames.glyphIndexToName(i)}var l=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],u=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],h=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];n.prototype.charToGlyphIndex=function(e){var t=e.charCodeAt(0),r=this.font.glyphs;if(!r)return null;for(var n=0;n<r.length;n+=1)for(var i=r.get(n),a=0;a<i.unicodes.length;a+=1)if(i.unicodes[a]===t)return n},i.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.charCodeAt(0)]||0},a.prototype.charToGlyphIndex=function(e){var t=e.charCodeAt(0),r=this.encoding[t];return this.charset.indexOf(r)},s.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},s.prototype.glyphIndexToName=function(e){return this.names[e]},r.cffStandardStrings=l,r.cffStandardEncoding=u,r.cffExpertEncoding=c,r.standardNames=h,r.DefaultEncoding=n,r.CmapEncoding=i,r.CffEncoding=a,r.GlyphNames=s,r.addGlyphNames=o},{}],6:[function(e,t,r){"use strict";function n(e){e=e||{},this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.supported=!0,this.glyphs=new o.GlyphSet(this,e.glyphs||[]),this.encoding=new s.DefaultEncoding(this),this.tables={}}var i=e("./path"),a=e("./tables/sfnt"),s=e("./encoding"),o=e("./glyphset");n.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},n.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},n.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r},n.prototype.stringToGlyphs=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e[r];t.push(this.charToGlyph(n))}return t},n.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},n.prototype.nameToGlyph=function(e){var t=this.nametoGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r},n.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},n.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.getGposKerningValue;return r?r(e,t):this.kerningPairs[e+","+t]||0},n.prototype.forEachGlyph=function(e,t,r,n,i,a){t=void 0!==t?t:0,r=void 0!==r?r:0,n=void 0!==n?n:72,i=i||{};for(var s=void 0===i.kerning?!0:i.kerning,o=1/this.unitsPerEm*n,l=this.stringToGlyphs(e),u=0;u<l.length;u+=1){var c=l[u];if(a(c,t,r,n,i),c.advanceWidth&&(t+=c.advanceWidth*o),s&&u<l.length-1){var h=this.getKerningValue(c,l[u+1]);t+=h*o}}},n.prototype.getPath=function(e,t,r,n,a){var s=new i.Path;return this.forEachGlyph(e,t,r,n,a,function(e,t,r,n){var i=e.getPath(t,r,n);s.extend(i)}),s},n.prototype.draw=function(e,t,r,n,i,a){this.getPath(t,r,n,i,a).draw(e)},n.prototype.drawPoints=function(e,t,r,n,i,a){this.forEachGlyph(t,r,n,i,a,function(t,r,n,i){t.drawPoints(e,r,n,i)})},n.prototype.drawMetrics=function(e,t,r,n,i,a){this.forEachGlyph(t,r,n,i,a,function(t,r,n,i){t.drawMetrics(e,r,n,i)})},n.prototype.getEnglishName=function(e){var t=this.names[e];return t?t.en:void 0},n.prototype.validate=function(){function e(e,t){e||r.push(t)}function t(t){var r=n.getEnglishName(t);e(r&&r.trim().length>0,"No English "+t+" specified.")}var r=[],n=this;t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),e(this.unitsPerEm>0,"No unitsPerEm specified.")},n.prototype.toTables=function(){return a.fontToTable(this)},n.prototype.toBuffer=function(){for(var e=this.toTables(),t=e.encode(),r=new ArrayBuffer(t.length),n=new Uint8Array(r),i=0;i<t.length;i++)n[i]=t[i];return r},n.prototype.download=function(){var e=this.getEnglishName("fontFamily"),t=this.getEnglishName("fontSubfamily"),r=e.replace(/\s/g,"")+"-"+t+".otf",n=this.toBuffer();window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,n.byteLength,function(e){e.root.getFile(r,{create:!0},function(e){e.createWriter(function(t){var r=new DataView(n),i=new Blob([r],{type:"font/opentype"});t.write(i),t.addEventListener("writeend",function(){location.href=e.toURL()},!1)})})},function(e){throw e})},r.Font=n},{"./encoding":5,"./glyphset":8,"./path":11,"./tables/sfnt":28}],7:[function(e,t,r){"use strict";function n(e,t){var r=t||{commands:[]};return{configurable:!0,get:function(){return"function"==typeof r&&(r=r()),r},set:function(e){r=e}}}function i(e){this.bindConstructorValues(e)}var a=e("./check"),s=e("./draw"),o=e("./path");i.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],e.xMin&&(this.xMin=e.xMin),e.yMin&&(this.yMin=e.yMin),e.xMax&&(this.xMax=e.xMax),e.yMax&&(this.yMax=e.yMax),e.advanceWidth&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",n(this,e.path))},i.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},i.prototype.getPath=function(e,t,r){e=void 0!==e?e:0,t=void 0!==t?t:0,r=void 0!==r?r:72;for(var n=1/this.path.unitsPerEm*r,i=new o.Path,a=this.path.commands,s=0;s<a.length;s+=1){var l=a[s];"M"===l.type?i.moveTo(e+l.x*n,t+-l.y*n):"L"===l.type?i.lineTo(e+l.x*n,t+-l.y*n):"Q"===l.type?i.quadraticCurveTo(e+l.x1*n,t+-l.y1*n,e+l.x*n,t+-l.y*n):"C"===l.type?i.curveTo(e+l.x1*n,t+-l.y1*n,e+l.x2*n,t+-l.y2*n,e+l.x*n,t+-l.y*n):"Z"===l.type&&i.closePath()}return i},i.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var n=this.points[r];t.push(n),n.lastPointOfContour&&(e.push(t),t=[])}return a.argument(0===t.length,"There are still points left in the current contour."),e},i.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],n=0;n<e.length;n+=1){var i=e[n];"Z"!==i.type&&(t.push(i.x),r.push(i.y)),("Q"===i.type||"C"===i.type)&&(t.push(i.x1),r.push(i.y1)),"C"===i.type&&(t.push(i.x2),r.push(i.y2))}var a={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:0};return isFinite(a.xMin)||(a.xMin=0),isFinite(a.xMax)||(a.xMax=this.advanceWidth),isFinite(a.yMin)||(a.yMin=0),isFinite(a.yMax)||(a.yMax=0),a.rightSideBearing=this.advanceWidth-a.leftSideBearing-(a.xMax-a.xMin),a},i.prototype.draw=function(e,t,r,n){this.getPath(t,r,n).draw(e)},i.prototype.drawPoints=function(e,t,r,n){function i(t,r,n,i){var a=2*Math.PI;e.beginPath();for(var s=0;s<t.length;s+=1)e.moveTo(r+t[s].x*i,n+t[s].y*i),e.arc(r+t[s].x*i,n+t[s].y*i,2,0,a,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,r=void 0!==r?r:0,n=void 0!==n?n:24;for(var a=1/this.path.unitsPerEm*n,s=[],o=[],l=this.path,u=0;u<l.commands.length;u+=1){var c=l.commands[u];void 0!==c.x&&s.push({x:c.x,y:-c.y}),void 0!==c.x1&&o.push({x:c.x1,y:-c.y1}),void 0!==c.x2&&o.push({x:c.x2,y:-c.y2})}e.fillStyle="blue",i(s,t,r,a),e.fillStyle="red",i(o,t,r,a)},i.prototype.drawMetrics=function(e,t,r,n){var i;t=void 0!==t?t:0,r=void 0!==r?r:0,n=void 0!==n?n:24,i=1/this.path.unitsPerEm*n,e.lineWidth=1,e.strokeStyle="black",s.line(e,t,-1e4,t,1e4),s.line(e,-1e4,r,1e4,r);var a=this.xMin||0,o=this.yMin||0,l=this.xMax||0,u=this.yMax||0,c=this.advanceWidth||0;e.strokeStyle="blue",s.line(e,t+a*i,-1e4,t+a*i,1e4),s.line(e,t+l*i,-1e4,t+l*i,1e4),s.line(e,-1e4,r+-o*i,1e4,r+-o*i),s.line(e,-1e4,r+-u*i,1e4,r+-u*i),e.strokeStyle="green",s.line(e,t+c*i,-1e4,t+c*i,1e4)},r.Glyph=i},{"./check":3,"./draw":4,"./path":11}],8:[function(e,t,r){"use strict";function n(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++)this.glyphs[r]=t[r];this.length=t&&t.length||0}function i(e,t){return new o.Glyph({index:t,font:e})}function a(e,t,r,n,i,a){return function(){var s=new o.Glyph({index:t,font:e});return s.path=function(){r(s,n,i);var t=a(e.glyphs,s);return t.unitsPerEm=e.unitsPerEm,t},s}}function s(e,t,r,n){return function(){var i=new o.Glyph({index:t,font:e});return i.path=function(){var t=r(e,i,n);return t.unitsPerEm=e.unitsPerEm,t},i}}var o=e("./glyph");n.prototype.get=function(e){return"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]()),this.glyphs[e]},n.prototype.push=function(e,t){this.glyphs[e]=t,this.length++},r.GlyphSet=n,r.glyphLoader=i,r.ttfGlyphLoader=a,r.cffGlyphLoader=s},{"./glyph":7}],9:[function(e,t,r){"use strict";function n(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n+=1)r[n]=e[n];return t}function i(t,r){var i=e("fs");i.readFile(t,function(e,t){return e?r(e.message):void r(null,n(t))})}function a(e,t){var r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="arraybuffer",r.onload=function(){return 200!==r.status?t("Font could not be loaded: "+r.statusText):t(null,r.response)},r.send()}function s(e,t){for(var r=[],n=12,i=0;t>i;i+=1){var a=g.getTag(e,n),s=g.getULong(e,n+8);r.push({tag:a,offset:s,compression:!1}),n+=16}return r}function o(e,t){for(var r=[],n=44,i=0;t>i;i+=1){var a,s=g.getTag(e,n),o=g.getULong(e,n+4),l=g.getULong(e,n+8),u=g.getULong(e,n+12);a=u>l?"WOFF":!1,r.push({tag:s,offset:o,compression:a,compressedLength:l,originalLength:u}),n+=20}return r}function l(e,t){if("WOFF"===t.compression){var r=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),n=new Uint8Array(t.originalLength);if(f(r,n),n.byteLength!==t.originalLength)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");var i=new DataView(n.buffer,0);return{data:i,offset:0}}return{data:e,offset:t.offset}}function u(e){var t,r,n,i=new d.Font,a=new DataView(e,0),u=[],c=g.getTag(a,0);if(c===String.fromCharCode(0,1,0,0))i.outlinesFormat="truetype",n=g.getUShort(a,4),u=s(a,n);else if("OTTO"===c)i.outlinesFormat="cff",n=g.getUShort(a,4),u=s(a,n);else{if("wOFF"!==c)throw new Error("Unsupported OpenType signature "+c);var h=g.getTag(a,4);if(h===String.fromCharCode(0,1,0,0))i.outlinesFormat="truetype";else{if("OTTO"!==h)throw new Error("Unsupported OpenType flavor "+c);i.outlinesFormat="cff"}n=g.getUShort(a,12),u=o(a,n)}for(var f,v,m,R,I,U,N,D,B=0;n>B;B+=1){var j,H=u[B];switch(H.tag){case"cmap":j=l(a,H),i.tables.cmap=y.parse(j.data,j.offset),i.encoding=new p.CmapEncoding(i.tables.cmap);break;case"fvar":v=H;break;case"head":j=l(a,H),i.tables.head=_.parse(j.data,j.offset),i.unitsPerEm=i.tables.head.unitsPerEm,t=i.tables.head.indexToLocFormat;break;case"hhea":j=l(a,H),i.tables.hhea=T.parse(j.data,j.offset),i.ascender=i.tables.hhea.ascender,i.descender=i.tables.hhea.descender,i.numberOfHMetrics=i.tables.hhea.numberOfHMetrics;break;case"hmtx":I=H;break;case"ltag":j=l(a,H),r=A.parse(j.data,j.offset);break;case"maxp":j=l(a,H),i.tables.maxp=M.parse(j.data,j.offset),i.numGlyphs=i.tables.maxp.numGlyphs;break;case"name":D=H;break;case"OS/2":j=l(a,H),i.tables.os2=E.parse(j.data,j.offset);break;case"post":j=l(a,H),i.tables.post=P.parse(j.data,j.offset),i.glyphNames=new p.GlyphNames(i.tables.post);break;case"glyf":m=H;break;case"loca":N=H;break;case"CFF ":f=H;break;case"kern":U=H;break;case"GPOS":R=H}}var F=l(a,D);if(i.tables.name=L.parse(F.data,F.offset,r),i.names=i.tables.name,m&&N){var W=0===t,z=l(a,N),G=O.parse(z.data,z.offset,i.numGlyphs,W),V=l(a,m);i.glyphs=w.parse(V.data,V.offset,G,i)}else{if(!f)throw new Error("Font doesn't contain TrueType or CFF outlines.");var q=l(a,f);b.parse(q.data,q.offset,i)}var Y=l(a,I);if(k.parse(Y.data,Y.offset,i.numberOfHMetrics,i.numGlyphs,i.glyphs),p.addGlyphNames(i),U){var X=l(a,U);i.kerningPairs=C.parse(X.data,X.offset)}else i.kerningPairs={};if(R){var K=l(a,R);S.parse(K.data,K.offset,i)}if(v){var $=l(a,v);i.tables.fvar=x.parse($.data,$.offset,i.names)}return i}function c(e,t){var r="undefined"==typeof window,n=r?i:a;n(e,function(e,r){if(e)return t(e);var n=u(r);return t(null,n)})}function h(t){var r=e("fs"),i=r.readFileSync(t);return u(n(i))}var f=e("tiny-inflate"),p=e("./encoding"),d=e("./font"),v=e("./glyph"),g=e("./parse"),m=e("./path"),y=e("./tables/cmap"),b=e("./tables/cff"),x=e("./tables/fvar"),w=e("./tables/glyf"),S=e("./tables/gpos"),_=e("./tables/head"),T=e("./tables/hhea"),k=e("./tables/hmtx"),C=e("./tables/kern"),A=e("./tables/ltag"),O=e("./tables/loca"),M=e("./tables/maxp"),L=e("./tables/name"),E=e("./tables/os2"),P=e("./tables/post");r._parse=g,r.Font=d.Font,r.Glyph=v.Glyph,r.Path=m.Path,r.parse=u,r.load=c,r.loadSync=h},{"./encoding":5,"./font":6,"./glyph":7,"./parse":10,"./path":11,"./tables/cff":13,"./tables/cmap":14,"./tables/fvar":15,"./tables/glyf":16,"./tables/gpos":17,"./tables/head":18,"./tables/hhea":19,"./tables/hmtx":20,"./tables/kern":21,"./tables/loca":22,"./tables/ltag":23,"./tables/maxp":24,"./tables/name":25,"./tables/os2":26,"./tables/post":27,fs:1,"tiny-inflate":2}],10:[function(e,t,r){"use strict";function n(e,t){this.data=e,this.offset=t,this.relativeOffset=0}r.getByte=function(e,t){return e.getUint8(t)},r.getCard8=r.getByte,r.getUShort=function(e,t){return e.getUint16(t,!1)},r.getCard16=r.getUShort,r.getShort=function(e,t){return e.getInt16(t,!1)},r.getULong=function(e,t){return e.getUint32(t,!1)},r.getFixed=function(e,t){var r=e.getInt16(t,!1),n=e.getUint16(t+2,!1);return r+n/65535},r.getTag=function(e,t){for(var r="",n=t;t+4>n;n+=1)r+=String.fromCharCode(e.getInt8(n));return r},r.getOffset=function(e,t,r){for(var n=0,i=0;r>i;i+=1)n<<=8,n+=e.getUint8(t+i);return n},r.getBytes=function(e,t,r){for(var n=[],i=t;r>i;i+=1)n.push(e.getUint8(i));return n},r.bytesToString=function(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t};var i={"byte":1,uShort:2,"short":2,uLong:4,fixed:4,longDateTime:8,tag:4};n.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},n.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},n.prototype.parseCard8=n.prototype.parseByte,n.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},n.prototype.parseCard16=n.prototype.parseUShort,n.prototype.parseSID=n.prototype.parseUShort,n.prototype.parseOffset16=n.prototype.parseUShort,n.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},n.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},n.prototype.parseULong=function(){var e=r.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},n.prototype.parseFixed=function(){var e=r.getFixed(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},n.prototype.parseOffset16List=n.prototype.parseUShortList=function(e){for(var t=new Array(e),n=this.data,i=this.offset+this.relativeOffset,a=0;e>a;a++)t[a]=r.getUShort(n,i),i+=2;return this.relativeOffset+=2*e,t},n.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var i=0;e>i;i++)n+=String.fromCharCode(t.getUint8(r+i));return n},n.prototype.parseTag=function(){return this.parseString(4)},n.prototype.parseLongDateTime=function(){var e=r.getULong(this.data,this.offset+this.relativeOffset+4);return this.relativeOffset+=8,e},n.prototype.parseFixed=function(){var e=r.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e/65536},n.prototype.parseVersion=function(){var e=r.getUShort(this.data,this.offset+this.relativeOffset),t=r.getUShort(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,e+t/4096/10},n.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=i[e]*t},r.Parser=n},{}],11:[function(e,t,r){"use strict";function n(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}n.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},n.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},n.prototype.curveTo=n.prototype.bezierCurveTo=function(e,t,r,n,i,a){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:n,x:i,y:a})},n.prototype.quadTo=n.prototype.quadraticCurveTo=function(e,t,r,n){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:n})},n.prototype.close=n.prototype.closePath=function(){this.commands.push({type:"Z"})},n.prototype.extend=function(e){e.commands&&(e=e.commands),Array.prototype.push.apply(this.commands,e)},n.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];"M"===r.type?e.moveTo(r.x,r.y):"L"===r.type?e.lineTo(r.x,r.y):"C"===r.type?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):"Z"===r.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},n.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function r(){for(var e="",r=0;r<arguments.length;r+=1){var n=arguments[r];n>=0&&r>0&&(e+=" "),e+=t(n);
}return e}e=void 0!==e?e:2;for(var n="",i=0;i<this.commands.length;i+=1){var a=this.commands[i];"M"===a.type?n+="M"+r(a.x,a.y):"L"===a.type?n+="L"+r(a.x,a.y):"C"===a.type?n+="C"+r(a.x1,a.y1,a.x2,a.y2,a.x,a.y):"Q"===a.type?n+="Q"+r(a.x1,a.y1,a.x,a.y):"Z"===a.type&&(n+="Z")}return n},n.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&"black"!==this.fill&&(t+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},r.Path=n},{}],12:[function(e,t,r){"use strict";function n(e,t,r){var n;for(n=0;n<t.length;n+=1){var i=t[n];this[i.name]=i.value}if(this.tableName=e,this.fields=t,r){var a=Object.keys(r);for(n=0;n<a.length;n+=1){var s=a[n],o=r[s];void 0!==this[s]&&(this[s]=o)}}}var i=e("./check"),a=e("./types").encode,s=e("./types").sizeOf;n.prototype.sizeOf=function(){for(var e=0,t=0;t<this.fields.length;t+=1){var r=this.fields[t],n=this[r.name];if(void 0===n&&(n=r.value),"function"==typeof n.sizeOf)e+=n.sizeOf();else{var a=s[r.type];i.assert("function"==typeof a,"Could not find sizeOf function for field"+r.name),e+=a(n)}}return e},n.prototype.encode=function(){return a.TABLE(this)},r.Table=n},{"./check":3,"./types":29}],13:[function(e,t,r){"use strict";function n(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!n(e[r],t[r]))return!1;return!0}return!1}function i(e,t,r){var n,i,a,s=[],o=[],l=U.getCard16(e,t);if(0!==l){var u=U.getByte(e,t+2);i=t+(l+1)*u+2;var c=t+3;for(n=0;l+1>n;n+=1)s.push(U.getOffset(e,c,u)),c+=u;a=i+s[l]}else a=t+2;for(n=0;n<s.length-1;n+=1){var h=U.getBytes(e,i+s[n],i+s[n+1]);r&&(h=r(h)),o.push(h)}return{objects:o,startOffset:t,endOffset:a}}function a(e){for(var t="",r=15,n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=e.parseByte(),a=i>>4,s=15&i;if(a===r)break;if(t+=n[a],s===r)break;t+=n[s]}return parseFloat(t)}function s(e,t){var r,n,i,s;if(28===t)return r=e.parseByte(),n=e.parseByte(),r<<8|n;if(29===t)return r=e.parseByte(),n=e.parseByte(),i=e.parseByte(),s=e.parseByte(),r<<24|n<<16|i<<8|s;if(30===t)return a(e);if(t>=32&&246>=t)return t-139;if(t>=247&&250>=t)return r=e.parseByte(),256*(t-247)+r+108;if(t>=251&&254>=t)return r=e.parseByte(),256*-(t-251)-r-108;throw new Error("Invalid b0 "+t)}function o(e){for(var t={},r=0;r<e.length;r+=1){var n,i=e[r][0],a=e[r][1];if(n=1===a.length?a[0]:a,t.hasOwnProperty(i))throw new Error("Object "+t+" already has key "+i);t[i]=n}return t}function l(e,t,r){t=void 0!==t?t:0;var n=new U.Parser(e,t),i=[],a=[];for(r=void 0!==r?r:e.length;n.relativeOffset<r;){var l=n.parseByte();21>=l?(12===l&&(l=1200+n.parseByte()),i.push([l,a]),a=[]):a.push(s(n,l))}return o(i)}function u(e,t){return t=390>=t?R.cffStandardStrings[t]:e[t-391]}function c(e,t,r){for(var n={},i=0;i<t.length;i+=1){var a=t[i],s=e[a.op];void 0===s&&(s=void 0!==a.value?a.value:null),"SID"===a.type&&(s=u(r,s)),n[a.name]=s}return n}function h(e,t){var r={};return r.formatMajor=U.getCard8(e,t),r.formatMinor=U.getCard8(e,t+1),r.size=U.getCard8(e,t+2),r.offsetSize=U.getCard8(e,t+3),r.startOffset=t,r.endOffset=t+4,r}function f(e,t){var r=l(e,0,e.byteLength);return c(r,B,t)}function p(e,t,r,n){var i=l(e,t,r);return c(i,j,n)}function d(e,t,r,n){var i,a,s,o=new U.Parser(e,t);r-=1;var l=[".notdef"],c=o.parseCard8();if(0===c)for(i=0;r>i;i+=1)a=o.parseSID(),l.push(u(n,a));else if(1===c)for(;l.length<=r;)for(a=o.parseSID(),s=o.parseCard8(),i=0;s>=i;i+=1)l.push(u(n,a)),a+=1;else{if(2!==c)throw new Error("Unknown charset format "+c);for(;l.length<=r;)for(a=o.parseSID(),s=o.parseCard16(),i=0;s>=i;i+=1)l.push(u(n,a)),a+=1}return l}function v(e,t,r){var n,i,a={},s=new U.Parser(e,t),o=s.parseCard8();if(0===o){var l=s.parseCard8();for(n=0;l>n;n+=1)i=s.parseCard8(),a[i]=n}else{if(1!==o)throw new Error("Unknown encoding format "+o);var u=s.parseCard8();for(i=1,n=0;u>n;n+=1)for(var c=s.parseCard8(),h=s.parseCard8(),f=c;c+h>=f;f+=1)a[f]=i,i+=1}return new R.CffEncoding(a,r)}function g(e,t,r){function n(e,t){v&&c.closePath(),c.moveTo(e,t),v=!0}function i(){var t;t=h.length%2!==0,t&&!p&&(d=h.shift()+e.nominalWidthX),f+=h.length>>1,h.length=0,p=!0}function a(r){for(var y,b,x,w,S,_,T,k,C,A,O,M,L=0;L<r.length;){var E=r[L];switch(L+=1,E){case 1:i();break;case 3:i();break;case 4:h.length>1&&!p&&(d=h.shift()+e.nominalWidthX,p=!0),m+=h.pop(),n(g,m);break;case 5:for(;h.length>0;)g+=h.shift(),m+=h.shift(),c.lineTo(g,m);break;case 6:for(;h.length>0&&(g+=h.shift(),c.lineTo(g,m),0!==h.length);)m+=h.shift(),c.lineTo(g,m);break;case 7:for(;h.length>0&&(m+=h.shift(),c.lineTo(g,m),0!==h.length);)g+=h.shift(),c.lineTo(g,m);break;case 8:for(;h.length>0;)s=g+h.shift(),o=m+h.shift(),l=s+h.shift(),u=o+h.shift(),g=l+h.shift(),m=u+h.shift(),c.curveTo(s,o,l,u,g,m);break;case 10:S=h.pop()+e.subrsBias,_=e.subrs[S],_&&a(_);break;case 11:return;case 12:switch(E=r[L],L+=1,E){case 35:s=g+h.shift(),o=m+h.shift(),l=s+h.shift(),u=o+h.shift(),T=l+h.shift(),k=u+h.shift(),C=T+h.shift(),A=k+h.shift(),O=C+h.shift(),M=A+h.shift(),g=O+h.shift(),m=M+h.shift(),h.shift(),c.curveTo(s,o,l,u,T,k),c.curveTo(C,A,O,M,g,m);break;case 34:s=g+h.shift(),o=m,l=s+h.shift(),u=o+h.shift(),T=l+h.shift(),k=u,C=T+h.shift(),A=u,O=C+h.shift(),M=m,g=O+h.shift(),c.curveTo(s,o,l,u,T,k),c.curveTo(C,A,O,M,g,m);break;case 36:s=g+h.shift(),o=m+h.shift(),l=s+h.shift(),u=o+h.shift(),T=l+h.shift(),k=u,C=T+h.shift(),A=u,O=C+h.shift(),M=A+h.shift(),g=O+h.shift(),c.curveTo(s,o,l,u,T,k),c.curveTo(C,A,O,M,g,m);break;case 37:s=g+h.shift(),o=m+h.shift(),l=s+h.shift(),u=o+h.shift(),T=l+h.shift(),k=u+h.shift(),C=T+h.shift(),A=k+h.shift(),O=C+h.shift(),M=A+h.shift(),Math.abs(O-g)>Math.abs(M-m)?g=O+h.shift():m=M+h.shift(),c.curveTo(s,o,l,u,T,k),c.curveTo(C,A,O,M,g,m);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+E),h.length=0}break;case 14:h.length>0&&!p&&(d=h.shift()+e.nominalWidthX,p=!0),v&&(c.closePath(),v=!1);break;case 18:i();break;case 19:case 20:i(),L+=f+7>>3;break;case 21:h.length>2&&!p&&(d=h.shift()+e.nominalWidthX,p=!0),m+=h.pop(),g+=h.pop(),n(g,m);break;case 22:h.length>1&&!p&&(d=h.shift()+e.nominalWidthX,p=!0),g+=h.pop(),n(g,m);break;case 23:i();break;case 24:for(;h.length>2;)s=g+h.shift(),o=m+h.shift(),l=s+h.shift(),u=o+h.shift(),g=l+h.shift(),m=u+h.shift(),c.curveTo(s,o,l,u,g,m);g+=h.shift(),m+=h.shift(),c.lineTo(g,m);break;case 25:for(;h.length>6;)g+=h.shift(),m+=h.shift(),c.lineTo(g,m);s=g+h.shift(),o=m+h.shift(),l=s+h.shift(),u=o+h.shift(),g=l+h.shift(),m=u+h.shift(),c.curveTo(s,o,l,u,g,m);break;case 26:for(h.length%2&&(g+=h.shift());h.length>0;)s=g,o=m+h.shift(),l=s+h.shift(),u=o+h.shift(),g=l,m=u+h.shift(),c.curveTo(s,o,l,u,g,m);break;case 27:for(h.length%2&&(m+=h.shift());h.length>0;)s=g+h.shift(),o=m,l=s+h.shift(),u=o+h.shift(),g=l+h.shift(),m=u,c.curveTo(s,o,l,u,g,m);break;case 28:y=r[L],b=r[L+1],h.push((y<<24|b<<16)>>16),L+=2;break;case 29:S=h.pop()+e.gsubrsBias,_=e.gsubrs[S],_&&a(_);break;case 30:for(;h.length>0&&(s=g,o=m+h.shift(),l=s+h.shift(),u=o+h.shift(),g=l+h.shift(),m=u+(1===h.length?h.shift():0),c.curveTo(s,o,l,u,g,m),0!==h.length);)s=g+h.shift(),o=m,l=s+h.shift(),u=o+h.shift(),m=u+h.shift(),g=l+(1===h.length?h.shift():0),c.curveTo(s,o,l,u,g,m);break;case 31:for(;h.length>0&&(s=g+h.shift(),o=m,l=s+h.shift(),u=o+h.shift(),m=u+h.shift(),g=l+(1===h.length?h.shift():0),c.curveTo(s,o,l,u,g,m),0!==h.length);)s=g,o=m+h.shift(),l=s+h.shift(),u=o+h.shift(),g=l+h.shift(),m=u+(1===h.length?h.shift():0),c.curveTo(s,o,l,u,g,m);break;default:32>E?console.log("Glyph "+t.index+": unknown operator "+E):247>E?h.push(E-139):251>E?(y=r[L],L+=1,h.push(256*(E-247)+y+108)):255>E?(y=r[L],L+=1,h.push(256*-(E-251)-y-108)):(y=r[L],b=r[L+1],x=r[L+2],w=r[L+3],L+=4,h.push((y<<24|b<<16|x<<8|w)/65536))}}}var s,o,l,u,c=new N.Path,h=[],f=0,p=!1,d=e.defaultWidthX,v=!1,g=0,m=0;return a(r),t.advanceWidth=d,c}function m(e){var t;return t=e.length<1240?107:e.length<33900?1131:32768}function y(e,t,r){r.tables.cff={};var n=h(e,t),a=i(e,n.endOffset,U.bytesToString),s=i(e,a.endOffset),o=i(e,s.endOffset,U.bytesToString),l=i(e,o.endOffset);r.gsubrs=l.objects,r.gsubrsBias=m(r.gsubrs);var u=new DataView(new Uint8Array(s.objects[0]).buffer),c=f(u,o.objects);r.tables.cff.topDict=c;var y=t+c["private"][1],b=p(e,y,c["private"][0],o.objects);if(r.defaultWidthX=b.defaultWidthX,r.nominalWidthX=b.nominalWidthX,0!==b.subrs){var x=y+b.subrs,w=i(e,x);r.subrs=w.objects,r.subrsBias=m(r.subrs)}else r.subrs=[],r.subrsBias=0;var S=i(e,t+c.charStrings);r.nGlyphs=S.objects.length;var _=d(e,t+c.charset,r.nGlyphs,o.objects);0===c.encoding?r.cffEncoding=new R.CffEncoding(R.cffStandardEncoding,_):1===c.encoding?r.cffEncoding=new R.CffEncoding(R.cffExpertEncoding,_):r.cffEncoding=v(e,t+c.encoding,_),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new I.GlyphSet(r);for(var T=0;T<r.nGlyphs;T+=1){var k=S.objects[T];r.glyphs.push(T,I.cffGlyphLoader(r,T,g,k))}}function b(e,t){var r,n=R.cffStandardStrings.indexOf(e);return n>=0&&(r=n),n=t.indexOf(e),n>=0?r=n+R.cffStandardStrings.length:(r=R.cffStandardStrings.length+t.length,t.push(e)),r}function x(){return new D.Table("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function w(e){var t=new D.Table("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}function S(e,t,r){for(var i={},a=0;a<e.length;a+=1){var s=e[a],o=t[s.name];void 0===o||n(o,s.value)||("SID"===s.type&&(o=b(o,r)),i[s.op]={name:s.name,type:s.type,value:o})}return i}function _(e,t){var r=new D.Table("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=S(B,e,t),r}function T(e){var t=new D.Table("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function k(e){var t=new D.Table("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}function C(){return new D.Table("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function A(e,t){for(var r=new D.Table("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<e.length;n+=1){var i=e[n],a=b(i,t);r.fields.push({name:"glyph_"+n,type:"SID",value:a})}return r}function O(e){var t=[],r=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var n=0,i=0,a=0;a<r.commands.length;a+=1){var s,o,l=r.commands[a];if("Q"===l.type){var u=1/3,c=2/3;l={type:"C",x:l.x,y:l.y,x1:u*n+c*l.x1,y1:u*i+c*l.y1,x2:u*l.x+c*l.x1,y2:u*l.y+c*l.y1}}if("M"===l.type)s=Math.round(l.x-n),o=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:o}),t.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(l.x),i=Math.round(l.y);else if("L"===l.type)s=Math.round(l.x-n),o=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:o}),t.push({name:"rlineto",type:"OP",value:5}),n=Math.round(l.x),i=Math.round(l.y);else if("C"===l.type){var h=Math.round(l.x1-n),f=Math.round(l.y1-i),p=Math.round(l.x2-l.x1),d=Math.round(l.y2-l.y1);s=Math.round(l.x-l.x2),o=Math.round(l.y-l.y2),t.push({name:"dx1",type:"NUMBER",value:h}),t.push({name:"dy1",type:"NUMBER",value:f}),t.push({name:"dx2",type:"NUMBER",value:p}),t.push({name:"dy2",type:"NUMBER",value:d}),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:o}),t.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(l.x),i=Math.round(l.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}function M(e){for(var t=new D.Table("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var n=e.get(r),i=O(n);t.charStrings.push({name:n.name,type:"CHARSTRING",value:i})}return t}function L(e,t){var r=new D.Table("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=S(j,e,t),r}function E(e){var t=new D.Table("Private DICT INDEX",[{name:"privateDicts",type:"INDEX",value:[]}]);return t.privateDicts=[{name:"privateDict_0",type:"TABLE",value:e}],t}function P(e,t){for(var r,n=new D.Table("CFF ",[{name:"header",type:"TABLE"},{name:"nameIndex",type:"TABLE"},{name:"topDictIndex",type:"TABLE"},{name:"stringIndex",type:"TABLE"},{name:"globalSubrIndex",type:"TABLE"},{name:"charsets",type:"TABLE"},{name:"charStringsIndex",type:"TABLE"},{name:"privateDictIndex",type:"TABLE"}]),i=1/t.unitsPerEm,a={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,"private":[0,999]},s={},o=[],l=1;l<e.length;l+=1)r=e.get(l),o.push(r.name);var u=[];n.header=x(),n.nameIndex=w([t.postScriptName]);var c=_(a,u);n.topDictIndex=T(c),n.globalSubrIndex=C(),n.charsets=A(o,u),n.charStringsIndex=M(e);var h=L(s,u);n.privateDictIndex=E(h),n.stringIndex=k(u);var f=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return a.charset=f,a.encoding=0,a.charStrings=a.charset+n.charsets.sizeOf(),a["private"][1]=a.charStrings+n.charStringsIndex.sizeOf(),c=_(a,u),n.topDictIndex=T(c),n}var R=e("../encoding"),I=e("../glyphset"),U=e("../parse"),N=e("../path"),D=e("../table"),B=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]}],j=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];r.parse=y,r.make=P},{"../encoding":5,"../glyphset":8,"../parse":10,"../path":11,"../table":12}],14:[function(e,t,r){"use strict";function n(e,t){var r,n={};n.version=l.getUShort(e,t),o.argument(0===n.version,"cmap table version should be 0."),n.numTables=l.getUShort(e,t+2);var i=-1;for(r=0;r<n.numTables;r+=1){var a=l.getUShort(e,t+4+8*r),s=l.getUShort(e,t+4+8*r+2);if(3===a&&(1===s||0===s)){i=l.getULong(e,t+4+8*r+4);break}}if(-1===i)return null;var u=new l.Parser(e,t+i);n.format=u.parseUShort(),o.argument(4===n.format,"Only format 4 cmap tables are supported."),n.length=u.parseUShort(),n.language=u.parseUShort();var c;n.segCount=c=u.parseUShort()>>1,u.skip("uShort",3),n.glyphIndexMap={};var h=new l.Parser(e,t+i+14),f=new l.Parser(e,t+i+16+2*c),p=new l.Parser(e,t+i+16+4*c),d=new l.Parser(e,t+i+16+6*c),v=t+i+16+8*c;for(r=0;c-1>r;r+=1)for(var g,m=h.parseUShort(),y=f.parseUShort(),b=p.parseShort(),x=d.parseUShort(),w=y;m>=w;w+=1)0!==x?(v=d.offset+d.relativeOffset-2,v+=x,v+=2*(w-y),g=l.getUShort(e,v),0!==g&&(g=g+b&65535)):g=w+b&65535,n.glyphIndexMap[w]=g;return n}function i(e,t,r){e.segments.push({end:t,start:t,delta:-(t-r),offset:0})}function a(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function s(e){var t,r=new u.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);for(r.segments=[],t=0;t<e.length;t+=1){for(var n=e.get(t),s=0;s<n.unicodes.length;s+=1)i(r,n.unicodes[s],t);r.segments=r.segments.sort(function(e,t){return e.start-t.start})}a(r);var o;o=r.segments.length,r.segCountX2=2*o,r.searchRange=2*Math.pow(2,Math.floor(Math.log(o)/Math.log(2))),r.entrySelector=Math.log(r.searchRange/2)/Math.log(2),r.rangeShift=r.segCountX2-r.searchRange;var l=[],c=[],h=[],f=[],p=[];for(t=0;o>t;t+=1){var d=r.segments[t];l=l.concat({name:"end_"+t,type:"USHORT",value:d.end}),c=c.concat({name:"start_"+t,type:"USHORT",value:d.start}),h=h.concat({name:"idDelta_"+t,type:"SHORT",value:d.delta}),f=f.concat({name:"idRangeOffset_"+t,type:"USHORT",value:d.offset}),void 0!==d.glyphId&&(p=p.concat({name:"glyph_"+t,type:"USHORT",value:d.glyphId}))}return r.fields=r.fields.concat(l),r.fields.push({name:"reservedPad",type:"USHORT",value:0}),r.fields=r.fields.concat(c),r.fields=r.fields.concat(h),r.fields=r.fields.concat(f),r.fields=r.fields.concat(p),r.length=14+2*l.length+2+2*c.length+2*h.length+2*f.length+2*p.length,r}var o=e("../check"),l=e("../parse"),u=e("../table");r.parse=n,r.make=s},{"../check":3,"../parse":10,"../table":12}],15:[function(e,t,r){"use strict";function n(e,t){var r=JSON.stringify(e),n=256;for(var i in t){var a=parseInt(i);if(a&&!(256>a)){if(JSON.stringify(t[i])===r)return a;a>=n&&(n=a+1)}}return t[n]=e,n}function i(e,t){var r=n(e.name,t);return new f.Table("fvarAxis",[{name:"tag",type:"TAG",value:e.tag},{name:"minValue",type:"FIXED",value:e.minValue<<16},{name:"defaultValue",type:"FIXED",value:e.defaultValue<<16},{name:"maxValue",type:"FIXED",value:e.maxValue<<16},{name:"flags",type:"USHORT",value:0},{name:"nameID",type:"USHORT",value:r}])}function a(e,t,r){var n={},i=new h.Parser(e,t);return n.tag=i.parseTag(),n.minValue=i.parseFixed(),n.defaultValue=i.parseFixed(),n.maxValue=i.parseFixed(),i.skip("uShort",1),n.name=r[i.parseUShort()]||{},n}function s(e,t,r){for(var i=n(e.name,r),a=[{name:"nameID",type:"USHORT",value:i},{name:"flags",type:"USHORT",value:0}],s=0;s<t.length;++s){var o=t[s].tag;a.push({name:"axis "+o,type:"FIXED",value:e.coordinates[o]<<16})}return new f.Table("fvarInstance",a)}function o(e,t,r,n){var i={},a=new h.Parser(e,t);i.name=n[a.parseUShort()]||{},a.skip("uShort",1),i.coordinates={};for(var s=0;s<r.length;++s)i.coordinates[r[s].tag]=a.parseFixed();return i}function l(e,t){var r=new f.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);r.offsetToData=r.sizeOf();for(var n=0;n<e.axes.length;n++)r.fields.push({name:"axis "+n,type:"TABLE",value:i(e.axes[n],t)});for(var a=0;a<e.instances.length;a++)r.fields.push({name:"instance "+a,type:"TABLE",value:s(e.instances[a],e.axes,t)});return r}function u(e,t,r){var n=new h.Parser(e,t),i=n.parseULong();c.argument(65536===i,"Unsupported fvar table version.");var s=n.parseOffset16();n.skip("uShort",1);for(var l=n.parseUShort(),u=n.parseUShort(),f=n.parseUShort(),p=n.parseUShort(),d=[],v=0;l>v;v++)d.push(a(e,t+s+v*u,r));for(var g=[],m=t+s+l*u,y=0;f>y;y++)g.push(o(e,m+y*p,d,r));return{axes:d,instances:g}}var c=e("../check"),h=e("../parse"),f=e("../table");r.make=l,r.parse=u},{"../check":3,"../parse":10,"../table":12}],16:[function(e,t,r){"use strict";function n(e,t,r,n,i){var a;return(t&n)>0?(a=e.parseByte(),0===(t&i)&&(a=-a),a=r+a):a=(t&i)>0?r:r+e.parseShort(),a}function i(e,t,r){var i=new f.Parser(t,r);e.numberOfContours=i.parseShort(),e.xMin=i.parseShort(),e.yMin=i.parseShort(),e.xMax=i.parseShort(),e.yMax=i.parseShort();var a,s;if(e.numberOfContours>0){var o,l=e.endPointIndices=[];for(o=0;o<e.numberOfContours;o+=1)l.push(i.parseUShort());for(e.instructionLength=i.parseUShort(),e.instructions=[],o=0;o<e.instructionLength;o+=1)e.instructions.push(i.parseByte());var u=l[l.length-1]+1;for(a=[],o=0;u>o;o+=1)if(s=i.parseByte(),a.push(s),(8&s)>0)for(var h=i.parseByte(),p=0;h>p;p+=1)a.push(s),o+=1;if(c.argument(a.length===u,"Bad flags."),l.length>0){var d,v=[];if(u>0){for(o=0;u>o;o+=1)s=a[o],d={},d.onCurve=!!(1&s),d.lastPointOfContour=l.indexOf(o)>=0,v.push(d);var g=0;for(o=0;u>o;o+=1)s=a[o],d=v[o],d.x=n(i,s,g,2,16),g=d.x;var m=0;for(o=0;u>o;o+=1)s=a[o],d=v[o],d.y=n(i,s,m,4,32),m=d.y}e.points=v}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var y=!0;y;){a=i.parseUShort();var b={glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&a)>0?(b.dx=i.parseShort(),b.dy=i.parseShort()):(b.dx=i.parseChar(),b.dy=i.parseChar()),(8&a)>0?b.xScale=b.yScale=i.parseF2Dot14():(64&a)>0?(b.xScale=i.parseF2Dot14(),b.yScale=i.parseF2Dot14()):(128&a)>0&&(b.xScale=i.parseF2Dot14(),b.scale01=i.parseF2Dot14(),b.scale10=i.parseF2Dot14(),b.yScale=i.parseF2Dot14()),e.components.push(b),y=!!(32&a)}}}function a(e,t){for(var r=[],n=0;n<e.length;n+=1){var i=e[n],a={x:t.xScale*i.x+t.scale01*i.y+t.dx,y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};r.push(a)}return r}function s(e){for(var t=[],r=[],n=0;n<e.length;n+=1){var i=e[n];r.push(i),i.lastPointOfContour&&(t.push(r),r=[])}return c.argument(0===r.length,"There are still points left in the current contour."),t}function o(e){var t=new p.Path;if(!e)return t;for(var r=s(e),n=0;n<r.length;n+=1){var i,a,o=r[n],l=o[0],u=o[o.length-1];l.onCurve?(i=null,a=!0):(l=u.onCurve?u:{x:(l.x+u.x)/2,y:(l.y+u.y)/2},i=l,a=!1),t.moveTo(l.x,l.y);for(var c=a?1:0;c<o.length;c+=1){var h=o[c],f=0===c?l:o[c-1];if(f.onCurve&&h.onCurve)t.lineTo(h.x,h.y);else if(f.onCurve&&!h.onCurve)i=h;else if(f.onCurve||h.onCurve){if(f.onCurve||!h.onCurve)throw new Error("Invalid state.");t.quadraticCurveTo(i.x,i.y,h.x,h.y),i=null}else{var d={x:(f.x+h.x)/2,y:(f.y+h.y)/2};t.quadraticCurveTo(f.x,f.y,d.x,d.y),i=h}}l!==u&&(i?t.quadraticCurveTo(i.x,i.y,l.x,l.y):t.lineTo(l.x,l.y))}return t.closePath(),t}function l(e,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var n=t.components[r],i=e.get(n.glyphIndex);if(i.getPath(),i.points){var s=a(i.points,n);t.points=t.points.concat(s)}}return o(t.points)}function u(e,t,r,n){var a,s=new h.GlyphSet(n);for(a=0;a<r.length-1;a+=1){var o=r[a],u=r[a+1];o!==u?s.push(a,h.ttfGlyphLoader(n,a,i,e,t+o,l)):s.push(a,h.glyphLoader(n,a))}return s}var c=e("../check"),h=e("../glyphset"),f=e("../parse"),p=e("../path");r.parse=u},{"../check":3,"../glyphset":8,"../parse":10,"../path":11}],17:[function(e,t,r){"use strict";function n(e,t){for(var r=new c.Parser(e,t),n=r.parseUShort(),i=[],a=0;n>a;a++)i[r.parseTag()]={offset:r.parseUShort()};return i}function i(e,t){var r=new c.Parser(e,t),n=r.parseUShort(),i=r.parseUShort();if(1===n)return r.parseUShortList(i);if(2===n){for(var a=[];i--;)for(var s=r.parseUShort(),o=r.parseUShort(),l=r.parseUShort(),u=s;o>=u;u++)a[l++]=u;return a}}function a(e,t){var r=new c.Parser(e,t),n=r.parseUShort();if(1===n){var i=r.parseUShort(),a=r.parseUShort(),s=r.parseUShortList(a);return function(e){return s[e-i]||0}}if(2===n){for(var o=r.parseUShort(),l=[],u=[],h=[],f=0;o>f;f++)l[f]=r.parseUShort(),u[f]=r.parseUShort(),h[f]=r.parseUShort();return function(e){for(var t=0,r=l.length-1;r>t;){var n=t+r+1>>1;e<l[n]?r=n-1:t=n}return l[t]<=e&&e<=u[t]?h[t]||0:0}}}function s(e,t){var r,n,s=new c.Parser(e,t),o=s.parseUShort(),l=s.parseUShort(),u=i(e,t+l),h=s.parseUShort(),f=s.parseUShort();if(4===h&&0===f){var p={};if(1===o){for(var d=s.parseUShort(),v=[],g=s.parseOffset16List(d),m=0;d>m;m++){var y=g[m],b=p[y];if(!b){b={},s.relativeOffset=y;for(var x=s.parseUShort();x--;){var w=s.parseUShort();h&&(r=s.parseShort()),f&&(n=s.parseShort()),b[w]=r}}v[u[m]]=b}return function(e,t){var r=v[e];return r?r[t]:void 0}}if(2===o){for(var S=s.parseUShort(),_=s.parseUShort(),T=s.parseUShort(),k=s.parseUShort(),C=a(e,t+S),A=a(e,t+_),O=[],M=0;T>M;M++)for(var L=O[M]=[],E=0;k>E;E++)h&&(r=s.parseShort()),f&&(n=s.parseShort()),L[E]=r;var P={};for(M=0;M<u.length;M++)P[u[M]]=1;return function(e,t){if(P[e]){var r=C(e),n=A(t),i=O[r];return i?i[n]:void 0}}}}}function o(e,t){var r=new c.Parser(e,t),n=r.parseUShort(),i=r.parseUShort(),a=16&i,o=r.parseUShort(),l=r.parseOffset16List(o),u={lookupType:n,lookupFlag:i,markFilteringSet:a?r.parseUShort():-1};if(2===n){for(var h=[],f=0;o>f;f++)h.push(s(e,t+l[f]));u.getKerningValue=function(e,t){for(var r=h.length;r--;){var n=h[r](e,t);if(void 0!==n)return n}return 0}}return u}function l(e,t,r){var i=new c.Parser(e,t),a=i.parseFixed();u.argument(1===a,"Unsupported GPOS table version."),n(e,t+i.parseUShort()),n(e,t+i.parseUShort());var s=i.parseUShort();i.relativeOffset=s;for(var l=i.parseUShort(),h=i.parseOffset16List(l),f=t+s,p=0;l>p;p++){var d=o(e,f+h[p]);2!==d.lookupType||r.getGposKerningValue||(r.getGposKerningValue=d.getKerningValue)}}var u=e("../check"),c=e("../parse");r.parse=l},{"../check":3,"../parse":10}],18:[function(e,t,r){"use strict";function n(e,t){var r={},n=new s.Parser(e,t);return r.version=n.parseVersion(),r.fontRevision=Math.round(1e3*n.parseFixed())/1e3,r.checkSumAdjustment=n.parseULong(),r.magicNumber=n.parseULong(),a.argument(1594834165===r.magicNumber,"Font header has wrong magic number."),r.flags=n.parseUShort(),r.unitsPerEm=n.parseUShort(),r.created=n.parseLongDateTime(),r.modified=n.parseLongDateTime(),r.xMin=n.parseShort(),r.yMin=n.parseShort(),r.xMax=n.parseShort(),r.yMax=n.parseShort(),r.macStyle=n.parseUShort(),r.lowestRecPPEM=n.parseUShort(),r.fontDirectionHint=n.parseShort(),r.indexToLocFormat=n.parseShort(),r.glyphDataFormat=n.parseShort(),r}function i(e){return new o.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:0},{name:"modified",type:"LONGDATETIME",value:0},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var a=e("../check"),s=e("../parse"),o=e("../table");r.parse=n,r.make=i},{"../check":3,"../parse":10,"../table":12}],19:[function(e,t,r){"use strict";function n(e,t){var r={},n=new a.Parser(e,t);return r.version=n.parseVersion(),r.ascender=n.parseShort(),r.descender=n.parseShort(),r.lineGap=n.parseShort(),r.advanceWidthMax=n.parseUShort(),r.minLeftSideBearing=n.parseShort(),r.minRightSideBearing=n.parseShort(),r.xMaxExtent=n.parseShort(),r.caretSlopeRise=n.parseShort(),r.caretSlopeRun=n.parseShort(),r.caretOffset=n.parseShort(),n.relativeOffset+=8,r.metricDataFormat=n.parseShort(),r.numberOfHMetrics=n.parseUShort(),r}function i(e){return new s.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}var a=e("../parse"),s=e("../table");r.parse=n,r.make=i},{"../parse":10,"../table":12}],20:[function(e,t,r){"use strict";function n(e,t,r,n,i){for(var s,o,l=new a.Parser(e,t),u=0;n>u;u+=1){r>u&&(s=l.parseUShort(),o=l.parseShort());var c=i.get(u);c.advanceWidth=s,c.leftSideBearing=o}}function i(e){for(var t=new s.Table("hmtx",[]),r=0;r<e.length;r+=1){var n=e.get(r),i=n.advanceWidth||0,a=n.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:i}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:a})}return t}var a=e("../parse"),s=e("../table");r.parse=n,r.make=i},{"../parse":10,"../table":12}],21:[function(e,t,r){"use strict";function n(e,t){var r={},n=new a.Parser(e,t),s=n.parseUShort();i.argument(0===s,"Unsupported kern table version."),n.skip("uShort",1);var o=n.parseUShort();i.argument(0===o,"Unsupported kern sub-table version."),n.skip("uShort",2);var l=n.parseUShort();n.skip("uShort",3);for(var u=0;l>u;u+=1){var c=n.parseUShort(),h=n.parseUShort(),f=n.parseShort();r[c+","+h]=f}return r}var i=e("../check"),a=e("../parse");r.parse=n},{"../check":3,"../parse":10}],22:[function(e,t,r){"use strict";function n(e,t,r,n){for(var a=new i.Parser(e,t),s=n?a.parseUShort:a.parseULong,o=[],l=0;r+1>l;l+=1){var u=s.call(a);n&&(u*=2),o.push(u)}return o}var i=e("../parse");r.parse=n},{"../parse":10}],23:[function(e,t,r){"use strict";function n(e){for(var t=new o.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),r="",n=12+4*e.length,i=0;i<e.length;++i){var a=r.indexOf(e[i]);0>a&&(a=r.length,r+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:n+a}),t.fields.push({name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t}function i(e,t){var r=new s.Parser(e,t),n=r.parseULong();a.argument(1===n,"Unsupported ltag table version."),r.skip("uLong",1);for(var i=r.parseULong(),o=[],l=0;i>l;l++){for(var u="",c=t+r.parseUShort(),h=r.parseUShort(),f=c;c+h>f;++f)u+=String.fromCharCode(e.getInt8(f));o.push(u)}return o}var a=e("../check"),s=e("../parse"),o=e("../table");r.make=n,r.parse=i},{"../check":3,"../parse":10,"../table":12}],24:[function(e,t,r){"use strict";function n(e,t){var r={},n=new a.Parser(e,t);return r.version=n.parseVersion(),r.numGlyphs=n.parseUShort(),1===r.version&&(r.maxPoints=n.parseUShort(),r.maxContours=n.parseUShort(),r.maxCompositePoints=n.parseUShort(),r.maxCompositeContours=n.parseUShort(),r.maxZones=n.parseUShort(),r.maxTwilightPoints=n.parseUShort(),r.maxStorage=n.parseUShort(),r.maxFunctionDefs=n.parseUShort(),r.maxInstructionDefs=n.parseUShort(),r.maxStackElements=n.parseUShort(),r.maxSizeOfInstructions=n.parseUShort(),r.maxComponentElements=n.parseUShort(),r.maxComponentDepth=n.parseUShort()),r}function i(e){return new s.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}var a=e("../parse"),s=e("../table");r.parse=n,r.make=i},{"../parse":10,"../table":12}],25:[function(e,t,r){"use strict";function n(e,t,r){switch(e){case 0:if(65535===t)return"und";if(r)return r[t];break;case 1:return m[t];case 3:return b[t]}return void 0}function i(e,t,r){switch(e){case 0:return x;case 1:return S[r]||w[t];case 3:if(1===t||10===t)return x}return void 0}function a(e,t,r){for(var a={},s=new d.Parser(e,t),o=s.parseUShort(),l=s.parseUShort(),u=s.offset+s.parseUShort(),c=0;l>c;c++){var h=s.parseUShort(),p=s.parseUShort(),v=s.parseUShort(),m=s.parseUShort(),y=g[m]||m,b=s.parseUShort(),w=s.parseUShort(),S=n(h,v,r),_=i(h,p,v);if(void 0!==_&&void 0!==S){var T;if(T=_===x?f.UTF16(e,u+w,b):f.MACSTRING(e,u+w,b,_)){var k=a[y];void 0===k&&(k=a[y]={}),k[S]=T}}}var C=0;return 1===o&&(C=s.parseUShort()),a}function s(e){var t={};for(var r in e)t[e[r]]=parseInt(r);return t}function o(e,t,r,n,i,a){return new v.Table("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:a}])}function l(e,t){var r=e.length,n=t.length-r+1;e:for(var i=0;n>i;i++)for(;n>i;i++){for(var a=0;r>a;a++)if(t[i+a]!==e[a])continue e;return i}return-1}function u(e,t){var r=l(e,t);if(0>r){r=t.length;for(var n=0,i=e.length;i>n;++n)t.push(e[n])}return r}function c(e,t){var r,n=[],a={},l=s(g);for(var c in e){var h=l[c];void 0===h&&(h=c),r=parseInt(h),a[r]=e[c],n.push(r)}for(var f=s(m),d=s(b),x=[],w=[],S=0;S<n.length;S++){r=n[S];var _=a[r];for(var T in _){var k=_[T],C=1,A=f[T],O=y[A],M=i(C,O,A),L=p.MACSTRING(k,M);
void 0===L&&(C=0,A=t.indexOf(T),0>A&&(A=t.length,t.push(T)),O=4,L=p.UTF16(k));var E=u(L,w);x.push(o(C,O,A,r,L.length,E));var P=d[T];if(void 0!==P){var R=p.UTF16(k),I=u(R,w);x.push(o(3,1,P,r,R.length,I))}}}x.sort(function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID});for(var U=new v.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:x.length},{name:"stringOffset",type:"USHORT",value:6+12*x.length}]),N=0;N<x.length;N++)U.fields.push({name:"record_"+N,type:"TABLE",value:x[N]});return U.fields.push({name:"strings",type:"LITERAL",value:w}),U}var h=e("../types"),f=h.decode,p=h.encode,d=e("../parse"),v=e("../table"),g=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","licence","licenceURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],m={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},y={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},b={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},x="utf-16",w={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},S={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};r.parse=a,r.make=c},{"../parse":10,"../table":12,"../types":29}],26:[function(e,t,r){"use strict";function n(e){for(var t=0;t<l.length;t+=1){var r=l[t];if(e>=r.begin&&e<r.end)return t}return-1}function i(e,t){var r={},n=new s.Parser(e,t);r.version=n.parseUShort(),r.xAvgCharWidth=n.parseShort(),r.usWeightClass=n.parseUShort(),r.usWidthClass=n.parseUShort(),r.fsType=n.parseUShort(),r.ySubscriptXSize=n.parseShort(),r.ySubscriptYSize=n.parseShort(),r.ySubscriptXOffset=n.parseShort(),r.ySubscriptYOffset=n.parseShort(),r.ySuperscriptXSize=n.parseShort(),r.ySuperscriptYSize=n.parseShort(),r.ySuperscriptXOffset=n.parseShort(),r.ySuperscriptYOffset=n.parseShort(),r.yStrikeoutSize=n.parseShort(),r.yStrikeoutPosition=n.parseShort(),r.sFamilyClass=n.parseShort(),r.panose=[];for(var i=0;10>i;i++)r.panose[i]=n.parseByte();return r.ulUnicodeRange1=n.parseULong(),r.ulUnicodeRange2=n.parseULong(),r.ulUnicodeRange3=n.parseULong(),r.ulUnicodeRange4=n.parseULong(),r.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),r.fsSelection=n.parseUShort(),r.usFirstCharIndex=n.parseUShort(),r.usLastCharIndex=n.parseUShort(),r.sTypoAscender=n.parseShort(),r.sTypoDescender=n.parseShort(),r.sTypoLineGap=n.parseShort(),r.usWinAscent=n.parseUShort(),r.usWinDescent=n.parseUShort(),r.version>=1&&(r.ulCodePageRange1=n.parseULong(),r.ulCodePageRange2=n.parseULong()),r.version>=2&&(r.sxHeight=n.parseShort(),r.sCapHeight=n.parseShort(),r.usDefaultChar=n.parseUShort(),r.usBreakChar=n.parseUShort(),r.usMaxContent=n.parseUShort()),r}function a(e){return new o.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var s=e("../parse"),o=e("../table"),l=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];r.unicodeRanges=l,r.getUnicodeRange=n,r.parse=i,r.make=a},{"../parse":10,"../table":12}],27:[function(e,t,r){"use strict";function n(e,t){var r,n={},i=new s.Parser(e,t);switch(n.version=i.parseVersion(),n.italicAngle=i.parseFixed(),n.underlinePosition=i.parseShort(),n.underlineThickness=i.parseShort(),n.isFixedPitch=i.parseULong(),n.minMemType42=i.parseULong(),n.maxMemType42=i.parseULong(),n.minMemType1=i.parseULong(),n.maxMemType1=i.parseULong(),n.version){case 1:n.names=a.standardNames.slice();break;case 2:for(n.numberOfGlyphs=i.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs),r=0;r<n.numberOfGlyphs;r++)n.glyphNameIndex[r]=i.parseUShort();for(n.names=[],r=0;r<n.numberOfGlyphs;r++)if(n.glyphNameIndex[r]>=a.standardNames.length){var o=i.parseChar();n.names.push(i.parseString(o))}break;case 2.5:for(n.numberOfGlyphs=i.parseUShort(),n.offset=new Array(n.numberOfGlyphs),r=0;r<n.numberOfGlyphs;r++)n.offset[r]=i.parseChar()}return n}function i(){return new o.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var a=e("../encoding"),s=e("../parse"),o=e("../table");r.parse=n,r.make=i},{"../encoding":5,"../parse":10,"../table":12}],28:[function(e,t,r){"use strict";function n(e){return Math.log(e)/Math.log(2)|0}function i(e){for(;e.length%4!==0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%=Math.pow(2,32)}function a(e,t,r,n){return new h.Table("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==r?r:0},{name:"length",type:"ULONG",value:void 0!==n?n:0}])}function s(e){var t=new h.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var r=Math.pow(2,n(t.numTables));t.searchRange=16*r,t.entrySelector=n(r),t.rangeShift=16*t.numTables-t.searchRange;for(var s=[],o=[],l=t.sizeOf()+a().sizeOf()*t.numTables;l%4!==0;)l+=1,o.push({name:"padding",type:"BYTE",value:0});for(var u=0;u<e.length;u+=1){var f=e[u];c.argument(4===f.tableName.length,"Table name"+f.tableName+" is invalid.");var p=f.sizeOf(),d=a(f.tableName,i(f.encode()),l,p);for(s.push({name:d.tag+" Table Record",type:"TABLE",value:d}),o.push({name:f.tableName+" table",type:"TABLE",value:f}),l+=p,c.argument(!isNaN(l),"Something went wrong calculating the offset.");l%4!==0;)l+=1,o.push({name:"padding",type:"BYTE",value:0})}return s.sort(function(e,t){return e.value.tag>t.value.tag?1:-1}),t.fields=t.fields.concat(s),t.fields=t.fields.concat(o),t}function o(e,t,r){for(var n=0;n<t.length;n+=1){var i=e.charToGlyphIndex(t[n]);if(i>0){var a=e.glyphs.get(i);return a.getMetrics()}}return r}function l(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}function u(e){for(var t,r=[],n=[],a=[],u=[],c=[],h=[],S=[],_=0,T=0,k=0,C=0,A=0,O=0;O<e.glyphs.length;O+=1){var M=e.glyphs.get(O),L=0|M.unicode;(t>L||null===t)&&(t=L),L>_&&(_=L);var E=x.getUnicodeRange(L);if(32>E)T|=1<<E;else if(64>E)k|=1<<E-32;else if(96>E)C|=1<<E-64;else{if(!(123>E))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");A|=1<<E-96}if(".notdef"!==M.name){var P=M.getMetrics();r.push(P.xMin),n.push(P.yMin),a.push(P.xMax),u.push(P.yMax),h.push(P.leftSideBearing),S.push(P.rightSideBearing),c.push(M.advanceWidth)}}var R={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,a),yMax:Math.max.apply(null,u),advanceWidthMax:Math.max.apply(null,c),advanceWidthAvg:l(c),minLeftSideBearing:Math.min.apply(null,h),maxLeftSideBearing:Math.max.apply(null,h),minRightSideBearing:Math.min.apply(null,S)};R.ascender=void 0!==e.ascender?e.ascender:R.yMax,R.descender=void 0!==e.descender?e.descender:R.yMin;var I=d.make({unitsPerEm:e.unitsPerEm,xMin:R.xMin,yMin:R.yMin,xMax:R.xMax,yMax:R.yMax}),U=v.make({ascender:R.ascender,descender:R.descender,advanceWidthMax:R.advanceWidthMax,minLeftSideBearing:R.minLeftSideBearing,minRightSideBearing:R.minRightSideBearing,xMaxExtent:R.maxLeftSideBearing+(R.xMax-R.xMin),numberOfHMetrics:e.glyphs.length}),N=y.make(e.glyphs.length),D=x.make({xAvgCharWidth:Math.round(R.advanceWidthAvg),usWeightClass:500,usWidthClass:5,usFirstCharIndex:t,usLastCharIndex:_,ulUnicodeRange1:T,ulUnicodeRange2:k,ulUnicodeRange3:C,ulUnicodeRange4:A,sTypoAscender:R.ascender,sTypoDescender:R.descender,sTypoLineGap:0,usWinAscent:R.ascender,usWinDescent:-R.descender,sxHeight:o(e,"xyvw",{yMax:0}).yMax,sCapHeight:o(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",R).yMax,usBreakChar:e.hasChar(" ")?32:0}),B=g.make(e.glyphs),j=f.make(e.glyphs),H=e.getEnglishName("fontFamily"),F=e.getEnglishName("fontSubfamily"),W=H+" "+F,z=e.getEnglishName("postScriptName");z||(z=H.replace(/\s/g,"")+"-"+F);var G={};for(var V in e.names)G[V]=e.names[V];G.uniqueID||(G.uniqueID={en:e.getEnglishName("manufacturer")+":"+W}),G.postScriptName||(G.postScriptName={en:z}),G.preferredFamily||(G.preferredFamily=e.names.fontFamily),G.preferredSubfamily||(G.preferredSubfamily=e.names.fontSubfamily);var q=[],Y=b.make(G,q),X=q.length>0?m.make(q):void 0,K=w.make(),$=p.make(e.glyphs,{version:e.getEnglishName("version"),fullName:W,familyName:H,weightName:F,postScriptName:z,unitsPerEm:e.unitsPerEm}),Q=[I,U,N,D,Y,j,K,$,B];X&&Q.push(X);var Z=s(Q),J=Z.encode(),ee=i(J),te=Z.fields,re=!1;for(O=0;O<te.length;O+=1)if("head table"===te[O].name){te[O].value.checkSumAdjustment=2981146554-ee,re=!0;break}if(!re)throw new Error("Could not find head table with checkSum to adjust.");return Z}var c=e("../check"),h=e("../table"),f=e("./cmap"),p=e("./cff"),d=e("./head"),v=e("./hhea"),g=e("./hmtx"),m=e("./ltag"),y=e("./maxp"),b=e("./name"),x=e("./os2"),w=e("./post");r.computeCheckSum=i,r.make=s,r.fontToTable=u},{"../check":3,"../table":12,"./cff":13,"./cmap":14,"./head":18,"./hhea":19,"./hmtx":20,"./ltag":23,"./maxp":24,"./name":25,"./os2":26,"./post":27}],29:[function(e,t,r){"use strict";function n(e){return function(){return e}}var i=e("./check"),a=32768,s=2147483648,o={},l={},u={};l.BYTE=function(e){return i.argument(e>=0&&255>=e,"Byte value should be between 0 and 255."),[e]},u.BYTE=n(1),l.CHAR=function(e){return[e.charCodeAt(0)]},u.CHAR=n(1),l.CHARARRAY=function(e){for(var t=[],r=0;r<e.length;r+=1)t.push(e.charCodeAt(r));return t},u.CHARARRAY=function(e){return e.length},l.USHORT=function(e){return[e>>8&255,255&e]},u.USHORT=n(2),l.SHORT=function(e){return e>=a&&(e=-(2*a-e)),[e>>8&255,255&e]},u.SHORT=n(2),l.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},u.UINT24=n(3),l.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},u.ULONG=n(4),l.LONG=function(e){return e>=s&&(e=-(2*s-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},u.LONG=n(4),l.FIXED=l.ULONG,u.FIXED=u.ULONG,l.FWORD=l.SHORT,u.FWORD=u.SHORT,l.UFWORD=l.USHORT,u.UFWORD=u.USHORT,l.LONGDATETIME=function(){return[0,0,0,0,0,0,0,0]},u.LONGDATETIME=n(8),l.TAG=function(e){return i.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},u.TAG=n(4),l.Card8=l.BYTE,u.Card8=u.BYTE,l.Card16=l.USHORT,u.Card16=u.USHORT,l.OffSize=l.BYTE,u.OffSize=u.BYTE,l.SID=l.USHORT,u.SID=u.USHORT,l.NUMBER=function(e){return e>=-107&&107>=e?[e+139]:e>=108&&1131>=e?(e-=108,[(e>>8)+247,255&e]):e>=-1131&&-108>=e?(e=-e-108,[(e>>8)+251,255&e]):e>=-32768&&32767>=e?l.NUMBER16(e):l.NUMBER32(e)},u.NUMBER=function(e){return l.NUMBER(e).length},l.NUMBER16=function(e){return[28,e>>8&255,255&e]},u.NUMBER16=n(3),l.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},u.NUMBER32=n(5),l.REAL=function(e){var t=e.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(r){var n=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));t=(Math.round(e*n)/n).toString()}var i,a,s="";for(i=0,a=t.length;a>i;i+=1){var o=t[i];s+="e"===o?"-"===t[++i]?"c":"b":"."===o?"a":"-"===o?"e":o}s+=1&s.length?"f":"ff";var l=[30];for(i=0,a=s.length;a>i;i+=2)l.push(parseInt(s.substr(i,2),16));return l},u.REAL=function(e){return l.REAL(e).length},l.NAME=l.CHARARRAY,u.NAME=u.CHARARRAY,l.STRING=l.CHARARRAY,u.STRING=u.CHARARRAY,o.UTF16=function(e,t,r){for(var n=[],i=r/2,a=0;i>a;a++,t+=2)n[a]=e.getUint16(t);return String.fromCharCode.apply(null,n)},l.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e.charCodeAt(r);t.push(n>>8&255),t.push(255&n)}return t},u.UTF16=function(e){return 2*e.length};var c={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"};o.MACSTRING=function(e,t,r,n){var i=c[n];if(void 0===i)return void 0;for(var a="",s=0;r>s;s++){var o=e.getUint8(t+s);a+=127>=o?String.fromCharCode(o):i[127&o]}return a};var h,f="function"==typeof WeakMap&&new WeakMap,p=function(e){if(!h){h={};for(var t in c)h[t]=new String(t)}var r=h[e];if(void 0===r)return void 0;if(f){var n=f.get(r);if(void 0!==n)return n}var i=c[e];if(void 0===i)return void 0;for(var a={},s=0;s<i.length;s++)a[i.charCodeAt(s)]=s+128;return f&&f.set(r,a),a};l.MACSTRING=function(e,t){var r=p(t);if(void 0===r)return void 0;for(var n=[],i=0;i<e.length;i++){var a=e.charCodeAt(i);if(a>=128&&(a=r[a],void 0===a))return void 0;n.push(a)}return n},u.MACSTRING=function(e,t){var r=l.MACSTRING(e,t);return void 0!==r?r.length:0},l.INDEX=function(e){var t,r=1,n=[r],i=[],a=0;for(t=0;t<e.length;t+=1){var s=l.OBJECT(e[t]);Array.prototype.push.apply(i,s),a+=s.length,r+=s.length,n.push(r)}if(0===i.length)return[0,0];var o=[],u=1+Math.floor(Math.log(a)/Math.log(2))/8|0,c=[void 0,l.BYTE,l.USHORT,l.UINT24,l.ULONG][u];for(t=0;t<n.length;t+=1){var h=c(n[t]);Array.prototype.push.apply(o,h)}return Array.prototype.concat(l.Card16(e.length),l.OffSize(u),o,i)},u.INDEX=function(e){return l.INDEX(e).length},l.DICT=function(e){for(var t=[],r=Object.keys(e),n=r.length,i=0;n>i;i+=1){var a=parseInt(r[i],0),s=e[a];t=t.concat(l.OPERAND(s.value,s.type)),t=t.concat(l.OPERATOR(a))}return t},u.DICT=function(e){return l.DICT(e).length},l.OPERATOR=function(e){return 1200>e?[e]:[12,e-1200]},l.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var n=0;n<t.length;n+=1)i.argument(e.length===t.length,"Not enough arguments given for type"+t),r=r.concat(l.OPERAND(e[n],t[n]));else if("SID"===t)r=r.concat(l.NUMBER(e));else if("offset"===t)r=r.concat(l.NUMBER32(e));else if("number"===t)r=r.concat(l.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);r=r.concat(l.REAL(e))}return r},l.OP=l.BYTE,u.OP=u.BYTE;var d="function"==typeof WeakMap&&new WeakMap;l.CHARSTRING=function(e){if(d){var t=d.get(e);if(void 0!==t)return t}for(var r=[],n=e.length,i=0;n>i;i+=1){var a=e[i];r=r.concat(l[a.type](a.value))}return d&&d.set(e,r),r},u.CHARSTRING=function(e){return l.CHARSTRING(e).length},l.OBJECT=function(e){var t=l[e.type];return i.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},u.OBJECT=function(e){var t=u[e.type];return i.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},l.TABLE=function(e){for(var t=[],r=e.fields.length,n=0;r>n;n+=1){var a=e.fields[n],s=l[a.type];i.argument(void 0!==s,"No encoding function for field type "+a.type);var o=e[a.name];void 0===o&&(o=a.value);var u=s(o);t=t.concat(u)}return t},u.TABLE=function(e){for(var t=0,r=e.fields.length,n=0;r>n;n+=1){var a=e.fields[n],s=u[a.type];i.argument(void 0!==s,"No sizeOf function for field type "+a.type);var o=e[a.name];void 0===o&&(o=a.value),t+=s(o)}return t},l.LITERAL=function(e){return e},u.LITERAL=function(e){return e.length},r.decode=o,r.encode=l,r.sizeOf=u},{"./check":3}],30:[function(e,t,r){(function(n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e("opentype.js"),l=i(o),u="undefined"!=typeof window?window.Rune:"undefined"!=typeof n?n.Rune:null,c=i(u),h=function(){function e(t){a(this,e),this.url=t}return s(e,[{key:"load",value:function(e){var t=this;l["default"].load(this.url,function(r,n){t.font=n,e(r)})}},{key:"toPath",value:function(e,t,r,n,i){if(!this.font)throw Error("You must use load() before generating font paths");for(var a=this.font.getPath(e,0,0,n,i),s=new c["default"].Path(t,r),o=0;o<a.commands.length;o++){var l=a.commands[o];"M"==l.type?s.moveTo(l.x,l.y):"L"==l.type?s.lineTo(l.x,l.y):"Q"==l.type&&"undefined"==typeof l.x2?s.curveTo(l.x1,l.y1,l.x,l.y):"Q"==l.type?s.curveTo(l.x1,l.y1,l.x2,l.y2,l.x,l.y):"Z"==l.type&&s.closePath()}return s}}]),e}();r["default"]=h,t.exports=r["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"opentype.js":9}]},{},[30])(30)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.Rune||(t.Rune={})).Noise=e()}}(function(){return function e(t,r,n){function i(s,o){if(!r[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);
if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});for(var a=(function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()),s="undefined"!=typeof window?window.Rune:"undefined"!=typeof e?e.Rune:null,o=(n(s),4),l=1<<o,u=8,c=1<<u,h=4095,f=.5,p=Math.floor(360/f),d=new Array(p),v=new Array(p),g=Math.PI/180,m=0;p>m;m++)d[m]=Math.sin(m*g*f),v[m]=Math.cos(m*g*f);var y=p;y>>=1;var b=function(){function e(t){i(this,e),this.perlin_octaves=4,this.perlin_amp_falloff=.5,this.perlin=null}return a(e,[{key:"noiseDetail",value:function(e,t){return e>0&&(this.perlin_octaves=e),t>0&&(this.perlin_amp_falloff=t),this}},{key:"noiseSeed",value:function(e){var t=function(){var e,t,r=4294967296,n=1664525,i=1013904223;return{setSeed:function(n){t=e=(null==n?Math.random()*r:n)>>>0},getSeed:function(){return e},rand:function(){return t=(n*t+i)%r,t/r}}}();t.setSeed(e),this.perlin=new Array(h+1);for(var r=0;h+1>r;r++)this.perlin[r]=t.rand()}},{key:"get",value:function(e,t,r){if(t=t||0,r=r||0,null==this.perlin){this.perlin=new Array(h+1);for(var n=0;h+1>n;n++)this.perlin[n]=Math.random()}0>e&&(e=-e),0>t&&(t=-t),0>r&&(r=-r);for(var i,a,s,f,d,g=Math.floor(e),m=Math.floor(t),b=Math.floor(r),x=e-g,w=t-m,S=r-b,_=0,T=.5,k=function(e){return.5*(1-v[Math.floor(e*y)%p])},C=0;C<this.perlin_octaves;C++){var A=g+(m<<o)+(b<<u);i=k(x),a=k(w),s=this.perlin[A&h],s+=i*(this.perlin[A+1&h]-s),f=this.perlin[A+l&h],f+=i*(this.perlin[A+l+1&h]-f),s+=a*(f-s),A+=c,f=this.perlin[A&h],f+=i*(this.perlin[A+1&h]-f),d=this.perlin[A+l&h],d+=i*(this.perlin[A+l+1&h]-d),f+=a*(d-f),s+=k(S)*(f-s),_+=s*T,T*=this.perlin_amp_falloff,g<<=1,x*=2,m<<=1,w*=2,b<<=1,S*=2,x>=1&&(g++,x--),w>=1&&(m++,w--),S>=1&&(b++,S--)}return _}}]),e}();r["default"]=b,t.exports=r["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.Rune||(t.Rune={})).Pixels=e()}}(function(){return function e(t,r,n){function i(s,o){if(!r[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){},{}],2:[function(e,t,r){(function(t){function n(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e){return this instanceof a?(this.length=0,this.parent=void 0,"number"==typeof e?s(this,e):"string"==typeof e?o(this,e,arguments.length>1?arguments[1]:"utf8"):l(this,e)):arguments.length>1?new a(e,arguments[1]):new a(e)}function s(e,t){if(e=v(e,0>t?0:0|g(t)),!a.TYPED_ARRAY_SUPPORT)for(var r=0;t>r;r++)e[r]=0;return e}function o(e,t,r){("string"!=typeof r||""===r)&&(r="utf8");var n=0|y(t,r);return e=v(e,n),e.write(t,r),e}function l(e,t){if(a.isBuffer(t))return u(e,t);if($(t))return c(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return h(e,t);if(t instanceof ArrayBuffer)return f(e,t)}return t.length?p(e,t):d(e,t)}function u(e,t){var r=0|g(t.length);return e=v(e,r),t.copy(e,0,0,r),e}function c(e,t){var r=0|g(t.length);e=v(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function h(e,t){var r=0|g(t.length);e=v(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function f(e,t){return a.TYPED_ARRAY_SUPPORT?(t.byteLength,e=a._augment(new Uint8Array(t))):e=h(e,new Uint8Array(t)),e}function p(e,t){var r=0|g(t.length);e=v(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function d(e,t){var r,n=0;"Buffer"===t.type&&$(t.data)&&(r=t.data,n=0|g(r.length)),e=v(e,n);for(var i=0;n>i;i+=1)e[i]=255&r[i];return e}function v(e,t){a.TYPED_ARRAY_SUPPORT?(e=a._augment(new Uint8Array(t)),e.__proto__=a.prototype):(e.length=t,e._isBuffer=!0);var r=0!==t&&t<=a.poolSize>>>1;return r&&(e.parent=Q),e}function g(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function m(e,t){if(!(this instanceof m))return new m(e,t);var r=new a(e,t);return delete r.parent,r}function y(e,t){"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return z(e).length;t=(""+t).toLowerCase(),n=!0}}function b(e,t,r){var n=!1;if(t=0|t,r=void 0===r||r===1/0?this.length:0|r,e||(e="utf8"),0>t&&(t=0),r>this.length&&(r=this.length),t>=r)return"";for(;;)switch(e){case"hex":return E(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return M(this,t,r);case"binary":return L(this,t,r);case"base64":return C(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function x(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=t.length;if(a%2!==0)throw new Error("Invalid hex string");n>a/2&&(n=a/2);for(var s=0;n>s;s++){var o=parseInt(t.substr(2*s,2),16);if(isNaN(o))throw new Error("Invalid hex string");e[r+s]=o}return s}function w(e,t,r,n){return Y(z(t,e.length-r),e,r,n)}function S(e,t,r,n){return Y(G(t),e,r,n)}function _(e,t,r,n){return S(e,t,r,n)}function T(e,t,r,n){return Y(q(t),e,r,n)}function k(e,t,r,n){return Y(V(t,e.length-r),e,r,n)}function C(e,t,r){return 0===t&&r===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;r>i;){var a=e[i],s=null,o=a>239?4:a>223?3:a>191?2:1;if(r>=i+o){var l,u,c,h;switch(o){case 1:128>a&&(s=a);break;case 2:l=e[i+1],128===(192&l)&&(h=(31&a)<<6|63&l,h>127&&(s=h));break;case 3:l=e[i+1],u=e[i+2],128===(192&l)&&128===(192&u)&&(h=(15&a)<<12|(63&l)<<6|63&u,h>2047&&(55296>h||h>57343)&&(s=h));break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(h=(15&a)<<18|(63&l)<<12|(63&u)<<6|63&c,h>65535&&1114112>h&&(s=h))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return O(n)}function O(e){var t=e.length;if(Z>=t)return String.fromCharCode.apply(String,e);for(var r="",n=0;t>n;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Z));return r}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(127&e[i]);return n}function L(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(e[i]);return n}function E(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var i="",a=t;r>a;a++)i+=W(e[a]);return i}function P(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function R(e,t,r){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,i,s){if(!a.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>i||s>t)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range")}function U(e,t,r,n){0>t&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);a>i;i++)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(e,t,r,n){0>t&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);a>i;i++)e[r+i]=t>>>8*(n?i:3-i)&255}function D(e,t,r,n,i,a){if(t>i||a>t)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function B(e,t,r,n,i){return i||D(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,i){return i||D(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,r,n,52,8),r+8}function H(e){if(e=F(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function F(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return 16>e?"0"+e.toString(16):e.toString(16)}function z(e,t){t=t||1/0;for(var r,n=e.length,i=null,a=[],s=0;n>s;s++){if(r=e.charCodeAt(s),r>55295&&57344>r){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(56320>r){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,128>r){if((t-=1)<0)break;a.push(r)}else if(2048>r){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(65536>r){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function G(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t}function V(e,t){for(var r,n,i,a=[],s=0;s<e.length&&!((t-=2)<0);s++)r=e.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function q(e){return X.toByteArray(H(e))}function Y(e,t,r,n){for(var i=0;n>i&&!(i+r>=t.length||i>=e.length);i++)t[i+r]=e[i];return i}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var X=e("base64-js"),K=e("ieee754"),$=e("is-array");r.Buffer=a,r.SlowBuffer=m,r.INSPECT_MAX_BYTES=50,a.poolSize=8192;var Q={};a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array),a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);s>i&&e[i]===t[i];)++i;return i!==s&&(r=e[i],n=t[i]),n>r?-1:r>n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!$(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new a(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;r++)t+=e[r].length;var n=new a(t),i=0;for(r=0;r<e.length;r++){var s=e[r];s.copy(n,i),i+=s.length}return n},a.byteLength=y,a.prototype.length=void 0,a.prototype.parent=void 0,a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):b.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:a.compare(this,e)},a.prototype.indexOf=function(e,t){function r(e,t,r){for(var n=-1,i=0;r+i<e.length;i++)if(e[r+i]===t[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===t.length)return r+n}else n=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(a.isBuffer(e))return r(this,e,t);if("number"==typeof e)return a.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):r(this,[e],t);throw new TypeError("val must be string, number or Buffer")},a.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},a.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var i=n;n=t,t=0|r,r=i}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(0>r||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return x(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return S(this,e,t,r);case"binary":return _(this,e,t,r);case"base64":return T(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),e>t&&(t=e);var n;if(a.TYPED_ARRAY_SUPPORT)n=a._augment(this.subarray(e,t));else{var i=t-e;n=new a(i,void 0);for(var s=0;i>s;s++)n[s]=this[s+e]}return n.length&&(n.parent=this.parent||this),n},a.prototype.readUIntLE=function(e,t,r){e=0|e,t=0|t,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},a.prototype.readUIntBE=function(e,t,r){e=0|e,t=0|t,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e=0|e,t=0|t,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e=0|e,t=0|t,r||R(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),K.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),K.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),K.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),K.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){e=+e,t=0|t,r=0|r,n||I(this,e,t,r,Math.pow(2,8*r),0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){e=+e,t=0|t,r=0|r,n||I(this,e,t,r,Math.pow(2,8*r),0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t=0|t,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var a=0,s=1,o=0>e?1:0;for(this[t]=255&e;++a<r&&(s*=256);)this[t+a]=(e/s>>0)-o&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t=0|t,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var a=r-1,s=1,o=0>e?1:0;for(this[t+a]=255&e;--a>=0&&(s*=256);)this[t+a]=(e/s>>0)-o&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&r>n&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,s=n-r;if(this===e&&t>r&&n>t)for(i=s-1;i>=0;i--)e[i+t]=this[i+r];else if(1e3>s||!a.TYPED_ARRAY_SUPPORT)for(i=0;s>i;i++)e[i+t]=this[i+r];else e._set(this.subarray(r,r+s),t);return s},a.prototype.fill=function(e,t,r){if(e||(e=0),t||(t=0),r||(r=this.length),t>r)throw new RangeError("end < start");if(r!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>r||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof e)for(n=t;r>n;n++)this[n]=e;else{var i=z(e.toString()),a=i.length;for(n=t;r>n;n++)this[n]=i[n%a]}return this}},a.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(a.TYPED_ARRAY_SUPPORT)return new a(this).buffer;for(var e=new Uint8Array(this.length),t=0,r=e.length;r>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var J=a.prototype;a._augment=function(e){return e.constructor=a,e._isBuffer=!0,e._set=e.set,e.get=J.get,e.set=J.set,e.write=J.write,e.toString=J.toString,e.toLocaleString=J.toString,e.toJSON=J.toJSON,e.equals=J.equals,e.compare=J.compare,e.indexOf=J.indexOf,e.copy=J.copy,e.slice=J.slice,e.readUIntLE=J.readUIntLE,e.readUIntBE=J.readUIntBE,e.readUInt8=J.readUInt8,e.readUInt16LE=J.readUInt16LE,e.readUInt16BE=J.readUInt16BE,e.readUInt32LE=J.readUInt32LE,e.readUInt32BE=J.readUInt32BE,e.readIntLE=J.readIntLE,e.readIntBE=J.readIntBE,e.readInt8=J.readInt8,e.readInt16LE=J.readInt16LE,e.readInt16BE=J.readInt16BE,e.readInt32LE=J.readInt32LE,e.readInt32BE=J.readInt32BE,e.readFloatLE=J.readFloatLE,e.readFloatBE=J.readFloatBE,e.readDoubleLE=J.readDoubleLE,e.readDoubleBE=J.readDoubleBE,e.writeUInt8=J.writeUInt8,e.writeUIntLE=J.writeUIntLE,e.writeUIntBE=J.writeUIntBE,e.writeUInt16LE=J.writeUInt16LE,e.writeUInt16BE=J.writeUInt16BE,e.writeUInt32LE=J.writeUInt32LE,e.writeUInt32BE=J.writeUInt32BE,e.writeIntLE=J.writeIntLE,e.writeIntBE=J.writeIntBE,e.writeInt8=J.writeInt8,e.writeInt16LE=J.writeInt16LE,e.writeInt16BE=J.writeInt16BE,e.writeInt32LE=J.writeInt32LE,e.writeInt32BE=J.writeInt32BE,e.writeFloatLE=J.writeFloatLE,e.writeFloatBE=J.writeFloatBE,e.writeDoubleLE=J.writeDoubleLE,e.writeDoubleBE=J.writeDoubleBE,e.fill=J.fill,e.inspect=J.inspect,e.toArrayBuffer=J.toArrayBuffer,e};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":3,ieee754:4,"is-array":5}],3:[function(e,t,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===s||t===h?62:t===o||t===f?63:l>t?-1:l+10>t?t-l+26+26:c+26>t?t-c:u+26>t?t-u+26:void 0}function r(e){function r(e){u[h++]=e}var n,i,s,o,l,u;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.length;l="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0,u=new a(3*e.length/4-l),s=l>0?e.length-4:e.length;var h=0;for(n=0,i=0;s>n;n+=4,i+=3)o=t(e.charAt(n))<<18|t(e.charAt(n+1))<<12|t(e.charAt(n+2))<<6|t(e.charAt(n+3)),r((16711680&o)>>16),r((65280&o)>>8),r(255&o);return 2===l?(o=t(e.charAt(n))<<2|t(e.charAt(n+1))>>4,r(255&o)):1===l&&(o=t(e.charAt(n))<<10|t(e.charAt(n+1))<<4|t(e.charAt(n+2))>>2,r(o>>8&255),r(255&o)),u}function i(e){function t(e){return n.charAt(e)}function r(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,a,s,o=e.length%3,l="";for(i=0,s=e.length-o;s>i;i+=3)a=(e[i]<<16)+(e[i+1]<<8)+e[i+2],l+=r(a);switch(o){case 1:a=e[e.length-1],l+=t(a>>2),l+=t(a<<4&63),l+="==";break;case 2:a=(e[e.length-2]<<8)+e[e.length-1],l+=t(a>>10),l+=t(a>>4&63),l+=t(a<<2&63),l+="="}return l}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),o="/".charCodeAt(0),l="0".charCodeAt(0),u="a".charCodeAt(0),c="A".charCodeAt(0),h="-".charCodeAt(0),f="_".charCodeAt(0);e.toByteArray=r,e.fromByteArray=i}("undefined"==typeof r?this.base64js={}:r)},{}],4:[function(e,t,r){r.read=function(e,t,r,n,i){var a,s,o=8*i-n-1,l=(1<<o)-1,u=l>>1,c=-7,h=r?i-1:0,f=r?-1:1,p=e[t+h];for(h+=f,a=p&(1<<-c)-1,p>>=-c,c+=o;c>0;a=256*a+e[t+h],h+=f,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=n;c>0;s=256*s+e[t+h],h+=f,c-=8);if(0===a)a=1-u;else{if(a===l)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,n),a-=u}return(p?-1:1)*s*Math.pow(2,a-n)},r.write=function(e,t,r,n,i,a){var s,o,l,u=8*a-i-1,c=(1<<u)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,v=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+h>=1?f/l:f*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=c?(o=0,s=c):s+h>=1?(o=(t*l-1)*Math.pow(2,i),s+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&o,p+=d,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;e[r+p]=255&s,p+=d,s/=256,u-=8);e[r+p-d]|=128*v}},{}],5:[function(e,t,r){var n=Array.isArray,i=Object.prototype.toString;t.exports=n||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],6:[function(e,t,r){var n=e("./lib/encoder"),i=e("./lib/decoder");t.exports={encode:n,decode:i}},{"./lib/decoder":7,"./lib/encoder":8}],7:[function(e,t,r){(function(e){function r(t){var r=new Uint8Array(t),i=new n;i.parse(r);var a={width:i.width,height:i.height,data:new e(i.width*i.height*4)};return i.copyToImageData(a),a}/*
   Copyright 2011 notmasteryet

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
*/
var n=function(){"use strict";function e(){}function t(e,t){for(var r,n,i=0,a=[],s=16;s>0&&!e[s-1];)s--;a.push({children:[],index:0});var o,l=a[0];for(r=0;s>r;r++){for(n=0;n<e[r];n++){for(l=a.pop(),l.children[l.index]=t[i];l.index>0;)l=a.pop();for(l.index++,a.push(l);a.length<=r;)a.push(o={children:[],index:0}),l.children[l.index]=o.children,l=o;i++}s>r+1&&(a.push(o={children:[],index:0}),l.children[l.index]=o.children,l=o)}return a[0].children}function r(e,t,r,n,i,s,o,l,u){function c(){if(P>0)return P--,E>>P&1;if(E=e[t++],255==E){var r=e[t++];if(r)throw"unexpected marker: "+(E<<8|r).toString(16)}return P=7,E>>>7}function h(e){for(var t,r=e;null!==(t=c());){if(r=r[t],"number"==typeof r)return r;if("object"!=typeof r)throw"invalid huffman sequence"}return null}function f(e){for(var t=0;e>0;){var r=c();if(null===r)return;t=t<<1|r,e--}return t}function p(e){var t=f(e);return t>=1<<e-1?t:t+(-1<<e)+1}function d(e,t){var r=h(e.huffmanTableDC),n=0===r?0:p(r);t[0]=e.pred+=n;for(var i=1;64>i;){var s=h(e.huffmanTableAC),o=15&s,l=s>>4;if(0!==o){i+=l;var u=a[i];t[u]=p(o),i++}else{if(15>l)break;i+=16}}}function v(e,t){var r=h(e.huffmanTableDC),n=0===r?0:p(r)<<u;t[0]=e.pred+=n}function g(e,t){t[0]|=c()<<u}function m(e,t){if(R>0)return void R--;for(var r=s,n=o;n>=r;){var i=h(e.huffmanTableAC),l=15&i,c=i>>4;if(0!==l){r+=c;var d=a[r];t[d]=p(l)*(1<<u),r++}else{if(15>c){R=f(c)+(1<<c)-1;break}r+=16}}}function y(e,t){for(var r=s,n=o,i=0;n>=r;){var l=a[r];switch(I){case 0:var d=h(e.huffmanTableAC),v=15&d,i=d>>4;if(0===v)15>i?(R=f(i)+(1<<i),I=4):(i=16,I=1);else{if(1!==v)throw"invalid ACn encoding";w=p(v),I=i?2:3}continue;case 1:case 2:t[l]?t[l]+=c()<<u:(i--,0===i&&(I=2==I?3:0));break;case 3:t[l]?t[l]+=c()<<u:(t[l]=w<<u,I=0);break;case 4:t[l]&&(t[l]+=c()<<u)}r++}4===I&&(R--,0===R&&(I=0))}function b(e,t,r,n,i){var a=r/O|0,s=r%O,o=a*e.v+n,l=s*e.h+i;t(e,e.blocks[o][l])}function x(e,t,r){var n=r/e.blocksPerLine|0,i=r%e.blocksPerLine;t(e,e.blocks[n][i])}var w,S,_,T,k,C,A,O=(r.precision,r.samplesPerLine,r.scanLines,r.mcusPerLine),M=r.progressive,L=(r.maxH,r.maxV,t),E=0,P=0,R=0,I=0,U=n.length;A=M?0===s?0===l?v:g:0===l?m:y:d;var N,D,B=0;D=1==U?n[0].blocksPerLine*n[0].blocksPerColumn:O*r.mcusPerColumn,i||(i=D);for(var j,H;D>B;){for(_=0;U>_;_++)n[_].pred=0;if(R=0,1==U)for(S=n[0],C=0;i>C;C++)x(S,A,B),B++;else for(C=0;i>C;C++){for(_=0;U>_;_++)for(S=n[_],j=S.h,H=S.v,T=0;H>T;T++)for(k=0;j>k;k++)b(S,A,B,T,k);if(B++,B===D)break}if(P=0,N=e[t]<<8|e[t+1],65280>N)throw"marker was not found";if(!(N>=65488&&65495>=N))break;t+=2}return t-L}function n(e,t){function r(e,r,n){var i,a,d,v,g,m,y,b,x,w,S=t.quantizationTable,_=n;for(w=0;64>w;w++)_[w]=e[w]*S[w];for(w=0;8>w;++w){var T=8*w;0!=_[1+T]||0!=_[2+T]||0!=_[3+T]||0!=_[4+T]||0!=_[5+T]||0!=_[6+T]||0!=_[7+T]?(i=f*_[0+T]+128>>8,a=f*_[4+T]+128>>8,d=_[2+T],v=_[6+T],g=p*(_[1+T]-_[7+T])+128>>8,b=p*(_[1+T]+_[7+T])+128>>8,m=_[3+T]<<4,y=_[5+T]<<4,x=i-a+1>>1,i=i+a+1>>1,a=x,x=d*h+v*c+128>>8,d=d*c-v*h+128>>8,v=x,x=g-y+1>>1,g=g+y+1>>1,y=x,x=b+m+1>>1,m=b-m+1>>1,b=x,x=i-v+1>>1,i=i+v+1>>1,v=x,x=a-d+1>>1,a=a+d+1>>1,d=x,x=g*u+b*l+2048>>12,g=g*l-b*u+2048>>12,b=x,x=m*o+y*s+2048>>12,m=m*s-y*o+2048>>12,y=x,_[0+T]=i+b,_[7+T]=i-b,_[1+T]=a+y,_[6+T]=a-y,_[2+T]=d+m,_[5+T]=d-m,_[3+T]=v+g,_[4+T]=v-g):(x=f*_[0+T]+512>>10,_[0+T]=x,_[1+T]=x,_[2+T]=x,_[3+T]=x,_[4+T]=x,_[5+T]=x,_[6+T]=x,_[7+T]=x)}for(w=0;8>w;++w){var k=w;0!=_[8+k]||0!=_[16+k]||0!=_[24+k]||0!=_[32+k]||0!=_[40+k]||0!=_[48+k]||0!=_[56+k]?(i=f*_[0+k]+2048>>12,a=f*_[32+k]+2048>>12,d=_[16+k],v=_[48+k],g=p*(_[8+k]-_[56+k])+2048>>12,b=p*(_[8+k]+_[56+k])+2048>>12,m=_[24+k],y=_[40+k],x=i-a+1>>1,i=i+a+1>>1,a=x,x=d*h+v*c+2048>>12,d=d*c-v*h+2048>>12,v=x,x=g-y+1>>1,g=g+y+1>>1,y=x,x=b+m+1>>1,m=b-m+1>>1,b=x,x=i-v+1>>1,i=i+v+1>>1,v=x,x=a-d+1>>1,a=a+d+1>>1,d=x,x=g*u+b*l+2048>>12,g=g*l-b*u+2048>>12,b=x,x=m*o+y*s+2048>>12,m=m*s-y*o+2048>>12,y=x,_[0+k]=i+b,_[56+k]=i-b,_[8+k]=a+y,_[48+k]=a-y,_[16+k]=d+m,_[40+k]=d-m,_[24+k]=v+g,_[32+k]=v-g):(x=f*n[w+0]+8192>>14,_[0+k]=x,_[8+k]=x,_[16+k]=x,_[24+k]=x,_[32+k]=x,_[40+k]=x,_[48+k]=x,_[56+k]=x)}for(w=0;64>w;++w){var C=128+(_[w]+8>>4);r[w]=0>C?0:C>255?255:C}}for(var n,i,a=[],d=t.blocksPerLine,v=t.blocksPerColumn,g=d<<3,m=new Int32Array(64),y=new Uint8Array(64),b=0;v>b;b++){var x=b<<3;for(n=0;8>n;n++)a.push(new Uint8Array(g));for(var w=0;d>w;w++){r(t.blocks[b][w],y,m);var S=0,_=w<<3;for(i=0;8>i;i++){var T=a[x+i];for(n=0;8>n;n++)T[_+n]=y[S++]}}}return a}function i(e){return 0>e?0:e>255?255:e}var a=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),s=4017,o=799,l=3406,u=2276,c=1567,h=3784,f=5793,p=2896;return e.prototype={load:function(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){var e=new Uint8Array(t.response||t.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}.bind(this),t.send(null)},parse:function(e){function i(){var t=e[c]<<8|e[c+1];return c+=2,t}function s(){var t=i(),r=e.subarray(c,c+t-2);return c+=r.length,r}function o(e){var t,r,n=0,i=0;for(r in e.components)e.components.hasOwnProperty(r)&&(t=e.components[r],n<t.h&&(n=t.h),i<t.v&&(i=t.v));var a=Math.ceil(e.samplesPerLine/8/n),s=Math.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t=e.components[r];for(var o=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),l=Math.ceil(Math.ceil(e.scanLines/8)*t.v/i),u=a*t.h,c=s*t.v,h=[],f=0;c>f;f++){for(var p=[],d=0;u>d;d++)p.push(new Int32Array(64));h.push(p)}t.blocksPerLine=o,t.blocksPerColumn=l,t.blocks=h}e.maxH=n,e.maxV=i,e.mcusPerLine=a,e.mcusPerColumn=s}var l,u,c=0,h=(e.length,null),f=null,p=[],d=[],v=[],g=[],m=i();if(65496!=m)throw"SOI not found";for(m=i();65497!=m;){var y,b;switch(m){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var x=s();65504===m&&74===x[0]&&70===x[1]&&73===x[2]&&70===x[3]&&0===x[4]&&(h={version:{major:x[5],minor:x[6]},densityUnits:x[7],xDensity:x[8]<<8|x[9],yDensity:x[10]<<8|x[11],thumbWidth:x[12],thumbHeight:x[13],thumbData:x.subarray(14,14+3*x[12]*x[13])}),65518===m&&65===x[0]&&100===x[1]&&111===x[2]&&98===x[3]&&101===x[4]&&0===x[5]&&(f={version:x[6],flags0:x[7]<<8|x[8],flags1:x[9]<<8|x[10],transformCode:x[11]});break;case 65499:for(var w=i(),S=w+c-2;S>c;){var _=e[c++],T=new Int32Array(64);if(_>>4===0)for(b=0;64>b;b++){var k=a[b];T[k]=e[c++]}else{if(_>>4!==1)throw"DQT: invalid table spec";for(b=0;64>b;b++){var k=a[b];T[k]=i()}}p[15&_]=T}break;case 65472:case 65473:case 65474:i(),l={},l.extended=65473===m,l.progressive=65474===m,l.precision=e[c++],l.scanLines=i(),l.samplesPerLine=i(),l.components={},l.componentsOrder=[];var C,A=e[c++];for(y=0;A>y;y++){C=e[c];var O=e[c+1]>>4,M=15&e[c+1],L=e[c+2];l.componentsOrder.push(C),l.components[C]={h:O,v:M,quantizationIdx:L},c+=3}o(l),d.push(l);break;case 65476:var E=i();for(y=2;E>y;){var P=e[c++],R=new Uint8Array(16),I=0;for(b=0;16>b;b++,c++)I+=R[b]=e[c];var U=new Uint8Array(I);for(b=0;I>b;b++,c++)U[b]=e[c];y+=17+I,(P>>4===0?g:v)[15&P]=t(R,U)}break;case 65501:i(),u=i();break;case 65498:var N,D=(i(),e[c++]),B=[];for(y=0;D>y;y++){N=l.components[e[c++]];var j=e[c++];N.huffmanTableDC=g[j>>4],N.huffmanTableAC=v[15&j],B.push(N)}var H=e[c++],F=e[c++],W=e[c++],z=r(e,c,l,B,u,H,F,W>>4,15&W);c+=z;break;default:if(255==e[c-3]&&e[c-2]>=192&&e[c-2]<=254){c-=3;break}throw"unknown JPEG marker "+m.toString(16)}m=i()}if(1!=d.length)throw"only single frame JPEGs supported";for(var y=0;y<d.length;y++){var G=d[y].components;for(var b in G)G[b].quantizationTable=p[G[b].quantizationIdx],delete G[b].quantizationIdx}this.width=l.samplesPerLine,this.height=l.scanLines,this.jfif=h,this.adobe=f,this.components=[];for(var y=0;y<l.componentsOrder.length;y++){var N=l.components[l.componentsOrder[y]];this.components.push({lines:n(l,N),scaleX:N.h/l.maxH,scaleY:N.v/l.maxV})}},getData:function(e,t){var r,n,a,s,o,l,u,c,h,f,p,d,v,g,m,y,b,x,w,S,_,T=this.width/e,k=this.height/t,C=0,A=e*t*this.components.length,O=new Uint8Array(A);switch(this.components.length){case 1:for(r=this.components[0],f=0;t>f;f++)for(o=r.lines[0|f*r.scaleY*k],h=0;e>h;h++)p=o[0|h*r.scaleX*T],O[C++]=p;break;case 2:for(r=this.components[0],n=this.components[1],f=0;t>f;f++)for(o=r.lines[0|f*r.scaleY*k],l=n.lines[0|f*n.scaleY*k],h=0;e>h;h++)p=o[0|h*r.scaleX*T],O[C++]=p,p=l[0|h*n.scaleX*T],O[C++]=p;break;case 3:for(_=!0,this.adobe&&this.adobe.transformCode?_=!0:"undefined"!=typeof this.colorTransform&&(_=!!this.colorTransform),r=this.components[0],n=this.components[1],a=this.components[2],f=0;t>f;f++)for(o=r.lines[0|f*r.scaleY*k],l=n.lines[0|f*n.scaleY*k],u=a.lines[0|f*a.scaleY*k],h=0;e>h;h++)_?(p=o[0|h*r.scaleX*T],d=l[0|h*n.scaleX*T],v=u[0|h*a.scaleX*T],x=i(p+1.402*(v-128)),w=i(p-.3441363*(d-128)-.71413636*(v-128)),S=i(p+1.772*(d-128))):(x=o[0|h*r.scaleX*T],w=l[0|h*n.scaleX*T],S=u[0|h*a.scaleX*T]),O[C++]=x,O[C++]=w,O[C++]=S;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";for(_=!1,this.adobe&&this.adobe.transformCode?_=!0:"undefined"!=typeof this.colorTransform&&(_=!!this.colorTransform),r=this.components[0],n=this.components[1],a=this.components[2],s=this.components[3],f=0;t>f;f++)for(o=r.lines[0|f*r.scaleY*k],l=n.lines[0|f*n.scaleY*k],u=a.lines[0|f*a.scaleY*k],c=s.lines[0|f*s.scaleY*k],h=0;e>h;h++)_?(p=o[0|h*r.scaleX*T],d=l[0|h*n.scaleX*T],v=u[0|h*a.scaleX*T],g=c[0|h*s.scaleX*T],m=255-i(p+1.402*(v-128)),y=255-i(p-.3441363*(d-128)-.71413636*(v-128)),b=255-i(p+1.772*(d-128))):(m=o[0|h*r.scaleX*T],y=l[0|h*n.scaleX*T],b=u[0|h*a.scaleX*T],g=c[0|h*s.scaleX*T]),O[C++]=m,O[C++]=y,O[C++]=b,O[C++]=g;break;default:throw"Unsupported color mode"}return O},copyToImageData:function(e){var t,r,n,a,s,o,l,u,c,h=e.width,f=e.height,p=e.data,d=this.getData(h,f),v=0,g=0;switch(this.components.length){case 1:for(r=0;f>r;r++)for(t=0;h>t;t++)n=d[v++],p[g++]=n,p[g++]=n,p[g++]=n,p[g++]=255;break;case 3:for(r=0;f>r;r++)for(t=0;h>t;t++)l=d[v++],u=d[v++],c=d[v++],p[g++]=l,p[g++]=u,p[g++]=c,p[g++]=255;break;case 4:for(r=0;f>r;r++)for(t=0;h>t;t++)s=d[v++],o=d[v++],n=d[v++],a=d[v++],l=255-i(s*(1-a/255)+a),u=255-i(o*(1-a/255)+a),c=255-i(n*(1-a/255)+a),p[g++]=l,p[g++]=u,p[g++]=c,p[g++]=255;break;default:throw"Unsupported color mode"}}},e}();t.exports=r}).call(this,e("buffer").Buffer)},{buffer:2}],8:[function(e,t,r){(function(e){function r(t){function r(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;64>r;r++){var n=k((t[r]*e+50)/100);1>n?n=1:n>255&&(n=255),C[W[r]]=n}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;64>a;a++){var s=k((i[a]*e+50)/100);1>s?s=1:s>255&&(s=255),A[W[a]]=s}for(var o=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,u=0;8>u;u++)for(var c=0;8>c;c++)O[l]=1/(C[W[l]]*o[u]*o[c]*8),M[l]=1/(A[W[l]]*o[u]*o[c]*8),l++}function n(e,t){for(var r=0,n=0,i=new Array,a=1;16>=a;a++){for(var s=1;s<=e[a];s++)i[t[n]]=[],i[t[n]][0]=r,i[t[n]][1]=a,n++,r++;r*=2}return i}function i(){x=n(z,G),w=n(Y,X),S=n(V,q),_=n(K,$)}function a(){for(var e=1,t=2,r=1;15>=r;r++){for(var n=e;t>n;n++)E[32767+n]=r,L[32767+n]=[],L[32767+n][1]=r,L[32767+n][0]=n;for(var i=-(t-1);-e>=i;i++)E[32767+i]=r,L[32767+i]=[],L[32767+i][1]=r,L[32767+i][0]=t-1+i;e<<=1,t<<=1}}function s(){for(var e=0;256>e;e++)F[e]=19595*e,F[e+256>>0]=38470*e,F[e+512>>0]=7471*e+32768,F[e+768>>0]=-11059*e,F[e+1024>>0]=-21709*e,F[e+1280>>0]=32768*e+8421375,F[e+1536>>0]=-27439*e,F[e+1792>>0]=-5329*e}function o(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(U|=1<<N),r--,N--,0>N&&(255==U?(l(255),l(0)):l(U),N=7,U=0)}function l(e){I.push(e)}function u(e){l(e>>8&255),l(255&e)}function c(e,t){var r,n,i,a,s,o,l,u,c,h=0;const f=8,p=64;for(c=0;f>c;++c){r=e[h],n=e[h+1],i=e[h+2],a=e[h+3],s=e[h+4],o=e[h+5],l=e[h+6],u=e[h+7];var d=r+u,v=r-u,g=n+l,m=n-l,y=i+o,b=i-o,x=a+s,w=a-s,S=d+x,_=d-x,T=g+y,k=g-y;e[h]=S+T,e[h+4]=S-T;var C=.707106781*(k+_);e[h+2]=_+C,e[h+6]=_-C,S=w+b,T=b+m,k=m+v;var A=.382683433*(S-k),O=.5411961*S+A,M=1.306562965*k+A,L=.707106781*T,E=v+L,R=v-L;e[h+5]=R+O,e[h+3]=R-O,e[h+1]=E+M,e[h+7]=E-M,h+=8}for(h=0,c=0;f>c;++c){r=e[h],n=e[h+8],i=e[h+16],a=e[h+24],s=e[h+32],o=e[h+40],l=e[h+48],u=e[h+56];var I=r+u,U=r-u,N=n+l,D=n-l,B=i+o,j=i-o,H=a+s,F=a-s,W=I+H,z=I-H,G=N+B,V=N-B;e[h]=W+G,e[h+32]=W-G;var q=.707106781*(V+z);e[h+16]=z+q,e[h+48]=z-q,W=F+j,G=j+D,V=D+U;var Y=.382683433*(W-V),X=.5411961*W+Y,K=1.306562965*V+Y,$=.707106781*G,Q=U+$,Z=U-$;e[h+40]=Z+X,e[h+24]=Z-X,e[h+8]=Q+K,e[h+56]=Q-K,h++}var J;for(c=0;p>c;++c)J=e[c]*t[c],P[c]=J>0?J+.5|0:J-.5|0;return P}function h(){u(65504),u(16),l(74),l(70),l(73),l(70),l(0),l(1),l(1),l(0),u(1),u(1),l(0),l(0)}function f(e,t){u(65472),u(17),l(8),u(t),u(e),l(3),l(1),l(17),l(0),l(2),l(17),l(1),l(3),l(17),l(1)}function p(){u(65499),u(132),l(0);for(var e=0;64>e;e++)l(C[e]);l(1);for(var t=0;64>t;t++)l(A[t])}function d(){u(65476),u(418),l(0);for(var e=0;16>e;e++)l(z[e+1]);for(var t=0;11>=t;t++)l(G[t]);l(16);for(var r=0;16>r;r++)l(V[r+1]);for(var n=0;161>=n;n++)l(q[n]);l(1);for(var i=0;16>i;i++)l(Y[i+1]);for(var a=0;11>=a;a++)l(X[a]);l(17);for(var s=0;16>s;s++)l(K[s+1]);for(var o=0;161>=o;o++)l($[o])}function v(){u(65498),u(12),l(3),l(1),l(0),l(2),l(17),l(3),l(17),l(0),l(63),l(0)}function g(e,t,r,n,i){var a,s=i[0],l=i[240];const u=16,h=63,f=64;for(var p=c(e,t),d=0;f>d;++d)R[W[d]]=p[d];var v=R[0]-r;r=R[0],0==v?o(n[0]):(a=32767+v,o(n[E[a]]),o(L[a]));for(var g=63;g>0&&0==R[g];g--);if(0==g)return o(s),r;for(var m,y=1;g>=y;){for(var b=y;0==R[y]&&g>=y;++y);var x=y-b;if(x>=u){m=x>>4;for(var w=1;m>=w;++w)o(l);x=15&x}a=32767+R[y],o(i[(x<<4)+E[a]]),o(L[a]),y++}return g!=h&&o(s),r}function m(){for(var e=String.fromCharCode,t=0;256>t;t++)H[t]=e(t)}function y(e){if(0>=e&&(e=1),e>100&&(e=100),T!=e){var t=0;t=50>e?Math.floor(5e3/e):Math.floor(200-2*e),r(t),T=e}}function b(){var e=(new Date).getTime();t||(t=50),m(),i(),a(),s(),y(t);(new Date).getTime()-e}var x,w,S,_,T,k=(Math.round,Math.floor),C=new Array(64),A=new Array(64),O=new Array(64),M=new Array(64),L=new Array(65535),E=new Array(65535),P=new Array(64),R=new Array(64),I=[],U=0,N=7,D=new Array(64),B=new Array(64),j=new Array(64),H=new Array(256),F=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Y=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(t,r){(new Date).getTime();r&&y(r),I=new Array,U=0,N=7,u(65496),h(),p(),f(t.width,t.height),d(),v();var n=0,i=0,a=0;U=0,N=7,this.encode.displayName="_encode_";for(var s,l,c,m,b,T,k,C,A,L=t.data,E=t.width,P=t.height,R=4*E,H=0;P>H;){for(s=0;R>s;){for(b=R*H+s,T=b,k=-1,C=0,A=0;64>A;A++)C=A>>3,k=4*(7&A),T=b+C*R+k,H+C>=P&&(T-=R*(H+1+C-P)),s+k>=R&&(T-=s+k-R+4),l=L[T++],c=L[T++],m=L[T++],D[A]=(F[l]+F[c+256>>0]+F[m+512>>0]>>16)-128,B[A]=(F[l+768>>0]+F[c+1024>>0]+F[m+1280>>0]>>16)-128,j[A]=(F[l+1280>>0]+F[c+1536>>0]+F[m+1792>>0]>>16)-128;n=g(D,O,n,x,S),i=g(B,M,i,w,_),a=g(j,M,a,w,_),s+=32}H+=8}if(N>=0){var W=[];W[1]=N+1,W[0]=(1<<N+1)-1,o(W)}return u(65497),new e(I)},b()}function n(e,t){"undefined"==typeof t&&(t=50);var n=new r(t),i=n.encode(e,t);return{data:i,width:e.width,height:e.height}}t.exports=n}).call(this,e("buffer").Buffer)},{buffer:2}],9:[function(e,t,r){(function(n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o="undefined"!=typeof window?window.Rune:"undefined"!=typeof n?n.Rune:null,l=i(o),u=e("jpeg-js"),c=i(u),h=function(){function t(e){a(this,t),this.url=e}return s(t,[{key:"load",value:function(e){var t=this,r="undefined"==typeof window,n=r?this.loadFromFile:this.loadFromUrl;n(this.url,function(r,n){if(r)return e(r);var i=c["default"].decode(n);return t.pixels=i.data,t.width=i.width,t.height=i.height,e(null)})}},{key:"loadFromFile",value:function(t,r){var n=e("fs");n.readFile(t,function(e,t){return e?r(e.message):void r(null,this.toArrayBuffer(t))})}},{key:"loadFromUrl",value:function(e,t){var r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="arraybuffer",r.onload=function(){return 200!==r.status?t("Image could not be loaded: "+r.statusText):t(null,r.response)},r.send()}},{key:"toArrayBuffer",value:function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n+=1)r[n]=e[n];return t}},{key:"get",value:function(e,t){if(!this.pixels)throw Error("You must load image before accessing pixel data");var r=4*(t*this.width+e);return new l["default"].Color(this.pixels[r],this.pixels[r+1],this.pixels[r+2])}}]),t}();r["default"]=h,t.exports=r["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{fs:1,"jpeg-js":6}]},{},[9])(9)}),!function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function e(r,n){if(!(this instanceof e))return new e(r,n);this.options=n=n?Ui(n):{},Ui(Xa,n,!1),p(n);var i=n.value;"string"==typeof i&&(i=new ys(i,n.mode,null,n.lineSeparator)),this.doc=i;var a=new e.inputStyles[n.inputStyle](this),s=this.display=new t(r,i,a);s.wrapper.CodeMirror=this,u(this),o(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!Ta&&s.input.focus(),m(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Oi,keySeq:null,specialChars:null};var l=this;da&&11>va&&setTimeout(function(){l.display.input.reset(!0)},20),Ft(this),Yi(),bt(this),this.curOp.forceUpdate=!0,Kn(this,i),n.autofocus&&!Ta||l.hasFocus()?setTimeout(Ni(vr,this),20):gr(this);for(var c in Ka)Ka.hasOwnProperty(c)&&Ka[c](this,n[c],$a);S(this),n.finishInit&&n.finishInit(this);for(var h=0;h<es.length;++h)es[h](this);wt(this),ga&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function t(e,t,r){var n=this;this.input=r,n.scrollbarFiller=Hi("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=Hi("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=Hi("div",null,"CodeMirror-code"),n.selectionDiv=Hi("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Hi("div",null,"CodeMirror-cursors"),n.measure=Hi("div",null,"CodeMirror-measure"),n.lineMeasure=Hi("div",null,"CodeMirror-measure"),n.lineSpace=Hi("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Hi("div",[Hi("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Hi("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Hi("div",null,null,"position: absolute; height: "+Os+"px; width: 1px;"),n.gutters=Hi("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Hi("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Hi("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),da&&8>va&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),ga||ha&&Ta||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,r.init(n)}function r(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),n(t)}function n(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Be(e,100),e.state.modeGen++,e.curOp&&It(e)}function i(e){e.options.lineWrapping?(Vs(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Gs(e.display.wrapper,"CodeMirror-wrap"),f(e)),s(e),It(e),st(e),setTimeout(function(){y(e)},100)}function a(e){var t=mt(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/yt(e.display)-3);return function(i){if(wn(e.doc,i))return 0;var a=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(a+=i.widgets[s].height);return r?a+(Math.ceil(i.text.length/n)||1)*t:a+t}}function s(e){var t=e.doc,r=a(e);t.iter(function(e){var t=r(e);t!=e.height&&Jn(e,t)})}function o(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),st(e)}function l(e){u(e),It(e),setTimeout(function(){w(e)},20)}function u(e){var t=e.display.gutters,r=e.options.gutters;Fi(t);for(var n=0;n<r.length;++n){var i=r[n],a=t.appendChild(Hi("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=a,a.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",c(e)}function c(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function h(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=dn(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=vn(n);){var i=t.find(0,!0);r-=n.text.length-i.from.ch,n=i.to.line,r+=n.text.length-i.to.ch}return r}function f(e){var t=e.display,r=e.doc;t.maxLine=$n(r,r.first),t.maxLineLength=h(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=h(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function p(e){var t=Ei(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function d(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+ze(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Ve(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function v(e,t,r){this.cm=r;var n=this.vert=Hi("div",[Hi("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Hi("div",[Hi("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(i),Ts(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),Ts(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedOverlay=!1,da&&8>va&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function m(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Gs(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Ts(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,r){"horizontal"==r?nr(t,e):rr(t,e)},t),t.display.scrollbars.addClass&&Vs(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=d(e));var r=e.display.barWidth,n=e.display.barHeight;b(e,t);for(var i=0;4>i&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&E(e),b(e,d(e)),r=e.display.barWidth,n=e.display.barHeight}function b(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function x(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-We(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,a=ti(t,n),s=ti(t,i);if(r&&r.ensure){var o=r.ensure.from.line,l=r.ensure.to.line;a>o?(a=o,s=ti(t,ri($n(t,o))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(a=ti(t,ri($n(t,l))-e.wrapper.clientHeight),s=l)}return{from:a,to:Math.max(s,a+1)}}function w(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=T(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,a=n+"px",s=0;s<r.length;s++)if(!r[s].hidden){e.options.fixedGutter&&r[s].gutter&&(r[s].gutter.style.left=a);var o=r[s].alignable;if(o)for(var l=0;l<o.length;l++)o[l].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function S(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=_(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(Hi("div",[Hi("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=i.firstChild.offsetWidth,s=i.offsetWidth-a;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(a,n.lineGutter.offsetWidth-s)+1,n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",c(e),!0}return!1}function _(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function T(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function k(e,t,r){var n=e.display;this.viewport=t,this.visible=x(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=qe(e),this.force=r,this.dims=R(e),this.events=[]}function C(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ve(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ve(e)+"px",t.scrollbarsClipped=!0)}function A(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return Nt(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Ht(e))return!1;S(e)&&(Nt(e),t.dims=R(e));var i=n.first+n.size,a=Math.max(t.visible.from-e.options.viewportMargin,n.first),s=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(n.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(i,r.viewTo)),Ea&&(a=bn(e.doc,a),s=xn(e.doc,s));var o=a!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;jt(e,a,s),r.viewOffset=ri($n(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var l=Ht(e);if(!o&&0==l&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var u=zi();return l>4&&(r.lineDiv.style.display="none"),I(e,r.updateLineNumbers,t.dims),l>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,u&&zi()!=u&&u.offsetHeight&&u.focus(),Fi(r.cursorDiv),Fi(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,o&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,Be(e,400)),r.updateLineNumbers=null,!0}function O(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=qe(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+ze(e.display)-Ye(e),r.top)}),t.visible=x(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&A(e,t);n=!1){E(e);var i=d(e);Re(e),L(e,i),y(e,i)}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function M(e,t){var r=new k(e,t);if(A(e,r)){E(e),O(e,r);var n=d(e);Re(e),L(e,n),y(e,n),r.finish()}}function L(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var r=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=r+"px",e.display.gutters.style.height=Math.max(r+Ve(e),t.clientHeight)+"px"}function E(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i,a=t.view[n];if(!a.hidden){if(da&&8>va){var s=a.node.offsetTop+a.node.offsetHeight;i=s-r,r=s}else{var o=a.node.getBoundingClientRect();i=o.bottom-o.top}var l=a.line.height-i;if(2>i&&(i=mt(t)),(l>.001||-.001>l)&&(Jn(a.line,i),P(a.line),a.rest))for(var u=0;u<a.rest.length;u++)P(a.rest[u])}}}function P(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function R(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,a=t.gutters.firstChild,s=0;a;a=a.nextSibling,++s)r[e.options.gutters[s]]=a.offsetLeft+a.clientLeft+i,n[e.options.gutters[s]]=a.clientWidth;return{fixedPos:T(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function I(e,t,r){function n(t){var r=t.nextSibling;return ga&&ka&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var i=e.display,a=e.options.lineNumbers,s=i.lineDiv,o=s.firstChild,l=i.view,u=i.viewFrom,c=0;c<l.length;c++){var h=l[c];if(h.hidden);else if(h.node&&h.node.parentNode==s){for(;o!=h.node;)o=n(o);var f=a&&null!=t&&u>=t&&h.lineNumber;h.changes&&(Ei(h.changes,"gutter")>-1&&(f=!1),U(e,h,u,r)),f&&(Fi(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(_(e.options,u)))),o=h.node.nextSibling}else{var p=z(e,h,u,r);s.insertBefore(p,o)}u+=h.size}for(;o;)o=n(o)}function U(e,t,r,n){for(var i=0;i<t.changes.length;i++){var a=t.changes[i];"text"==a?j(e,t):"gutter"==a?F(e,t,r,n):"class"==a?H(t):"widget"==a&&W(e,t,n)}t.changes=null}function N(e){return e.node==e.text&&(e.node=Hi("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),da&&8>va&&(e.node.style.zIndex=2)),e.node}function D(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var r=N(e);e.background=r.insertBefore(Hi("div",null,t),r.firstChild)}}function B(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,
t.measure=r.measure,r.built):Dn(e,t)}function j(e,t){var r=t.text.className,n=B(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,H(t)):r&&(t.text.className=r)}function H(e){D(e),e.line.wrapClass?N(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function F(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=N(t);t.gutterBackground=Hi("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var i=N(t),s=t.gutter=Hi("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),i.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(Hi("div",_(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var o=0;o<e.options.gutters.length;++o){var l=e.options.gutters[o],u=a.hasOwnProperty(l)&&a[l];u&&s.appendChild(Hi("div",[u],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function W(e,t,r){t.alignable&&(t.alignable=null);for(var n,i=t.node.firstChild;i;i=n){var n=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}G(e,t,r)}function z(e,t,r,n){var i=B(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),H(t),F(e,t,r,n),G(e,t,n),t.node}function G(e,t,r){if(V(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)V(e,t.rest[n],t,r,!1)}function V(e,t,r,n,i){if(t.widgets)for(var a=N(r),s=0,o=t.widgets;s<o.length;++s){var l=o[s],u=Hi("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),q(l,u,r,n),e.display.input.setUneditable(u),i&&l.above?a.insertBefore(u,r.gutter||r.text):a.appendChild(u),Si(l,"redraw")}}function q(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Y(e){return Pa(e.line,e.ch)}function X(e,t){return Ra(e,t)<0?t:e}function K(e,t){return Ra(e,t)<0?e:t}function $(e){e.state.focused||(e.display.input.focus(),vr(e))}function Q(e){return e.options.readOnly||e.doc.cantEdit}function Z(e,t,r,n,i){var a=e.doc;e.display.shift=!1,n||(n=a.sel);var s=e.state.pasteIncoming||"paste"==i,o=a.splitLines(t),l=null;if(s&&n.ranges.length>1)if(Ia&&Ia.join("\n")==t){if(n.ranges.length%Ia.length==0){l=[];for(var u=0;u<Ia.length;u++)l.push(a.splitLines(Ia[u]))}}else o.length==n.ranges.length&&(l=Pi(o,function(e){return[e]}));for(var u=n.ranges.length-1;u>=0;u--){var c=n.ranges[u],h=c.from(),f=c.to();c.empty()&&(r&&r>0?h=Pa(h.line,h.ch-r):e.state.overwrite&&!s&&(f=Pa(f.line,Math.min($n(a,f.line).text.length,f.ch+Li(o).length))));var p=e.curOp.updateInput,d={from:h,to:f,text:l?l[u%l.length]:o,origin:i||(s?"paste":e.state.cutIncoming?"cut":"+input")};Tr(e.doc,d),Si(e,"inputRead",e,d)}t&&!s&&ee(e,t),Nr(e),e.curOp.updateInput=p,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function J(e,t){var r=e.clipboardData&&e.clipboardData.getData("text/plain");return r?(e.preventDefault(),Q(t)||t.options.disableInput||Ot(t,function(){Z(t,r,0,null,"paste")}),!0):void 0}function ee(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var a=e.getModeAt(i.head),s=!1;if(a.electricChars){for(var o=0;o<a.electricChars.length;o++)if(t.indexOf(a.electricChars.charAt(o))>-1){s=Br(e,i.head.line,"smart");break}}else a.electricInput&&a.electricInput.test($n(e.doc,i.head.line).text.slice(0,i.head.ch))&&(s=Br(e,i.head.line,"smart"));s&&Si(e,"electricInput",e,i.head.line)}}}function te(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,a={anchor:Pa(i,0),head:Pa(i+1,0)};r.push(a),t.push(e.getRange(a.anchor,a.head))}return{text:t,ranges:r}}function re(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function ne(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Oi,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function ie(){var e=Hi("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Hi("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ga?e.style.width="1000px":e.setAttribute("wrap","off"),_a&&(e.style.border="1px solid black"),re(e),t}function ae(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Oi,this.gracePeriod=!1}function se(e,t){var r=Ze(e,t.line);if(!r||r.hidden)return null;var n=$n(e.doc,t.line),i=Ke(r,n,t.line),a=ni(n),s="left";if(a){var o=oa(a,t.ch);s=o%2?"right":"left"}var l=tt(i.map,t.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function oe(e,t){return t&&(e.bad=!0),e}function le(e,t,r){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[r],!n)return oe(e.clipPos(Pa(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var a=e.display.view[i];if(a.node==n)return ue(a,t,r)}}function ue(e,t,r){function n(t,r,n){for(var i=-1;i<(c?c.length:0);i++)for(var a=0>i?u.map:c[i],s=0;s<a.length;s+=3){var o=a[s+2];if(o==t||o==r){var l=ei(0>i?e.line:e.rest[i]),h=a[s]+n;return(0>n||o!=t)&&(h=a[s+(n?1:0)]),Pa(l,h)}}}var i=e.text.firstChild,a=!1;if(!t||!Fs(i,t))return oe(Pa(ei(e.line),0),!0);if(t==i&&(a=!0,t=i.childNodes[r],r=0,!t)){var s=e.rest?Li(e.rest):e.line;return oe(Pa(ei(s),s.text.length),a)}var o=3==t.nodeType?t:null,l=t;for(o||1!=t.childNodes.length||3!=t.firstChild.nodeType||(o=t.firstChild,r&&(r=o.nodeValue.length));l.parentNode!=i;)l=l.parentNode;var u=e.measure,c=u.maps,h=n(o,l,r);if(h)return oe(h,a);for(var f=l.nextSibling,p=o?o.nodeValue.length-r:0;f;f=f.nextSibling){if(h=n(f,f.firstChild,0))return oe(Pa(h.line,h.ch-p),a);p+=f.textContent.length}for(var d=l.previousSibling,p=r;d;d=d.previousSibling){if(h=n(d,d.firstChild,-1))return oe(Pa(h.line,h.ch+p),a);p+=f.textContent.length}}function ce(e,t,r,n,i){function a(e){return function(t){return t.id==e}}function s(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return""==r&&(r=t.textContent.replace(/\u200b/g,"")),void(o+=r);var c,h=t.getAttribute("cm-marker");if(h){var f=e.findMarks(Pa(n,0),Pa(i+1,0),a(+h));return void(f.length&&(c=f[0].find())&&(o+=Qn(e.doc,c.from,c.to).join(u)))}if("false"==t.getAttribute("contenteditable"))return;for(var p=0;p<t.childNodes.length;p++)s(t.childNodes[p]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var d=t.nodeValue;if(!d)return;l&&(o+=u,l=!1),o+=d}}for(var o="",l=!1,u=e.doc.lineSeparator();s(t),t!=r;)t=t.nextSibling;return o}function he(e,t){this.ranges=e,this.primIndex=t}function fe(e,t){this.anchor=e,this.head=t}function pe(e,t){var r=e[t];e.sort(function(e,t){return Ra(e.from(),t.from())}),t=Ei(e,r);for(var n=1;n<e.length;n++){var i=e[n],a=e[n-1];if(Ra(a.to(),i.from())>=0){var s=K(a.from(),i.from()),o=X(a.to(),i.to()),l=a.empty()?i.from()==i.head:a.from()==a.head;t>=n&&--t,e.splice(--n,2,new fe(l?o:s,l?s:o))}}return new he(e,t)}function de(e,t){return new he([new fe(e,t||e)],0)}function ve(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ge(e,t){if(t.line<e.first)return Pa(e.first,0);var r=e.first+e.size-1;return t.line>r?Pa(r,$n(e,r).text.length):me(t,$n(e,t.line).text.length)}function me(e,t){var r=e.ch;return null==r||r>t?Pa(e.line,t):0>r?Pa(e.line,0):e}function ye(e,t){return t>=e.first&&t<e.first+e.size}function be(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=ge(e,t[n]);return r}function xe(e,t,r,n){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(n){var a=Ra(r,i)<0;a!=Ra(n,i)<0?(i=r,r=n):a!=Ra(r,n)<0&&(r=n)}return new fe(i,r)}return new fe(n||r,r)}function we(e,t,r,n){Ae(e,new he([xe(e,e.sel.primary(),t,r)],0),n)}function Se(e,t,r){for(var n=[],i=0;i<e.sel.ranges.length;i++)n[i]=xe(e,e.sel.ranges[i],t[i],null);var a=pe(n,e.sel.primIndex);Ae(e,a,r)}function _e(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,Ae(e,pe(i,e.sel.primIndex),n)}function Te(e,t,r,n){Ae(e,de(t,r),n)}function ke(e,t){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new fe(ge(e,t[r].anchor),ge(e,t[r].head))}};return Cs(e,"beforeSelectionChange",e,r),e.cm&&Cs(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?pe(r.ranges,r.ranges.length-1):t}function Ce(e,t,r){var n=e.history.done,i=Li(n);i&&i.ranges?(n[n.length-1]=t,Oe(e,t,r)):Ae(e,t,r)}function Ae(e,t,r){Oe(e,t,r),ci(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Oe(e,t,r){(Ci(e,"beforeSelectionChange")||e.cm&&Ci(e.cm,"beforeSelectionChange"))&&(t=ke(e,t));var n=r&&r.bias||(Ra(t.primary().head,e.sel.primary().head)<0?-1:1);Me(e,Ee(e,t,n,!0)),r&&r.scroll===!1||!e.cm||Nr(e.cm)}function Me(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,ki(e.cm)),Si(e,"cursorActivity",e))}function Le(e){Me(e,Ee(e,e.sel,null,!1),Ls)}function Ee(e,t,r,n){for(var i,a=0;a<t.ranges.length;a++){var s=t.ranges[a],o=Pe(e,s.anchor,r,n),l=Pe(e,s.head,r,n);(i||o!=s.anchor||l!=s.head)&&(i||(i=t.ranges.slice(0,a)),i[a]=new fe(o,l))}return i?pe(i,t.primIndex):t}function Pe(e,t,r,n){var i=!1,a=t,s=r||1;e.cantEdit=!1;e:for(;;){var o=$n(e,a.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var u=o.markedSpans[l],c=u.marker;if((null==u.from||(c.inclusiveLeft?u.from<=a.ch:u.from<a.ch))&&(null==u.to||(c.inclusiveRight?u.to>=a.ch:u.to>a.ch))){if(n&&(Cs(c,"beforeCursorEnter"),c.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(!c.atomic)continue;var h=c.find(0>s?-1:1);if(0==Ra(h,a)&&(h.ch+=s,h.ch<0?h=h.line>e.first?ge(e,Pa(h.line-1)):null:h.ch>o.text.length&&(h=h.line<e.first+e.size-1?Pa(h.line+1,0):null),!h)){if(i)return n?(e.cantEdit=!0,Pa(e.first,0)):Pe(e,t,r,!0);i=!0,h=t,s=-s}a=h;continue e}}return a}}function Re(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ie(e,t){for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),a=n.selection=document.createDocumentFragment(),s=0;s<r.sel.ranges.length;s++)if(t!==!1||s!=r.sel.primIndex){var o=r.sel.ranges[s],l=o.empty();(l||e.options.showCursorWhenSelecting)&&Ue(e,o.head,i),l||Ne(e,o,a)}return n}function Ue(e,t,r){var n=ft(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(Hi("div","\xa0","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var a=r.appendChild(Hi("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=n.other.left+"px",a.style.top=n.other.top+"px",a.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function Ne(e,t,r){function n(e,t,r,n){0>t&&(t=0),t=Math.round(t),n=Math.round(n),o.appendChild(Hi("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==r?c-e:r)+"px; height: "+(n-t)+"px"))}function i(t,r,i){function a(r,n){return ht(e,Pa(t,r),"div",h,n)}var o,l,h=$n(s,t),f=h.text.length;return Zi(ni(h),r||0,null==i?f:i,function(e,t,s){var h,p,d,v=a(e,"left");if(e==t)h=v,p=d=v.left;else{if(h=a(t-1,"right"),"rtl"==s){var g=v;v=h,h=g}p=v.left,d=h.right}null==r&&0==e&&(p=u),h.top-v.top>3&&(n(p,v.top,null,v.bottom),p=u,v.bottom<h.top&&n(p,v.bottom,null,h.top)),null==i&&t==f&&(d=c),(!o||v.top<o.top||v.top==o.top&&v.left<o.left)&&(o=v),(!l||h.bottom>l.bottom||h.bottom==l.bottom&&h.right>l.right)&&(l=h),u+1>p&&(p=u),n(p,h.top,d-p,h.bottom)}),{start:o,end:l}}var a=e.display,s=e.doc,o=document.createDocumentFragment(),l=Ge(e.display),u=l.left,c=Math.max(a.sizerWidth,qe(e)-a.sizer.offsetLeft)-l.right,h=t.from(),f=t.to();if(h.line==f.line)i(h.line,h.ch,f.ch);else{var p=$n(s,h.line),d=$n(s,f.line),v=mn(p)==mn(d),g=i(h.line,h.ch,v?p.text.length+1:null).end,m=i(f.line,v?0:null,f.ch).start;v&&(g.top<m.top-2?(n(g.right,g.top,null,g.bottom),n(u,m.top,m.left,m.bottom)):n(g.right,g.top,m.left-g.right,g.bottom)),g.bottom<m.top&&n(u,g.bottom,null,m.top)}r.appendChild(o)}function De(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Be(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Ni(je,e))}function je(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=rs(t.mode,Fe(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(a){if(t.frontier>=e.display.viewFrom){var s=a.styles,o=a.text.length>e.options.maxHighlightLength,l=Rn(e,a,o?rs(t.mode,n):n,!0);a.styles=l.styles;var u=a.styleClasses,c=l.classes;c?a.styleClasses=c:u&&(a.styleClasses=null);for(var h=!s||s.length!=a.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!h&&f<s.length;++f)h=s[f]!=a.styles[f];h&&i.push(t.frontier),a.stateAfter=o?n:rs(t.mode,n)}else a.text.length<=e.options.maxHighlightLength&&Un(e,a.text,n),a.stateAfter=t.frontier%5==0?rs(t.mode,n):null;return++t.frontier,+new Date>r?(Be(e,e.options.workDelay),!0):void 0}),i.length&&Ot(e,function(){for(var t=0;t<i.length;t++)Ut(e,i[t],"text")})}}function He(e,t,r){for(var n,i,a=e.doc,s=r?-1:t-(e.doc.mode.innerMode?1e3:100),o=t;o>s;--o){if(o<=a.first)return a.first;var l=$n(a,o-1);if(l.stateAfter&&(!r||o<=a.frontier))return o;var u=Rs(l.text,null,e.options.tabSize);(null==i||n>u)&&(i=o-1,n=u)}return i}function Fe(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return!0;var a=He(e,t,r),s=a>n.first&&$n(n,a-1).stateAfter;return s=s?rs(n.mode,s):ns(n.mode),n.iter(a,t,function(r){Un(e,r.text,s);var o=a==t-1||a%5==0||a>=i.viewFrom&&a<i.viewTo;r.stateAfter=o?rs(n.mode,s):null,++a}),r&&(n.frontier=a),s}function We(e){return e.lineSpace.offsetTop}function ze(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ge(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Wi(e.measure,Hi("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Ve(e){return Os-e.display.nativeBarWidth}function qe(e){return e.display.scroller.clientWidth-Ve(e)-e.display.barWidth}function Ye(e){return e.display.scroller.clientHeight-Ve(e)-e.display.barHeight}function Xe(e,t,r){var n=e.options.lineWrapping,i=n&&qe(e);if(!t.measure.heights||n&&t.measure.width!=i){var a=t.measure.heights=[];if(n){t.measure.width=i;for(var s=t.text.firstChild.getClientRects(),o=0;o<s.length-1;o++){var l=s[o],u=s[o+1];Math.abs(l.bottom-u.bottom)>2&&a.push((l.bottom+u.top)/2-r.top)}}a.push(r.bottom-r.top)}}function Ke(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var n=0;n<e.rest.length;n++)if(ei(e.rest[n])>r)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function $e(e,t){t=mn(t);var r=ei(t),n=e.display.externalMeasured=new Pt(e.doc,t,r);n.lineN=r;var i=n.built=Dn(e,n);return n.text=i.pre,Wi(e.display.lineMeasure,i.pre),n}function Qe(e,t,r,n){return et(e,Je(e,t),r,n)}function Ze(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Dt(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Je(e,t){var r=ei(t),n=Ze(e,r);n&&!n.text?n=null:n&&n.changes&&(U(e,n,r,R(e)),e.curOp.forceUpdate=!0),n||(n=$e(e,t));var i=Ke(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function et(e,t,r,n,i){t.before&&(r=-1);var a,s=r+(n||"");return t.cache.hasOwnProperty(s)?a=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Xe(e,t.view,t.rect),t.hasHeights=!0),a=rt(e,t,r,n),a.bogus||(t.cache[s]=a)),{left:a.left,right:a.right,top:i?a.rtop:a.top,bottom:i?a.rbottom:a.bottom}}function tt(e,t,r){for(var n,i,a,s,o=0;o<e.length;o+=3){var l=e[o],u=e[o+1];if(l>t?(i=0,a=1,s="left"):u>t?(i=t-l,a=i+1):(o==e.length-3||t==u&&e[o+3]>t)&&(a=u-l,i=a-1,t>=u&&(s="right")),null!=i){if(n=e[o+2],l==u&&r==(n.insertLeft?"left":"right")&&(s=r),"left"==r&&0==i)for(;o&&e[o-2]==e[o-3]&&e[o-1].insertLeft;)n=e[(o-=3)+2],s="left";if("right"==r&&i==u-l)for(;o<e.length-3&&e[o+3]==e[o+4]&&!e[o+5].insertLeft;)n=e[(o+=3)+2],s="right";break}}return{node:n,start:i,end:a,collapse:s,coverStart:l,coverEnd:u}}function rt(e,t,r,n){var i,a=tt(t.map,r,n),s=a.node,o=a.start,l=a.end,u=a.collapse;if(3==s.nodeType){for(var c=0;4>c;c++){for(;o&&ji(t.line.text.charAt(a.coverStart+o));)--o;for(;a.coverStart+l<a.coverEnd&&ji(t.line.text.charAt(a.coverStart+l));)++l;if(da&&9>va&&0==o&&l==a.coverEnd-a.coverStart)i=s.parentNode.getBoundingClientRect();else if(da&&e.options.lineWrapping){var h=Ds(s,o,l).getClientRects();i=h.length?h["right"==n?h.length-1:0]:Ba}else i=Ds(s,o,l).getBoundingClientRect()||Ba;if(i.left||i.right||0==o)break;l=o,o-=1,u="right"}da&&11>va&&(i=nt(e.display.measure,i))}else{o>0&&(u=n="right");var h;i=e.options.lineWrapping&&(h=s.getClientRects()).length>1?h["right"==n?h.length-1:0]:s.getBoundingClientRect()}if(da&&9>va&&!o&&(!i||!i.left&&!i.right)){var f=s.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+yt(e.display),top:f.top,bottom:f.bottom}:Ba}for(var p=i.top-t.rect.top,d=i.bottom-t.rect.top,v=(p+d)/2,g=t.view.measure.heights,c=0;c<g.length-1&&!(v<g[c]);c++);var m=c?g[c-1]:0,y=g[c],b={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:m,bottom:y};return i.left||i.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=p,b.rbottom=d),b}function nt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Qi(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function it(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function at(e){e.display.externalMeasure=null,Fi(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)it(e.display.view[t])}function st(e){at(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ot(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function lt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ut(e,t,r,n){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var a=Tn(t.widgets[i]);r.top+=a,r.bottom+=a}if("line"==n)return r;n||(n="local");var s=ri(t);if("local"==n?s+=We(e.display):s-=e.display.viewOffset,"page"==n||"window"==n){var o=e.display.lineSpace.getBoundingClientRect();s+=o.top+("window"==n?0:lt());var l=o.left+("window"==n?0:ot());r.left+=l,r.right+=l}return r.top+=s,r.bottom+=s,r}function ct(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=ot(),i-=lt();else if("local"==r||!r){var a=e.display.sizer.getBoundingClientRect();n+=a.left,i+=a.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:i-s.top}}function ht(e,t,r,n,i){return n||(n=$n(e.doc,t.line)),ut(e,n,Qe(e,n,t.ch,i),r)}function ft(e,t,r,n,i,a){function s(t,s){var o=et(e,i,t,s?"right":"left",a);return s?o.left=o.right:o.right=o.left,ut(e,n,o,r)}function o(e,t){var r=l[t],n=r.level%2;return e==Ji(r)&&t&&r.level<l[t-1].level?(r=l[--t],e=ea(r)-(r.level%2?0:1),n=!0):e==ea(r)&&t<l.length-1&&r.level<l[t+1].level&&(r=l[++t],e=Ji(r)-r.level%2,n=!1),n&&e==r.to&&e>r.from?s(e-1):s(e,n)}n=n||$n(e.doc,t.line),i||(i=Je(e,n));var l=ni(n),u=t.ch;if(!l)return s(u);var c=oa(l,u),h=o(u,c);return null!=Js&&(h.other=o(u,Js)),h}function pt(e,t){var r=0,t=ge(e.doc,t);e.options.lineWrapping||(r=yt(e.display)*t.ch);var n=$n(e.doc,t.line),i=ri(n)+We(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function dt(e,t,r,n){var i=Pa(e,t);return i.xRel=n,r&&(i.outside=!0),i}function vt(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,0>r)return dt(n.first,0,!0,-1);var i=ti(n,r),a=n.first+n.size-1;if(i>a)return dt(n.first+n.size-1,$n(n,a).text.length,!0,1);0>t&&(t=0);for(var s=$n(n,i);;){var o=gt(e,s,i,t,r),l=vn(s),u=l&&l.find(0,!0);if(!l||!(o.ch>u.from.ch||o.ch==u.from.ch&&o.xRel>0))return o;i=ei(s=u.to.line)}}function gt(e,t,r,n,i){function a(n){var i=ft(e,Pa(r,n),"line",t,u);return o=!0,s>i.bottom?i.left-l:s<i.top?i.left+l:(o=!1,i.left)}var s=i-ri(t),o=!1,l=2*e.display.wrapper.clientWidth,u=Je(e,t),c=ni(t),h=t.text.length,f=ta(t),p=ra(t),d=a(f),v=o,g=a(p),m=o;if(n>g)return dt(r,p,m,1);for(;;){if(c?p==f||p==ua(t,f,1):1>=p-f){for(var y=d>n||g-n>=n-d?f:p,b=n-(y==f?d:g);ji(t.text.charAt(y));)++y;var x=dt(r,y,y==f?v:m,-1>b?-1:b>1?1:0);return x}var w=Math.ceil(h/2),S=f+w;if(c){S=f;for(var _=0;w>_;++_)S=ua(t,S,1)}var T=a(S);T>n?(p=S,g=T,(m=o)&&(g+=1e3),h=w):(f=S,d=T,v=o,h-=w)}}function mt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ua){Ua=Hi("pre");for(var t=0;49>t;++t)Ua.appendChild(document.createTextNode("x")),Ua.appendChild(Hi("br"));Ua.appendChild(document.createTextNode("x"))}Wi(e.measure,Ua);var r=Ua.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),Fi(e.measure),r||1}function yt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Hi("span","xxxxxxxxxx"),r=Hi("pre",[t]);Wi(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function bt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ha},ja?ja.ops.push(e.curOp):e.curOp.ownsGroup=ja={ops:[e.curOp],delayedCallbacks:[]}}function xt(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function wt(e){var t=e.curOp,r=t.ownsGroup;if(r)try{xt(r)}finally{ja=null;for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;St(r)}}function St(e){for(var t=e.ops,r=0;r<t.length;r++)_t(t[r]);for(var r=0;r<t.length;r++)Tt(t[r]);for(var r=0;r<t.length;r++)kt(t[r]);for(var r=0;r<t.length;r++)Ct(t[r]);for(var r=0;r<t.length;r++)At(t[r])}function _t(e){var t=e.cm,r=t.display;C(t),e.updateMaxLine&&f(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new k(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Tt(e){e.updatedDisplay=e.mustUpdate&&A(e.cm,e.update)}function kt(e){var t=e.cm,r=t.display;e.updatedDisplay&&E(t),e.barMeasure=d(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Qe(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Ve(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-qe(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Ct(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&nr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&L(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.selectionChanged&&De(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),e.focus&&e.focus==zi()&&$(e.cm)}function At(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&O(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null==e.scrollTop||r.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(n.scrollTop=Math.max(0,Math.min(r.scroller.scrollHeight-r.scroller.clientHeight,e.scrollTop)),r.scrollbars.setScrollTop(n.scrollTop),r.scroller.scrollTop=n.scrollTop),null==e.scrollLeft||r.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(n.scrollLeft=Math.max(0,Math.min(r.scroller.scrollWidth-qe(t),e.scrollLeft)),r.scrollbars.setScrollLeft(n.scrollLeft),r.scroller.scrollLeft=n.scrollLeft,w(t)),e.scrollToPos){var i=Pr(t,ge(n,e.scrollToPos.from),ge(n,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Er(t,i)}var a=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(a)for(var o=0;o<a.length;++o)a[o].lines.length||Cs(a[o],"hide");if(s)for(var o=0;o<s.length;++o)s[o].lines.length&&Cs(s[o],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Cs(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ot(e,t){if(e.curOp)return t();bt(e);try{return t()}finally{wt(e)}}function Mt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);bt(e);try{return t.apply(e,arguments)}finally{wt(e)}}}function Lt(e){return function(){if(this.curOp)return e.apply(this,arguments);bt(this);try{return e.apply(this,arguments)}finally{wt(this)}}}function Et(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);bt(t);try{return e.apply(this,arguments)}finally{wt(t)}}}function Pt(e,t,r){this.line=t,this.rest=yn(t),this.size=this.rest?ei(Li(this.rest))-r+1:1,this.node=this.text=null,this.hidden=wn(e,t)}function Rt(e,t,r){for(var n,i=[],a=t;r>a;a=n){var s=new Pt(e.doc,$n(e.doc,a),a);n=a+s.size,i.push(s)}return i}function It(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ea&&bn(e.doc,t)<i.viewTo&&Nt(e);else if(r<=i.viewFrom)Ea&&xn(e.doc,r+n)>i.viewFrom?Nt(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)Nt(e);else if(t<=i.viewFrom){var a=Bt(e,r,r+n,1);a?(i.view=i.view.slice(a.index),i.viewFrom=a.lineN,i.viewTo+=n):Nt(e)}else if(r>=i.viewTo){var a=Bt(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Nt(e)}else{var s=Bt(e,t,t,-1),o=Bt(e,r,r+n,1);s&&o?(i.view=i.view.slice(0,s.index).concat(Rt(e,s.lineN,o.lineN)).concat(i.view.slice(o.index)),i.viewTo+=n):Nt(e)}var l=i.externalMeasured;l&&(r<l.lineN?l.lineN+=n:t<l.lineN+l.size&&(i.externalMeasured=null))}function Ut(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var a=n.view[Dt(e,t)];if(null!=a.node){var s=a.changes||(a.changes=[]);-1==Ei(s,r)&&s.push(r)}}}function Nt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Dt(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var r=e.display.view,n=0;n<r.length;n++)if(t-=r[n].size,0>t)return n}function Bt(e,t,r,n){var i,a=Dt(e,t),s=e.display.view;if(!Ea||r==e.doc.first+e.doc.size)return{index:a,lineN:r};for(var o=0,l=e.display.viewFrom;a>o;o++)l+=s[o].size;if(l!=t){if(n>0){if(a==s.length-1)return null;i=l+s[a].size-t,a++}else i=l-t;t+=i,r+=i}for(;bn(e.doc,r)!=r;){if(a==(0>n?0:s.length-1))return null;r+=n*s[a-(0>n?1:0)].size,a+=n}return{index:a,lineN:r}}function jt(e,t,r){var n=e.display,i=n.view;0==i.length||t>=n.viewTo||r<=n.viewFrom?(n.view=Rt(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=Rt(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Dt(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(Rt(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,Dt(e,r)))),n.viewTo=r}function Ht(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Ft(e){function t(){i.activeTouch&&(a=setTimeout(function(){i.activeTouch=null},1e3),s=i.activeTouch,s.end=+new Date)}function r(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}var i=e.display;Ts(i.scroller,"mousedown",Mt(e,qt)),da&&11>va?Ts(i.scroller,"dblclick",Mt(e,function(t){if(!Ti(e,t)){var r=Vt(e,t);if(r&&!Qt(e,t)&&!Gt(e.display,t)){ws(t);var n=e.findWordAt(r);we(e.doc,n.anchor,n.head)}}})):Ts(i.scroller,"dblclick",function(t){Ti(e,t)||ws(t)}),Ma||Ts(i.scroller,"contextmenu",function(t){mr(e,t)});var a,s={end:0};Ts(i.scroller,"touchstart",function(e){if(!r(e)){clearTimeout(a);var t=+new Date;i.activeTouch={start:t,moved:!1,prev:t-s.end<=300?s:null},1==e.touches.length&&(i.activeTouch.left=e.touches[0].pageX,i.activeTouch.top=e.touches[0].pageY)}}),Ts(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),Ts(i.scroller,"touchend",function(r){var a=i.activeTouch;if(a&&!Gt(i,r)&&null!=a.left&&!a.moved&&new Date-a.start<300){var s,o=e.coordsChar(i.activeTouch,"page");s=!a.prev||n(a,a.prev)?new fe(o,o):!a.prev.prev||n(a,a.prev.prev)?e.findWordAt(o):new fe(Pa(o.line,0),ge(e.doc,Pa(o.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),ws(r)}t()}),Ts(i.scroller,"touchcancel",t),Ts(i.scroller,"scroll",function(){i.scroller.clientHeight&&(rr(e,i.scroller.scrollTop),nr(e,i.scroller.scrollLeft,!0),Cs(e,"scroll",e))}),Ts(i.scroller,"mousewheel",function(t){ir(e,t)}),Ts(i.scroller,"DOMMouseScroll",function(t){ir(e,t)}),Ts(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Ti(e,t)||_s(t)},over:function(t){Ti(e,t)||(er(e,t),_s(t))},start:function(t){Jt(e,t)},drop:Mt(e,Zt),leave:function(){tr(e)}};var o=i.input.getField();Ts(o,"keyup",function(t){fr.call(e,t)}),Ts(o,"keydown",Mt(e,cr)),Ts(o,"keypress",Mt(e,pr)),Ts(o,"focus",Ni(vr,e)),Ts(o,"blur",Ni(gr,e))}function Wt(t,r,n){var i=n&&n!=e.Init;if(!r!=!i){var a=t.display.dragFunctions,s=r?Ts:ks;s(t.display.scroller,"dragstart",a.start),s(t.display.scroller,"dragenter",a.enter),s(t.display.scroller,"dragover",a.over),s(t.display.scroller,"dragleave",a.leave),s(t.display.scroller,"drop",a.drop)}}function zt(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Gt(e,t){for(var r=xi(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Vt(e,t,r,n){var i=e.display;if(!r&&"true"==xi(t).getAttribute("cm-not-content"))return null;var a,s,o=i.lineSpace.getBoundingClientRect();try{a=t.clientX-o.left,s=t.clientY-o.top}catch(t){return null}var l,u=vt(e,a,s);if(n&&1==u.xRel&&(l=$n(e.doc,u.line).text).length==u.ch){var c=Rs(l,l.length,e.options.tabSize)-l.length;u=Pa(u.line,Math.max(0,Math.round((a-Ge(e.display).left)/yt(e.display))-c))}return u}function qt(e){var t=this,r=t.display;if(!(r.activeTouch&&r.input.supportsTouch()||Ti(t,e))){if(r.shift=e.shiftKey,Gt(r,e))return void(ga||(r.scroller.draggable=!1,setTimeout(function(){r.scroller.draggable=!0},100)));if(!Qt(t,e)){var n=Vt(t,e);switch(window.focus(),wi(e)){case 1:t.state.selectingText?t.state.selectingText(e):n?Yt(t,e,n):xi(e)==r.scroller&&ws(e);
break;case 2:ga&&(t.state.lastMiddleDown=+new Date),n&&we(t.doc,n),setTimeout(function(){r.input.focus()},20),ws(e);break;case 3:Ma?mr(t,e):dr(t)}}}}function Yt(e,t,r){da?setTimeout(Ni($,e),0):e.curOp.focus=zi();var n,i=+new Date;Da&&Da.time>i-400&&0==Ra(Da.pos,r)?n="triple":Na&&Na.time>i-400&&0==Ra(Na.pos,r)?(n="double",Da={time:i,pos:r}):(n="single",Na={time:i,pos:r});var a,s=e.doc.sel,o=ka?t.metaKey:t.ctrlKey;e.options.dragDrop&&Ys&&!Q(e)&&"single"==n&&(a=s.contains(r))>-1&&(Ra((a=s.ranges[a]).from(),r)<0||r.xRel>0)&&(Ra(a.to(),r)>0||r.xRel<0)?Xt(e,t,r,o):Kt(e,t,r,n,o)}function Xt(e,t,r,n){var i=e.display,a=+new Date,s=Mt(e,function(o){ga&&(i.scroller.draggable=!1),e.state.draggingText=!1,ks(document,"mouseup",s),ks(i.scroller,"drop",s),Math.abs(t.clientX-o.clientX)+Math.abs(t.clientY-o.clientY)<10&&(ws(o),!n&&+new Date-200<a&&we(e.doc,r),ga||da&&9==va?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});ga&&(i.scroller.draggable=!0),e.state.draggingText=s,i.scroller.dragDrop&&i.scroller.dragDrop(),Ts(document,"mouseup",s),Ts(i.scroller,"drop",s)}function Kt(e,t,r,n,i){function a(t){if(0!=Ra(g,t))if(g=t,"rect"==n){for(var i=[],a=e.options.tabSize,s=Rs($n(u,r.line).text,r.ch,a),o=Rs($n(u,t.line).text,t.ch,a),l=Math.min(s,o),p=Math.max(s,o),d=Math.min(r.line,t.line),v=Math.min(e.lastLine(),Math.max(r.line,t.line));v>=d;d++){var m=$n(u,d).text,y=Is(m,l,a);l==p?i.push(new fe(Pa(d,y),Pa(d,y))):m.length>y&&i.push(new fe(Pa(d,y),Pa(d,Is(m,p,a))))}i.length||i.push(new fe(r,r)),Ae(u,pe(f.ranges.slice(0,h).concat(i),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=c,x=b.anchor,w=t;if("single"!=n){if("double"==n)var S=e.findWordAt(t);else var S=new fe(Pa(t.line,0),ge(u,Pa(t.line+1,0)));Ra(S.anchor,x)>0?(w=S.head,x=K(b.from(),S.anchor)):(w=S.anchor,x=X(b.to(),S.head))}var i=f.ranges.slice(0);i[h]=new fe(ge(u,x),w),Ae(u,pe(i,h),Es)}}function s(t){var r=++y,i=Vt(e,t,!0,"rect"==n);if(i)if(0!=Ra(i,g)){e.curOp.focus=zi(),a(i);var o=x(l,u);(i.line>=o.to||i.line<o.from)&&setTimeout(Mt(e,function(){y==r&&s(t)}),150)}else{var c=t.clientY<m.top?-20:t.clientY>m.bottom?20:0;c&&setTimeout(Mt(e,function(){y==r&&(l.scroller.scrollTop+=c,s(t))}),50)}}function o(t){e.state.selectingText=!1,y=1/0,ws(t),l.input.focus(),ks(document,"mousemove",b),ks(document,"mouseup",w),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;ws(t);var c,h,f=u.sel,p=f.ranges;if(i&&!t.shiftKey?(h=u.sel.contains(r),c=h>-1?p[h]:new fe(r,r)):(c=u.sel.primary(),h=u.sel.primIndex),t.altKey)n="rect",i||(c=new fe(r,r)),r=Vt(e,t,!0,!0),h=-1;else if("double"==n){var d=e.findWordAt(r);c=e.display.shift||u.extend?xe(u,c,d.anchor,d.head):d}else if("triple"==n){var v=new fe(Pa(r.line,0),ge(u,Pa(r.line+1,0)));c=e.display.shift||u.extend?xe(u,c,v.anchor,v.head):v}else c=xe(u,c,r);i?-1==h?(h=p.length,Ae(u,pe(p.concat([c]),h),{scroll:!1,origin:"*mouse"})):p.length>1&&p[h].empty()&&"single"==n&&!t.shiftKey?(Ae(u,pe(p.slice(0,h).concat(p.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),f=u.sel):_e(u,h,c,Es):(h=0,Ae(u,new he([c],0),Es),f=u.sel);var g=r,m=l.wrapper.getBoundingClientRect(),y=0,b=Mt(e,function(e){wi(e)?s(e):o(e)}),w=Mt(e,o);e.state.selectingText=w,Ts(document,"mousemove",b),Ts(document,"mouseup",w)}function $t(e,t,r,n,i){try{var a=t.clientX,s=t.clientY}catch(t){return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&ws(t);var o=e.display,l=o.lineDiv.getBoundingClientRect();if(s>l.bottom||!Ci(e,r))return bi(t);s-=l.top-o.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var c=o.gutters.childNodes[u];if(c&&c.getBoundingClientRect().right>=a){var h=ti(e.doc,s),f=e.options.gutters[u];return i(e,r,e,h,f,t),bi(t)}}}function Qt(e,t){return $t(e,t,"gutterClick",!0,Si)}function Zt(e){var t=this;if(tr(t),!Ti(t,e)&&!Gt(t.display,e)){ws(e),da&&(Fa=+new Date);var r=Vt(t,e,!0),n=e.dataTransfer.files;if(r&&!Q(t))if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,a=Array(i),s=0,o=function(e,n){var o=new FileReader;o.onload=Mt(t,function(){if(a[n]=o.result,++s==i){r=ge(t.doc,r);var e={from:r,to:r,text:t.doc.splitLines(a.join(t.doc.lineSeparator())),origin:"paste"};Tr(t.doc,e),Ce(t.doc,de(r,Ya(e)))}}),o.readAsText(e)},l=0;i>l;++l)o(n[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var a=e.dataTransfer.getData("Text");if(a){if(t.state.draggingText&&!(ka?e.altKey:e.ctrlKey))var u=t.listSelections();if(Oe(t.doc,de(r,r)),u)for(var l=0;l<u.length;++l)Lr(t.doc,"",u[l].anchor,u[l].head,"drag");t.replaceSelection(a,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Jt(e,t){if(da&&(!e.state.draggingText||+new Date-Fa<100))return void _s(t);if(!Ti(e,t)&&!Gt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!xa)){var r=Hi("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ba&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),ba&&r.parentNode.removeChild(r)}}function er(e,t){var r=Vt(e,t);if(r){var n=document.createDocumentFragment();Ue(e,r,n),e.display.dragCursor||(e.display.dragCursor=Hi("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Wi(e.display.dragCursor,n)}}function tr(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function rr(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,ha||M(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),ha&&M(e),Be(e,100))}function nr(e,t,r){(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,w(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function ir(e,t){var r=Ga(t),n=r.x,i=r.y,a=e.display,s=a.scroller;if(n&&s.scrollWidth>s.clientWidth||i&&s.scrollHeight>s.clientHeight){if(i&&ka&&ga)e:for(var o=t.target,l=a.view;o!=s;o=o.parentNode)for(var u=0;u<l.length;u++)if(l[u].node==o){e.display.currentWheelTarget=o;break e}if(n&&!ha&&!ba&&null!=za)return i&&rr(e,Math.max(0,Math.min(s.scrollTop+i*za,s.scrollHeight-s.clientHeight))),nr(e,Math.max(0,Math.min(s.scrollLeft+n*za,s.scrollWidth-s.clientWidth))),ws(t),void(a.wheelStartX=null);if(i&&null!=za){var c=i*za,h=e.doc.scrollTop,f=h+a.wrapper.clientHeight;0>c?h=Math.max(0,h+c-50):f=Math.min(e.doc.height,f+c+50),M(e,{top:h,bottom:f})}20>Wa&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=n,a.wheelDY=i,setTimeout(function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,r=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,r&&(za=(za*Wa+r)/(Wa+1),++Wa)}},200)):(a.wheelDX+=n,a.wheelDY+=i))}}function ar(e,t,r){if("string"==typeof t&&(t=is[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{Q(e)&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=Ms}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function sr(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=ss(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&ss(t,e.options.extraKeys,r,e)||ss(t,e.options.keyMap,r,e)}function or(e,t,r,n){var i=e.state.keySeq;if(i){if(os(t))return"handled";Va.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var a=sr(e,t,n);return"multi"==a&&(e.state.keySeq=t),"handled"==a&&Si(e,"keyHandled",e,t,r),("handled"==a||"multi"==a)&&(ws(r),De(e)),i&&!a&&/\'$/.test(t)?(ws(r),!0):!!a}function lr(e,t){var r=ls(t,!0);return r?t.shiftKey&&!e.state.keySeq?or(e,"Shift-"+r,t,function(t){return ar(e,t,!0)})||or(e,r,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?ar(e,t):void 0}):or(e,r,t,function(t){return ar(e,t)}):!1}function ur(e,t,r){return or(e,"'"+r+"'",t,function(t){return ar(e,t,!0)})}function cr(e){var t=this;if(t.curOp.focus=zi(),!Ti(t,e)){da&&11>va&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=lr(t,e);ba&&(qa=n?r:null,!n&&88==r&&!$s&&(ka?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||hr(t)}}function hr(e){function t(e){18!=e.keyCode&&e.altKey||(Gs(r,"CodeMirror-crosshair"),ks(document,"keyup",t),ks(document,"mouseover",t))}var r=e.display.lineDiv;Vs(r,"CodeMirror-crosshair"),Ts(document,"keyup",t),Ts(document,"mouseover",t)}function fr(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ti(this,e)}function pr(e){var t=this;if(!(Gt(t.display,e)||Ti(t,e)||e.ctrlKey&&!e.altKey||ka&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(ba&&r==qa)return qa=null,void ws(e);if(!ba||e.which&&!(e.which<10)||!lr(t,e)){var i=String.fromCharCode(null==n?r:n);ur(t,e,i)||t.display.input.onKeyPress(e)}}}function dr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,gr(e))},100)}function vr(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Cs(e,"focus",e),e.state.focused=!0,Vs(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),ga&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),De(e))}function gr(e){e.state.delayingBlurEvent||(e.state.focused&&(Cs(e,"blur",e),e.state.focused=!1,Gs(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function mr(e,t){Gt(e.display,t)||yr(e,t)||e.display.input.onContextMenu(t)}function yr(e,t){return Ci(e,"gutterContextMenu")?$t(e,t,"gutterContextMenu",!1,Cs):!1}function br(e,t){if(Ra(e,t.from)<0)return e;if(Ra(e,t.to)<=0)return Ya(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Ya(t).ch-t.to.ch),Pa(r,n)}function xr(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new fe(br(i.anchor,t),br(i.head,t)))}return pe(r,e.sel.primIndex)}function wr(e,t,r){return e.line==t.line?Pa(r.line,e.ch-t.ch+r.ch):Pa(r.line+(e.line-t.line),e.ch)}function Sr(e,t,r){for(var n=[],i=Pa(e.first,0),a=i,s=0;s<t.length;s++){var o=t[s],l=wr(o.from,i,a),u=wr(Ya(o),i,a);if(i=o.to,a=u,"around"==r){var c=e.sel.ranges[s],h=Ra(c.head,c.anchor)<0;n[s]=new fe(h?u:l,h?l:u)}else n[s]=new fe(l,l)}return new he(n,e.sel.primIndex)}function _r(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return r&&(n.update=function(t,r,n,i){t&&(this.from=ge(e,t)),r&&(this.to=ge(e,r)),n&&(this.text=n),void 0!==i&&(this.origin=i)}),Cs(e,"beforeChange",e,n),e.cm&&Cs(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Tr(e,t,r){if(e.cm){if(!e.cm.curOp)return Mt(e.cm,Tr)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(Ci(e,"beforeChange")||e.cm&&Ci(e.cm,"beforeChange"))||(t=_r(e,t,!0))){var n=La&&!r&&on(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)kr(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text});else kr(e,t)}}function kr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Ra(t.from,t.to)){var r=xr(e,t);li(e,t,r,e.cm?e.cm.curOp.id:NaN),Or(e,t,r,nn(e,t));var n=[];Xn(e,function(e,r){r||-1!=Ei(n,e.history)||(yi(e.history,t),n.push(e.history)),Or(e,t,null,nn(e,t))})}}function Cr(e,t,r){if(!e.cm||!e.cm.state.suppressEdits){for(var n,i=e.history,a=e.sel,s="undo"==t?i.done:i.undone,o="undo"==t?i.undone:i.done,l=0;l<s.length&&(n=s[l],r?!n.ranges||n.equals(e.sel):n.ranges);l++);if(l!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;n=s.pop(),n.ranges;){if(hi(n,o),r&&!n.equals(e.sel))return void Ae(e,n,{clearRedo:!1});a=n}var u=[];hi(a,o),o.push({changes:u,generation:i.generation}),i.generation=n.generation||++i.maxGeneration;for(var c=Ci(e,"beforeChange")||e.cm&&Ci(e.cm,"beforeChange"),l=n.changes.length-1;l>=0;--l){var h=n.changes[l];if(h.origin=t,c&&!_r(e,h,!1))return void(s.length=0);u.push(ai(e,h));var f=l?xr(e,h):Li(s);Or(e,h,f,sn(e,h)),!l&&e.cm&&e.cm.scrollIntoView({from:h.from,to:Ya(h)});var p=[];Xn(e,function(e,t){t||-1!=Ei(p,e.history)||(yi(e.history,h),p.push(e.history)),Or(e,h,null,sn(e,h))})}}}}function Ar(e,t){if(0!=t&&(e.first+=t,e.sel=new he(Pi(e.sel.ranges,function(e){return new fe(Pa(e.anchor.line+t,e.anchor.ch),Pa(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){It(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Ut(e.cm,n,"gutter")}}function Or(e,t,r,n){if(e.cm&&!e.cm.curOp)return Mt(e.cm,Or)(e,t,r,n);if(t.to.line<e.first)return void Ar(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Ar(e,i),t={from:Pa(e.first,0),to:Pa(t.to.line+i,t.to.ch),text:[Li(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:Pa(a,$n(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Qn(e,t.from,t.to),r||(r=xr(e,t)),e.cm?Mr(e.cm,t,n):Vn(e,t,n),Oe(e,r,Ls)}}function Mr(e,t,r){var n=e.doc,i=e.display,s=t.from,o=t.to,l=!1,u=s.line;e.options.lineWrapping||(u=ei(mn($n(n,s.line))),n.iter(u,o.line+1,function(e){return e==i.maxLine?(l=!0,!0):void 0})),n.sel.contains(t.from,t.to)>-1&&ki(e),Vn(n,t,r,a(e)),e.options.lineWrapping||(n.iter(u,s.line+t.text.length,function(e){var t=h(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,s.line),Be(e,400);var c=t.text.length-(o.line-s.line)-1;t.full?It(e):s.line!=o.line||1!=t.text.length||Gn(e.doc,t)?It(e,s.line,o.line+1,c):Ut(e,s.line,"text");var f=Ci(e,"changes"),p=Ci(e,"change");if(p||f){var d={from:s,to:o,text:t.text,removed:t.removed,origin:t.origin};p&&Si(e,"change",e,d),f&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function Lr(e,t,r,n,i){if(n||(n=r),Ra(n,r)<0){var a=n;n=r,r=a}"string"==typeof t&&(t=e.splitLines(t)),Tr(e,{from:r,to:n,text:t,origin:i})}function Er(e,t){if(!Ti(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Sa){var a=Hi("div","\u200b",null,"position: absolute; top: "+(t.top-r.viewOffset-We(e.display))+"px; height: "+(t.bottom-t.top+Ve(e)+r.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(i),e.display.lineSpace.removeChild(a)}}}function Pr(e,t,r,n){null==n&&(n=0);for(var i=0;5>i;i++){var a=!1,s=ft(e,t),o=r&&r!=t?ft(e,r):s,l=Ir(e,Math.min(s.left,o.left),Math.min(s.top,o.top)-n,Math.max(s.left,o.left),Math.max(s.bottom,o.bottom)+n),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=l.scrollTop&&(rr(e,l.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=l.scrollLeft&&(nr(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(a=!0)),!a)break}return s}function Rr(e,t,r,n,i){var a=Ir(e,t,r,n,i);null!=a.scrollTop&&rr(e,a.scrollTop),null!=a.scrollLeft&&nr(e,a.scrollLeft)}function Ir(e,t,r,n,i){var a=e.display,s=mt(e.display);0>r&&(r=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:a.scroller.scrollTop,l=Ye(e),u={};i-r>l&&(i=r+l);var c=e.doc.height+ze(a),h=s>r,f=i>c-s;if(o>r)u.scrollTop=h?0:r;else if(i>o+l){var p=Math.min(r,(f?c:i)-l);p!=o&&(u.scrollTop=p)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:a.scroller.scrollLeft,v=qe(e)-(e.options.fixedGutter?a.gutters.offsetWidth:0),g=n-t>v;return g&&(n=t+v),10>t?u.scrollLeft=0:d>t?u.scrollLeft=Math.max(0,t-(g?0:10)):n>v+d-3&&(u.scrollLeft=n+(g?0:10)-v),u}function Ur(e,t,r){(null!=t||null!=r)&&Dr(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=r&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+r)}function Nr(e){Dr(e);var t=e.getCursor(),r=t,n=t;e.options.lineWrapping||(r=t.ch?Pa(t.line,t.ch-1):t,n=Pa(t.line,t.ch+1)),e.curOp.scrollToPos={from:r,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function Dr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=pt(e,t.from),n=pt(e,t.to),i=Ir(e,Math.min(r.left,n.left),Math.min(r.top,n.top)-t.margin,Math.max(r.right,n.right),Math.max(r.bottom,n.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function Br(e,t,r,n){var i,a=e.doc;null==r&&(r="add"),"smart"==r&&(a.mode.indent?i=Fe(e,t):r="prev");var s=e.options.tabSize,o=$n(a,t),l=Rs(o.text,null,s);o.stateAfter&&(o.stateAfter=null);var u,c=o.text.match(/^\s*/)[0];if(n||/\S/.test(o.text)){if("smart"==r&&(u=a.mode.indent(i,o.text.slice(c.length),o.text),u==Ms||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>a.first?Rs($n(a,t-1).text,null,s):0:"add"==r?u=l+e.options.indentUnit:"subtract"==r?u=l-e.options.indentUnit:"number"==typeof r&&(u=l+r),u=Math.max(0,u);var h="",f=0;if(e.options.indentWithTabs)for(var p=Math.floor(u/s);p;--p)f+=s,h+="	";if(u>f&&(h+=Mi(u-f)),h!=c)return Lr(a,h,Pa(t,0),Pa(t,c.length),"+input"),o.stateAfter=null,!0;for(var p=0;p<a.sel.ranges.length;p++){var d=a.sel.ranges[p];if(d.head.line==t&&d.head.ch<c.length){var f=Pa(t,c.length);_e(a,p,new fe(f,f));break}}}function jr(e,t,r,n){var i=t,a=t;return"number"==typeof t?a=$n(e,ve(e,t)):i=ei(t),null==i?null:(n(a,i)&&e.cm&&Ut(e.cm,i,r),a)}function Hr(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var a=t(r[i]);n.length&&Ra(a.from,Li(n).to)<=0;){var s=n.pop();if(Ra(s.from,a.from)<0){a.from=s.from;break}}n.push(a)}Ot(e,function(){for(var t=n.length-1;t>=0;t--)Lr(e.doc,"",n[t].from,n[t].to,"+delete");Nr(e)})}function Fr(e,t,r,n,i){function a(){var t=o+r;return t<e.first||t>=e.first+e.size?h=!1:(o=t,c=$n(e,t))}function s(e){var t=(i?ua:ca)(c,l,r,!0);if(null==t){if(e||!a())return h=!1;l=i?(0>r?ra:ta)(c):0>r?c.text.length:0}else l=t;return!0}var o=t.line,l=t.ch,u=r,c=$n(e,o),h=!0;if("char"==n)s();else if("column"==n)s(!0);else if("word"==n||"group"==n)for(var f=null,p="group"==n,d=e.cm&&e.cm.getHelper(t,"wordChars"),v=!0;!(0>r)||s(!v);v=!1){var g=c.text.charAt(l)||"\n",m=Di(g,d)?"w":p&&"\n"==g?"n":!p||/\s/.test(g)?null:"p";if(!p||v||m||(m="s"),f&&f!=m){0>r&&(r=1,s());break}if(m&&(f=m),r>0&&!s(!v))break}var y=Pe(e,Pa(o,l),u,!0);return h||(y.hitSide=!0),y}function Wr(e,t,r,n){var i,a=e.doc,s=t.left;if("page"==n){var o=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+r*(o-(0>r?1.5:.5)*mt(e.display))}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;;){var l=vt(e,s,i);if(!l.outside)break;if(0>r?0>=i:i>=a.height){l.hitSide=!0;break}i+=5*r}return l}function zr(t,r,n,i){e.defaults[t]=r,n&&(Ka[t]=i?function(e,t,r){r!=$a&&n(e,t,r)}:n)}function Gr(e){for(var t,r,n,i,a=e.split(/-(?!$)/),e=a[a.length-1],s=0;s<a.length-1;s++){var o=a[s];if(/^(cmd|meta|m)$/i.test(o))i=!0;else if(/^a(lt)?$/i.test(o))t=!0;else if(/^(c|ctrl|control)$/i.test(o))r=!0;else{if(!/^s(hift)$/i.test(o))throw new Error("Unrecognized modifier name: "+o);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Vr(e){return"string"==typeof e?as[e]:e}function qr(e,t,r,n,i){if(n&&n.shared)return Yr(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return Mt(e.cm,qr)(e,t,r,n,i);var a=new hs(e,i),s=Ra(t,r);if(n&&Ui(n,a,!1),s>0||0==s&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=Hi("span",[a.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(gn(e,t.line,t,r,a)||t.line!=r.line&&gn(e,r.line,t,r,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ea=!0}a.addToHistory&&li(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var o,l=t.line,u=e.cm;if(e.iter(l,r.line+1,function(e){u&&a.collapsed&&!u.options.lineWrapping&&mn(e)==u.display.maxLine&&(o=!0),a.collapsed&&l!=t.line&&Jn(e,0),en(e,new Qr(a,l==t.line?t.ch:null,l==r.line?r.ch:null)),++l}),a.collapsed&&e.iter(t.line,r.line+1,function(t){wn(e,t)&&Jn(t,0)}),a.clearOnEnter&&Ts(a,"beforeCursorEnter",function(){a.clear()}),a.readOnly&&(La=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++cs,a.atomic=!0),u){if(o&&(u.curOp.updateMaxLine=!0),a.collapsed)It(u,t.line,r.line+1);else if(a.className||a.title||a.startStyle||a.endStyle||a.css)for(var c=t.line;c<=r.line;c++)Ut(u,c,"text");a.atomic&&Le(u.doc),Si(u,"markerAdded",u,a)}return a}function Yr(e,t,r,n,i){n=Ui(n),n.shared=!1;var a=[qr(e,t,r,n,i)],s=a[0],o=n.widgetNode;return Xn(e,function(e){o&&(n.widgetNode=o.cloneNode(!0)),a.push(qr(e,ge(e,t),ge(e,r),n,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=Li(a)}),new fs(a,s)}function Xr(e){return e.findMarks(Pa(e.first,0),e.clipPos(Pa(e.lastLine())),function(e){return e.parent})}function Kr(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),a=e.clipPos(i.from),s=e.clipPos(i.to);if(Ra(a,s)){var o=qr(e,a,s,n.primary,n.primary.type);n.markers.push(o),o.parent=n}}}function $r(e){for(var t=0;t<e.length;t++){var r=e[t],n=[r.primary.doc];Xn(r.primary.doc,function(e){n.push(e)});for(var i=0;i<r.markers.length;i++){var a=r.markers[i];-1==Ei(n,a.doc)&&(a.parent=null,r.markers.splice(i--,1))}}}function Qr(e,t,r){this.marker=e,this.from=t,this.to=r}function Zr(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Jr(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function en(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function tn(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var a=e[i],s=a.marker,o=null==a.from||(s.inclusiveLeft?a.from<=t:a.from<t);if(o||a.from==t&&"bookmark"==s.type&&(!r||!a.marker.insertLeft)){var l=null==a.to||(s.inclusiveRight?a.to>=t:a.to>t);(n||(n=[])).push(new Qr(s,a.from,l?null:a.to))}}return n}function rn(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var a=e[i],s=a.marker,o=null==a.to||(s.inclusiveRight?a.to>=t:a.to>t);if(o||a.from==t&&"bookmark"==s.type&&(!r||a.marker.insertLeft)){var l=null==a.from||(s.inclusiveLeft?a.from<=t:a.from<t);(n||(n=[])).push(new Qr(s,l?null:a.from-t,null==a.to?null:a.to-t))}}return n}function nn(e,t){if(t.full)return null;var r=ye(e,t.from.line)&&$n(e,t.from.line).markedSpans,n=ye(e,t.to.line)&&$n(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,a=t.to.ch,s=0==Ra(t.from,t.to),o=tn(r,i,s),l=rn(n,a,s),u=1==t.text.length,c=Li(t.text).length+(u?i:0);if(o)for(var h=0;h<o.length;++h){var f=o[h];if(null==f.to){var p=Zr(l,f.marker);p?u&&(f.to=null==p.to?null:p.to+c):f.to=i}}if(l)for(var h=0;h<l.length;++h){var f=l[h];if(null!=f.to&&(f.to+=c),null==f.from){var p=Zr(o,f.marker);p||(f.from=c,u&&(o||(o=[])).push(f))}else f.from+=c,u&&(o||(o=[])).push(f)}o&&(o=an(o)),l&&l!=o&&(l=an(l));var d=[o];if(!u){var v,g=t.text.length-2;if(g>0&&o)for(var h=0;h<o.length;++h)null==o[h].to&&(v||(v=[])).push(new Qr(o[h].marker,null,null));for(var h=0;g>h;++h)d.push(v);d.push(l)}return d}function an(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function sn(e,t){var r=di(e,t),n=nn(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var a=r[i],s=n[i];if(a&&s)e:for(var o=0;o<s.length;++o){for(var l=s[o],u=0;u<a.length;++u)if(a[u].marker==l.marker)continue e;a.push(l)}else s&&(r[i]=s)}return r}function on(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=Ei(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],a=0;a<n.length;++a)for(var s=n[a],o=s.find(0),l=0;l<i.length;++l){var u=i[l];if(!(Ra(u.to,o.from)<0||Ra(u.from,o.to)>0)){var c=[l,1],h=Ra(u.from,o.from),f=Ra(u.to,o.to);(0>h||!s.inclusiveLeft&&!h)&&c.push({from:u.from,to:o.from}),(f>0||!s.inclusiveRight&&!f)&&c.push({from:o.to,to:u.to}),i.splice.apply(i,c),l+=c.length-1}}return i}function ln(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function un(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function cn(e){return e.inclusiveLeft?-1:0}function hn(e){return e.inclusiveRight?1:0}function fn(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),a=Ra(n.from,i.from)||cn(e)-cn(t);if(a)return-a;var s=Ra(n.to,i.to)||hn(e)-hn(t);return s?s:t.id-e.id}function pn(e,t){var r,n=Ea&&e.markedSpans;if(n)for(var i,a=0;a<n.length;++a)i=n[a],i.marker.collapsed&&null==(t?i.from:i.to)&&(!r||fn(r,i.marker)<0)&&(r=i.marker);return r}function dn(e){return pn(e,!0)}function vn(e){return pn(e,!1)}function gn(e,t,r,n,i){var a=$n(e,t),s=Ea&&a.markedSpans;if(s)for(var o=0;o<s.length;++o){var l=s[o];if(l.marker.collapsed){var u=l.marker.find(0),c=Ra(u.from,r)||cn(l.marker)-cn(i),h=Ra(u.to,n)||hn(l.marker)-hn(i);if(!(c>=0&&0>=h||0>=c&&h>=0)&&(0>=c&&(Ra(u.to,r)>0||l.marker.inclusiveRight&&i.inclusiveLeft)||c>=0&&(Ra(u.from,n)<0||l.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function mn(e){for(var t;t=dn(e);)e=t.find(-1,!0).line;return e}function yn(e){for(var t,r;t=vn(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function bn(e,t){var r=$n(e,t),n=mn(r);return r==n?t:ei(n)}function xn(e,t){if(t>e.lastLine())return t;var r,n=$n(e,t);if(!wn(e,n))return t;for(;r=vn(n);)n=r.find(1,!0).line;return ei(n)+1}function wn(e,t){var r=Ea&&t.markedSpans;if(r)for(var n,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Sn(e,t,n))return!0}}function Sn(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return Sn(e,n.line,Zr(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i,a=0;a<t.markedSpans.length;++a)if(i=t.markedSpans[a],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Sn(e,t,i))return!0}function _n(e,t,r){ri(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ur(e,null,r)}function Tn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Fs(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),Wi(t.display.measure,Hi("div",[e.node],null,r))}return e.height=e.node.offsetHeight}function kn(e,t,r,n){var i=new ps(e,r,n),a=e.cm;return a&&i.noHScroll&&(a.display.alignWidgets=!0),jr(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,a&&!wn(e,t)){var n=ri(t)<e.scrollTop;Jn(t,t.height+Tn(i)),n&&Ur(a,null,i.height),a.curOp.forceUpdate=!0}return!0}),i}function Cn(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ln(e),un(e,r);var i=n?n(e):1;i!=e.height&&Jn(e,i)}function An(e){e.parent=null,ln(e)}function On(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function Mn(t,r){if(t.blankLine)return t.blankLine(r);if(t.innerMode){var n=e.innerMode(t,r);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Ln(t,r,n,i){for(var a=0;10>a;a++){i&&(i[0]=e.innerMode(t,n).mode);var s=t.token(r,n);if(r.pos>r.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}function En(e,t,r,n){function i(e){return{start:h.start,end:h.pos,string:h.current(),type:a||null,state:e?rs(s.mode,c):c}}var a,s=e.doc,o=s.mode;t=ge(s,t);var l,u=$n(s,t.line),c=Fe(e,t.line,r),h=new us(u.text,e.options.tabSize);for(n&&(l=[]);(n||h.pos<t.ch)&&!h.eol();)h.start=h.pos,a=Ln(o,h,c),n&&l.push(i(!0));return n?l:i()}function Pn(e,t,r,n,i,a,s){var o=r.flattenSpans;null==o&&(o=e.options.flattenSpans);var l,u=0,c=null,h=new us(t,e.options.tabSize),f=e.options.addModeClass&&[null];for(""==t&&On(Mn(r,n),a);!h.eol();){if(h.pos>e.options.maxHighlightLength?(o=!1,s&&Un(e,t,n,h.pos),h.pos=t.length,l=null):l=On(Ln(r,h,n,f),a),f){var p=f[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!o||c!=l){for(;u<h.start;)u=Math.min(h.start,u+5e4),i(u,c);c=l}h.start=h.pos}for(;u<h.pos;){var d=Math.min(h.pos,u+5e4);i(d,c),u=d}}function Rn(e,t,r,n){var i=[e.state.modeGen],a={};Pn(e,t.text,e.doc.mode,r,function(e,t){i.push(e,t)},a,n);for(var s=0;s<e.state.overlays.length;++s){var o=e.state.overlays[s],l=1,u=0;Pn(e,t.text,o.mode,!0,function(e,t){for(var r=l;e>u;){var n=i[l];n>e&&i.splice(l,1,e,i[l+1],n),l+=2,u=Math.min(e,n)}if(t)if(o.opaque)i.splice(r,l-r,e,"cm-overlay "+t),l=r+2;else for(;l>r;r+=2){var a=i[r+1];i[r+1]=(a?a+" ":"")+"cm-overlay "+t}},a)}return{styles:i,classes:a.bgClass||a.textClass?a:null}}function In(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Fe(e,ei(t)),i=Rn(e,t,t.text.length>e.options.maxHighlightLength?rs(e.doc.mode,n):n);t.stateAfter=n,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.frontier&&e.doc.frontier++}return t.styles}function Un(e,t,r,n){var i=e.doc.mode,a=new us(t,e.options.tabSize);for(a.start=a.pos=n||0,""==t&&Mn(i,r);!a.eol();)Ln(i,a,r),a.start=a.pos}function Nn(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?gs:vs;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Dn(e,t){var r=Hi("span",null,null,ga?"padding-right: .1px":null),n={pre:Hi("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,splitSpaces:(da||ga)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var a,s=i?t.rest[i-1]:t.line;n.pos=0,n.addToken=jn,$i(e.display.measure)&&(a=ni(s))&&(n.addToken=Fn(n.addToken,a)),n.map=[];var o=t!=e.display.externalMeasured&&ei(s);zn(s,n,In(e,s,o)),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=Vi(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=Vi(s.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Ki(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return ga&&/\bcm-tab\b/.test(n.content.lastChild.className)&&(n.content.className="cm-tab-wrap-hack"),Cs(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=Vi(n.pre.className,n.textClass||"")),n}function Bn(e){var t=Hi("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function jn(e,t,r,n,i,a,s){if(t){var o=e.splitSpaces?t.replace(/ {3,}/g,Hn):t,l=e.cm.state.specialChars,u=!1;if(l.test(t))for(var c=document.createDocumentFragment(),h=0;;){l.lastIndex=h;var f=l.exec(t),p=f?f.index-h:t.length-h;if(p){var d=document.createTextNode(o.slice(h,h+p));da&&9>va?c.appendChild(Hi("span",[d])):c.appendChild(d),e.map.push(e.pos,e.pos+p,d),e.col+=p,e.pos+=p}if(!f)break;if(h+=p+1,"	"==f[0]){var v=e.cm.options.tabSize,g=v-e.col%v,d=c.appendChild(Hi("span",Mi(g),"cm-tab"));d.setAttribute("role","presentation"),d.setAttribute("cm-text","	"),e.col+=g}else if("\r"==f[0]||"\n"==f[0]){var d=c.appendChild(Hi("span","\r"==f[0]?"\u240d":"\u2424","cm-invalidchar"));d.setAttribute("cm-text",f[0]),e.col+=1}else{var d=e.cm.options.specialCharPlaceholder(f[0]);d.setAttribute("cm-text",f[0]),da&&9>va?c.appendChild(Hi("span",[d])):c.appendChild(d),e.col+=1}e.map.push(e.pos,e.pos+1,d),e.pos++}else{e.col+=t.length;var c=document.createTextNode(o);e.map.push(e.pos,e.pos+t.length,c),da&&9>va&&(u=!0),e.pos+=t.length}if(r||n||i||u||s){var m=r||"";n&&(m+=n),i&&(m+=i);var y=Hi("span",[c],m,s);return a&&(y.title=a),e.content.appendChild(y)}e.content.appendChild(c)}}function Hn(e){for(var t=" ",r=0;r<e.length-2;++r)t+=r%2?" ":"\xa0";return t+=" "}function Fn(e,t){return function(r,n,i,a,s,o,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var h=0;h<t.length;h++){var f=t[h];if(f.to>u&&f.from<=u)break}if(f.to>=c)return e(r,n,i,a,s,o,l);e(r,n.slice(0,f.to-u),i,a,null,o,l),a=null,n=n.slice(f.to-u),u=f.to}}}function Wn(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),
i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function zn(e,t,r){var n=e.markedSpans,i=e.text,a=0;if(n)for(var s,o,l,u,c,h,f,p=i.length,d=0,v=1,g="",m=0;;){if(m==d){l=u=c=h=o="",f=null,m=1/0;for(var y=[],b=0;b<n.length;++b){var x=n[b],w=x.marker;"bookmark"==w.type&&x.from==d&&w.widgetNode?y.push(w):x.from<=d&&(null==x.to||x.to>d||w.collapsed&&x.to==d&&x.from==d)?(null!=x.to&&x.to!=d&&m>x.to&&(m=x.to,u=""),w.className&&(l+=" "+w.className),w.css&&(o=w.css),w.startStyle&&x.from==d&&(c+=" "+w.startStyle),w.endStyle&&x.to==m&&(u+=" "+w.endStyle),w.title&&!h&&(h=w.title),w.collapsed&&(!f||fn(f.marker,w)<0)&&(f=x)):x.from>d&&m>x.from&&(m=x.from)}if(f&&(f.from||0)==d){if(Wn(t,(null==f.to?p+1:f.to)-d,f.marker,null==f.from),null==f.to)return;f.to==d&&(f=!1)}if(!f&&y.length)for(var b=0;b<y.length;++b)Wn(t,0,y[b])}if(d>=p)break;for(var S=Math.min(p,m);;){if(g){var _=d+g.length;if(!f){var T=_>S?g.slice(0,S-d):g;t.addToken(t,T,s?s+l:l,c,d+T.length==m?u:"",h,o)}if(_>=S){g=g.slice(S-d),d=S;break}d=_,c=""}g=i.slice(a,a=r[v++]),s=Nn(r[v++],t.cm.options)}}else for(var v=1;v<r.length;v+=2)t.addToken(t,i.slice(a,a=r[v]),Nn(r[v+1],t.cm.options))}function Gn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Li(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Vn(e,t,r,n){function i(e){return r?r[e]:null}function a(e,r,i){Cn(e,r,i,n),Si(e,"change",e,t)}function s(e,t){for(var r=e,a=[];t>r;++r)a.push(new ds(u[r],i(r),n));return a}var o=t.from,l=t.to,u=t.text,c=$n(e,o.line),h=$n(e,l.line),f=Li(u),p=i(u.length-1),d=l.line-o.line;if(t.full)e.insert(0,s(0,u.length)),e.remove(u.length,e.size-u.length);else if(Gn(e,t)){var v=s(0,u.length-1);a(h,h.text,p),d&&e.remove(o.line,d),v.length&&e.insert(o.line,v)}else if(c==h)if(1==u.length)a(c,c.text.slice(0,o.ch)+f+c.text.slice(l.ch),p);else{var v=s(1,u.length-1);v.push(new ds(f+c.text.slice(l.ch),p,n)),a(c,c.text.slice(0,o.ch)+u[0],i(0)),e.insert(o.line+1,v)}else if(1==u.length)a(c,c.text.slice(0,o.ch)+u[0]+h.text.slice(l.ch),i(0)),e.remove(o.line+1,d);else{a(c,c.text.slice(0,o.ch)+u[0],i(0)),a(h,f+h.text.slice(l.ch),p);var v=s(1,u.length-1);d>1&&e.remove(o.line+1,d-1),e.insert(o.line+1,v)}Si(e,"change",e,t)}function qn(e){this.lines=e,this.parent=null;for(var t=0,r=0;t<e.length;++t)e[t].parent=this,r+=e[t].height;this.height=r}function Yn(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}function Xn(e,t,r){function n(e,i,a){if(e.linked)for(var s=0;s<e.linked.length;++s){var o=e.linked[s];if(o.doc!=i){var l=a&&o.sharedHist;(!r||l)&&(t(o.doc,l),n(o.doc,e,l))}}}n(e,null,!0)}function Kn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,s(e),r(e),e.options.lineWrapping||f(e),e.options.mode=t.modeOption,It(e)}function $n(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],a=i.chunkSize();if(a>t){r=i;break}t-=a}return r.lines[t]}function Qn(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var a=e.text;i==r.line&&(a=a.slice(0,r.ch)),i==t.line&&(a=a.slice(t.ch)),n.push(a),++i}),n}function Zn(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function Jn(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function ei(e){if(null==e.parent)return null;for(var t=e.parent,r=Ei(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function ti(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],a=i.height;if(a>t){e=i;continue e}t-=a,r+=i.chunkSize()}return r}while(!e.lines);for(var n=0;n<e.lines.length;++n){var s=e.lines[n],o=s.height;if(o>t)break;t-=o}return r+n}function ri(e){e=mn(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var a=r.parent;a;r=a,a=r.parent)for(var n=0;n<a.children.length;++n){var s=a.children[n];if(s==r)break;t+=s.height}return t}function ni(e){var t=e.order;return null==t&&(t=e.order=eo(e.text)),t}function ii(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ai(e,t){var r={from:Y(t.from),to:Ya(t),text:Qn(e,t.from,t.to)};return fi(e,r,t.from.line,t.to.line+1),Xn(e,function(e){fi(e,r,t.from.line,t.to.line+1)},!0),r}function si(e){for(;e.length;){var t=Li(e);if(!t.ranges)break;e.pop()}}function oi(e,t){return t?(si(e.done),Li(e.done)):e.done.length&&!Li(e.done).ranges?Li(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Li(e.done)):void 0}function li(e,t,r,n){var i=e.history;i.undone.length=0;var a,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(a=oi(i,i.lastOp==n))){var o=Li(a.changes);0==Ra(t.from,t.to)&&0==Ra(t.from,o.to)?o.to=Ya(t):a.changes.push(ai(e,t))}else{var l=Li(i.done);for(l&&l.ranges||hi(e.sel,i.done),a={changes:[ai(e,t)],generation:i.generation},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,o||Cs(e,"historyAdded")}function ui(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ci(e,t,r,n){var i=e.history,a=n&&n.origin;r==i.lastSelOp||a&&i.lastSelOrigin==a&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==a||ui(e,a,Li(i.done),t))?i.done[i.done.length-1]=t:hi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=a,i.lastSelOp=r,n&&n.clearRedo!==!1&&si(i.undone)}function hi(e,t){var r=Li(t);r&&r.ranges&&r.equals(e)||t.push(e)}function fi(e,t,r,n){var i=t["spans_"+e.id],a=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[a]=r.markedSpans),++a})}function pi(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function di(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=0,i=[];n<t.text.length;++n)i.push(pi(r[n]));return i}function vi(e,t,r){for(var n=0,i=[];n<e.length;++n){var a=e[n];if(a.ranges)i.push(r?he.prototype.deepCopy.call(a):a);else{var s=a.changes,o=[];i.push({changes:o});for(var l=0;l<s.length;++l){var u,c=s[l];if(o.push({from:c.from,to:c.to,text:c.text}),t)for(var h in c)(u=h.match(/^spans_(\d+)$/))&&Ei(t,Number(u[1]))>-1&&(Li(o)[h]=c[h],delete c[h])}}}return i}function gi(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function mi(e,t,r,n){for(var i=0;i<e.length;++i){var a=e[i],s=!0;if(a.ranges){a.copied||(a=e[i]=a.deepCopy(),a.copied=!0);for(var o=0;o<a.ranges.length;o++)gi(a.ranges[o].anchor,t,r,n),gi(a.ranges[o].head,t,r,n)}else{for(var o=0;o<a.changes.length;++o){var l=a.changes[o];if(r<l.from.line)l.from=Pa(l.from.line+n,l.from.ch),l.to=Pa(l.to.line+n,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,i+1),i=0)}}}function yi(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;mi(e.done,r,n,i),mi(e.undone,r,n,i)}function bi(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function xi(e){return e.target||e.srcElement}function wi(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),ka&&e.ctrlKey&&1==t&&(t=3),t}function Si(e,t){function r(e){return function(){e.apply(null,a)}}var n=e._handlers&&e._handlers[t];if(n){var i,a=Array.prototype.slice.call(arguments,2);ja?i=ja.delayedCallbacks:As?i=As:(i=As=[],setTimeout(_i,0));for(var s=0;s<n.length;++s)i.push(r(n[s]))}}function _i(){var e=As;As=null;for(var t=0;t<e.length;++t)e[t]()}function Ti(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Cs(e,r||t.type,e,t),bi(t)||t.codemirrorIgnore}function ki(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==Ei(r,t[n])&&r.push(t[n])}function Ci(e,t){var r=e._handlers&&e._handlers[t];return r&&r.length>0}function Ai(e){e.prototype.on=function(e,t){Ts(this,e,t)},e.prototype.off=function(e,t){ks(this,e,t)}}function Oi(){this.id=null}function Mi(e){for(;Us.length<=e;)Us.push(Li(Us)+" ");return Us[e]}function Li(e){return e[e.length-1]}function Ei(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function Pi(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Ri(){}function Ii(e,t){var r;return Object.create?r=Object.create(e):(Ri.prototype=e,r=new Ri),t&&Ui(t,r),r}function Ui(e,t,r){t||(t={});for(var n in e)!e.hasOwnProperty(n)||r===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function Ni(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Di(e,t){return t?t.source.indexOf("\\w")>-1&&js(e)?!0:t.test(e):js(e)}function Bi(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function ji(e){return e.charCodeAt(0)>=768&&Hs.test(e)}function Hi(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)i.appendChild(t[a]);return i}function Fi(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Wi(e,t){return Fi(e).appendChild(t)}function zi(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Gi(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Vi(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!Gi(r[n]).test(t)&&(t+=" "+r[n]);return t}function qi(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}function Yi(){qs||(Xi(),qs=!0)}function Xi(){var e;Ts(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,qi(zt)},100))}),Ts(window,"blur",function(){qi(gr)})}function Ki(e){if(null==Ws){var t=Hi("span","\u200b");Wi(e,Hi("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ws=t.offsetWidth<=1&&t.offsetHeight>2&&!(da&&8>va))}var r=Ws?Hi("span","\u200b"):Hi("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function $i(e){if(null!=zs)return zs;var t=Wi(e,document.createTextNode("A\u062eA")),r=Ds(t,0,1).getBoundingClientRect();if(!r||r.left==r.right)return!1;var n=Ds(t,1,2).getBoundingClientRect();return zs=n.right-r.right<3}function Qi(e){if(null!=Qs)return Qs;var t=Wi(e,Hi("span","x")),r=t.getBoundingClientRect(),n=Ds(t,0,1).getBoundingClientRect();return Qs=Math.abs(r.left-n.left)>1}function Zi(e,t,r,n){if(!e)return n(t,r,"ltr");for(var i=!1,a=0;a<e.length;++a){var s=e[a];(s.from<r&&s.to>t||t==r&&s.to==t)&&(n(Math.max(s.from,t),Math.min(s.to,r),1==s.level?"rtl":"ltr"),i=!0)}i||n(t,r,"ltr")}function Ji(e){return e.level%2?e.to:e.from}function ea(e){return e.level%2?e.from:e.to}function ta(e){var t=ni(e);return t?Ji(t[0]):0}function ra(e){var t=ni(e);return t?ea(Li(t)):e.text.length}function na(e,t){var r=$n(e.doc,t),n=mn(r);n!=r&&(t=ei(n));var i=ni(n),a=i?i[0].level%2?ra(n):ta(n):0;return Pa(t,a)}function ia(e,t){for(var r,n=$n(e.doc,t);r=vn(n);)n=r.find(1,!0).line,t=null;var i=ni(n),a=i?i[0].level%2?ta(n):ra(n):n.text.length;return Pa(null==t?ei(n):t,a)}function aa(e,t){var r=na(e,t.line),n=$n(e.doc,r.line),i=ni(n);if(!i||0==i[0].level){var a=Math.max(0,n.text.search(/\S/)),s=t.line==r.line&&t.ch<=a&&t.ch;return Pa(r.line,s?0:a)}return r}function sa(e,t,r){var n=e[0].level;return t==n?!0:r==n?!1:r>t}function oa(e,t){Js=null;for(var r,n=0;n<e.length;++n){var i=e[n];if(i.from<t&&i.to>t)return n;if(i.from==t||i.to==t){if(null!=r)return sa(e,i.level,e[r].level)?(i.from!=i.to&&(Js=r),n):(i.from!=i.to&&(Js=n),r);r=n}}return r}function la(e,t,r,n){if(!n)return t+r;do t+=r;while(t>0&&ji(e.text.charAt(t)));return t}function ua(e,t,r,n){var i=ni(e);if(!i)return ca(e,t,r,n);for(var a=oa(i,t),s=i[a],o=la(e,t,s.level%2?-r:r,n);;){if(o>s.from&&o<s.to)return o;if(o==s.from||o==s.to)return oa(i,o)==a?o:(s=i[a+=r],r>0==s.level%2?s.to:s.from);if(s=i[a+=r],!s)return null;o=r>0==s.level%2?la(e,s.to,-1,n):la(e,s.from,1,n)}}function ca(e,t,r,n){var i=t+r;if(n)for(;i>0&&ji(e.text.charAt(i));)i+=r;return 0>i||i>e.text.length?null:i}var ha=/gecko\/\d/i.test(navigator.userAgent),fa=/MSIE \d/.test(navigator.userAgent),pa=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),da=fa||pa,va=da&&(fa?document.documentMode||6:pa[1]),ga=/WebKit\//.test(navigator.userAgent),ma=ga&&/Qt\/\d+\.\d+/.test(navigator.userAgent),ya=/Chrome\//.test(navigator.userAgent),ba=/Opera\//.test(navigator.userAgent),xa=/Apple Computer/.test(navigator.vendor),wa=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Sa=/PhantomJS/.test(navigator.userAgent),_a=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Ta=_a||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),ka=_a||/Mac/.test(navigator.platform),Ca=/win/i.test(navigator.platform),Aa=ba&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Aa&&(Aa=Number(Aa[1])),Aa&&Aa>=15&&(ba=!1,ga=!0);var Oa=ka&&(ma||ba&&(null==Aa||12.11>Aa)),Ma=ha||da&&va>=9,La=!1,Ea=!1;v.prototype=Ui({update:function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var a=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+a+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&e.clientHeight>0&&(0==n&&this.overlayHack(),this.checkedOverlay=!0),{right:r?n:0,bottom:t?n:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){var e=ka&&!wa?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=e;var t=this,r=function(e){xi(e)!=t.vert&&xi(e)!=t.horiz&&Mt(t.cm,qt)(e)};Ts(this.vert,"mousedown",r),Ts(this.horiz,"mousedown",r)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},v.prototype),g.prototype=Ui({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),e.scrollbarModel={"native":v,"null":g},k.prototype.signal=function(e,t){Ci(e,t)&&this.events.push(arguments)},k.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Cs.apply(null,this.events[e])};var Pa=e.Pos=function(e,t){return this instanceof Pa?(this.line=e,void(this.ch=t)):new Pa(e,t)},Ra=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Ia=null;ne.prototype=Ui({init:function(e){function t(e){if(n.somethingSelected())Ia=n.getSelections(),r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,a.value=Ia.join("\n"),Ns(a));else{if(!n.options.lineWiseCopyCut)return;var t=te(n);Ia=t.text,"cut"==e.type?n.setSelections(t.ranges,null,Ls):(r.prevInput="",a.value=t.text.join("\n"),Ns(a))}"cut"==e.type&&(n.state.cutIncoming=!0)}var r=this,n=this.cm,i=this.wrapper=ie(),a=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),_a&&(a.style.width="0px"),Ts(a,"input",function(){da&&va>=9&&r.hasSelection&&(r.hasSelection=null),r.poll()}),Ts(a,"paste",function(e){return J(e,n)?!0:(n.state.pasteIncoming=!0,void r.fastPoll())}),Ts(a,"cut",t),Ts(a,"copy",t),Ts(e.scroller,"paste",function(t){Gt(e,t)||(n.state.pasteIncoming=!0,r.focus())}),Ts(e.lineSpace,"selectstart",function(t){Gt(e,t)||ws(t)}),Ts(a,"compositionstart",function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Ts(a,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,r=e.doc,n=Ie(e);if(e.options.moveInputWithCursor){var i=ft(e,r.sel.primary().head,"div"),a=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+s.top-a.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+s.left-a.left))}return n},showSelection:function(e){var t=this.cm,r=t.display;Wi(r.cursorDiv,e.cursors),Wi(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,r,n=this.cm,i=n.doc;if(n.somethingSelected()){this.prevInput="";var a=i.sel.primary();t=$s&&(a.to().line-a.from().line>100||(r=n.getSelection()).length>1e3);var s=t?"-":r||n.getSelection();this.textarea.value=s,n.state.focused&&Ns(this.textarea),da&&va>=9&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",da&&va>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Ta||zi()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var n=r.poll();n||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))}var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||Ks(t)&&!r&&!this.composing||Q(e)||e.options.disableInput||e.state.keySeq)return!1;var n=t.value;if(n==r&&!e.somethingSelected())return!1;if(da&&va>=9&&this.hasSelection===n||ka&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=n.charCodeAt(0);if(8203!=i||r||(r="\u200b"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(r.length,n.length);s>a&&r.charCodeAt(a)==n.charCodeAt(a);)++a;var o=this;return Ot(e,function(){Z(e,n.slice(a),r.length-a,null,o.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?t.value=o.prevInput="":o.prevInput=n,o.composing&&(o.composing.range.clear(),o.composing.range=e.markText(o.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){da&&va>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=s.selectionStart){var e=i.somethingSelected(),t="\u200b"+(e?s.value:"");s.value="\u21da",s.value=t,n.prevInput=e?"":"\u200b",s.selectionStart=1,s.selectionEnd=t.length,a.selForContextMenu=i.doc.sel}}function r(){if(n.contextMenuPending=!1,n.wrapper.style.position="relative",s.style.cssText=c,da&&9>va&&a.scrollbars.setScrollTop(a.scroller.scrollTop=l),null!=s.selectionStart){(!da||da&&9>va)&&t();var e=0,r=function(){a.selForContextMenu==i.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"\u200b"==n.prevInput?Mt(i,is.selectAll)(i):e++<10?a.detectingSelectAll=setTimeout(r,500):a.input.reset()};a.detectingSelectAll=setTimeout(r,200)}}var n=this,i=n.cm,a=i.display,s=n.textarea,o=Vt(i,e),l=a.scroller.scrollTop;if(o&&!ba){var u=i.options.resetSelectionOnContextMenu;u&&-1==i.doc.sel.contains(o)&&Mt(i,Ae)(i.doc,de(o),Ls);var c=s.style.cssText;if(n.wrapper.style.position="absolute",s.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(da?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ga)var h=window.scrollY;if(a.input.focus(),ga&&window.scrollTo(null,h),a.input.reset(),i.somethingSelected()||(s.value=n.prevInput=" "),n.contextMenuPending=!0,a.selForContextMenu=i.doc.sel,clearTimeout(a.detectingSelectAll),da&&va>=9&&t(),Ma){_s(e);var f=function(){ks(window,"mouseup",f),setTimeout(r,20)};Ts(window,"mouseup",f)}else setTimeout(r,50)}},setUneditable:Ri,needsContentAttribute:!1},ne.prototype),ae.prototype=Ui({init:function(e){function t(e){if(n.somethingSelected())Ia=n.getSelections(),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=te(n);Ia=t.text,"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,Ls),n.replaceSelection("",null,"cut")})}if(e.clipboardData&&!_a)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Ia.join("\n"));else{var r=ie(),i=r.firstChild;n.display.lineSpace.insertBefore(r,n.display.lineSpace.firstChild),i.value=Ia.join("\n");var a=document.activeElement;Ns(i),setTimeout(function(){n.display.lineSpace.removeChild(r),a.focus()},50)}}var r=this,n=r.cm,i=r.div=e.lineDiv;i.contentEditable="true",re(i),Ts(i,"paste",function(e){J(e,n)}),Ts(i,"compositionstart",function(e){var t=e.data;if(r.composing={sel:n.doc.sel,data:t,startData:t},t){var i=n.doc.sel.primary(),a=n.getLine(i.head.line),s=a.indexOf(t,Math.max(0,i.head.ch-t.length));s>-1&&s<=i.head.ch&&(r.composing.sel=de(Pa(i.head.line,s),Pa(i.head.line,s+t.length)))}}),Ts(i,"compositionupdate",function(e){r.composing.data=e.data}),Ts(i,"compositionend",function(e){var t=r.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||r.applyComposition(t),r.composing==t&&(r.composing=null)},50))}),Ts(i,"touchstart",function(){r.forceCompositionEnd()}),Ts(i,"input",function(){r.composing||r.pollContent()||Ot(r.cm,function(){It(n)})}),Ts(i,"copy",t),Ts(i,"cut",t)},prepareSelection:function(){var e=Ie(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),r=le(this.cm,e.anchorNode,e.anchorOffset),n=le(this.cm,e.focusNode,e.focusOffset);if(!r||r.bad||!n||n.bad||0!=Ra(K(r,n),t.from())||0!=Ra(X(r,n),t.to())){var i=se(this.cm,t.from()),a=se(this.cm,t.to());if(i||a){var s=this.cm.display.view,o=e.rangeCount&&e.getRangeAt(0);if(i){if(!a){var l=s[s.length-1].measure,u=l.maps?l.maps[l.maps.length-1]:l.map;a={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else i={node:s[0].measure.map[2],offset:0};try{var c=Ds(i.node,i.offset,a.offset,a.node)}catch(h){}c&&(e.removeAllRanges(),e.addRange(c),o&&null==e.anchorNode?e.addRange(o):ha&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Wi(this.cm.display.cursorDiv,e.cursors),Wi(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Fs(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Ot(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var r=le(t,e.anchorNode,e.anchorOffset),n=le(t,e.focusNode,e.focusOffset);r&&n&&Ot(t,function(){Ae(t.doc,de(r,n),Ls),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var a;if(n.line==t.viewFrom||0==(a=Dt(e,n.line)))var s=ei(t.view[0].line),o=t.view[0].node;else var s=ei(t.view[a].line),o=t.view[a-1].node.nextSibling;var l=Dt(e,i.line);if(l==t.view.length-1)var u=t.viewTo-1,c=t.lineDiv.lastChild;else var u=ei(t.view[l+1].line)-1,c=t.view[l+1].node.previousSibling;for(var h=e.doc.splitLines(ce(e,o,c,s,u)),f=Qn(e.doc,Pa(s,0),Pa(u,$n(e.doc,u).text.length));h.length>1&&f.length>1;)if(Li(h)==Li(f))h.pop(),f.pop(),u--;else{if(h[0]!=f[0])break;h.shift(),f.shift(),s++}for(var p=0,d=0,v=h[0],g=f[0],m=Math.min(v.length,g.length);m>p&&v.charCodeAt(p)==g.charCodeAt(p);)++p;for(var y=Li(h),b=Li(f),x=Math.min(y.length-(1==h.length?p:0),b.length-(1==f.length?p:0));x>d&&y.charCodeAt(y.length-d-1)==b.charCodeAt(b.length-d-1);)++d;h[h.length-1]=y.slice(0,y.length-d),h[0]=h[0].slice(p);var w=Pa(s,p),S=Pa(u,f.length?Li(f).length-d:0);return h.length>1||h[0]||Ra(w,S)?(Lr(e.doc,h,w,S,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){e.data&&e.data!=e.startData&&Mt(this.cm,Z)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),Mt(this.cm,Z)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},onContextMenu:Ri,resetPosition:Ri,needsContentAttribute:!0},ae.prototype),e.inputStyles={textarea:ne,contenteditable:ae},he.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(0!=Ra(r.anchor,n.anchor)||0!=Ra(r.head,n.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new fe(Y(this.ranges[t].anchor),Y(this.ranges[t].head));return new he(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(Ra(t,n.from())>=0&&Ra(e,n.to())<=0)return r}return-1}},fe.prototype={from:function(){return K(this.anchor,this.head)},to:function(){return X(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Ua,Na,Da,Ba={left:0,right:0,top:0,bottom:0},ja=null,Ha=0,Fa=0,Wa=0,za=null;da?za=-.53:ha?za=15:ya?za=-.7:xa&&(za=-1/3);var Ga=function(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}};e.wheelEventPixels=function(e){var t=Ga(e);return t.x*=za,t.y*=za,t};var Va=new Oi,qa=null,Ya=e.changeEnd=function(e){return e.text?Pa(e.from.line+e.text.length-1,Li(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var r=this.options,n=r[e];(r[e]!=t||"mode"==e)&&(r[e]=t,Ka.hasOwnProperty(e)&&Mt(this,Ka[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Vr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:Lt(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:t,opaque:r&&r.opaque}),this.state.modeGen++,It(this)}),removeOverlay:Lt(function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void It(this)}}),indentLine:Lt(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ye(this.doc,e)&&Br(this,e,t,r)}),indentSelection:Lt(function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(Br(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&Nr(this));else{var a=i.from(),s=i.to(),o=Math.max(r,a.line);r=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=o;r>l;++l)Br(this,l,e);var u=this.doc.sel.ranges;0==a.ch&&t.length==u.length&&u[n].from().ch>0&&_e(this.doc,n,new fe(a,u[n].to()),Ls)}}}),getTokenAt:function(e,t){return En(this,e,t)},getLineTokens:function(e,t){return En(this,Pa(e),t,!0)},getTokenTypeAt:function(e){e=ge(this.doc,e);var t,r=In(this,$n(this.doc,e.line)),n=0,i=(r.length-1)/2,a=e.ch;if(0==a)t=r[2];else for(;;){var s=n+i>>1;if((s?r[2*s-1]:0)>=a)i=s;else{if(!(r[2*s+1]<a)){t=r[2*s+2];break}n=s+1}}var o=t?t.indexOf("cm-overlay "):-1;return 0>o?t:0==o?null:t.slice(0,o-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!ts.hasOwnProperty(t))return r;var n=ts[t],i=this.getModeAt(e);if("string"==typeof i[t])n[i[t]]&&r.push(n[i[t]]);else if(i[t])for(var a=0;a<i[t].length;a++){var s=n[i[t][a]];s&&r.push(s)}else i.helperType&&n[i.helperType]?r.push(n[i.helperType]):n[i.name]&&r.push(n[i.name]);for(var a=0;a<n._global.length;a++){var o=n._global[a];o.pred(i,this)&&-1==Ei(r,o.val)&&r.push(o.val)}return r},getStateAfter:function(e,t){var r=this.doc;return e=ve(r,null==e?r.first+r.size-1:e),Fe(this,e+1,t)},cursorCoords:function(e,t){var r,n=this.doc.sel.primary();return r=null==e?n.head:"object"==typeof e?ge(this.doc,e):e?n.from():n.to(),ft(this,r,t||"page")},charCoords:function(e,t){return ht(this,ge(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ct(this,e,t||"page"),vt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ct(this,{top:e,left:0},t||"page").top,ti(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var r,n=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,n=!0),r=$n(this.doc,e)}else r=e;return ut(this,r,{top:0,left:0},t||"page").top+(n?this.doc.height-ri(r):0)},defaultTextHeight:function(){return mt(this.display)},defaultCharWidth:function(){return yt(this.display)},setGutterMarker:Lt(function(e,t,r){return jr(this.doc,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&Bi(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Lt(function(e){var t=this,r=t.doc,n=r.first;r.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&(r.gutterMarkers[e]=null,Ut(t,n,"gutter"),Bi(r.gutterMarkers)&&(r.gutterMarkers=null)),++n})}),lineInfo:function(e){if("number"==typeof e){if(!ye(this.doc,e))return null;var t=e;if(e=$n(this.doc,e),!e)return null}else{var t=ei(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var a=this.display;e=ft(this,ge(this.doc,e));var s=e.bottom,o=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),
this.display.input.setUneditable(t),a.sizer.appendChild(t),"over"==n)s=e.top;else if("above"==n||"near"==n){var l=Math.max(a.wrapper.clientHeight,this.doc.height),u=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),o+t.offsetWidth>u&&(o=u-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==i?(o=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?o=0:"middle"==i&&(o=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=o+"px"),r&&Rr(this,o,s,o+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:Lt(cr),triggerOnKeyPress:Lt(pr),triggerOnKeyUp:fr,execCommand:function(e){return is.hasOwnProperty(e)?is[e].call(null,this):void 0},triggerElectric:Lt(function(e){ee(this,e)}),findPosH:function(e,t,r,n){var i=1;0>t&&(i=-1,t=-t);for(var a=0,s=ge(this.doc,e);t>a&&(s=Fr(this.doc,s,i,r,n),!s.hitSide);++a);return s},moveH:Lt(function(e,t){var r=this;r.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?Fr(r.doc,n.head,e,t,r.options.rtlMoveVisually):0>e?n.from():n.to()},Ps)}),deleteH:Lt(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):Hr(this,function(r){var i=Fr(n,r.head,e,t,!1);return 0>e?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=1,a=n;0>t&&(i=-1,t=-t);for(var s=0,o=ge(this.doc,e);t>s;++s){var l=ft(this,o,"div");if(null==a?a=l.left:l.left=a,o=Wr(this,l,i,r),o.hitSide)break}return o},moveV:Lt(function(e,t){var r=this,n=this.doc,i=[],a=!r.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(s){if(a)return 0>e?s.from():s.to();var o=ft(r,s.head,"div");null!=s.goalColumn&&(o.left=s.goalColumn),i.push(o.left);var l=Wr(r,o,e,t);return"page"==t&&s==n.sel.primary()&&Ur(r,null,ht(r,l,"div").top-o.top),l},Ps),i.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=i[s]}),findWordAt:function(e){var t=this.doc,r=$n(t,e.line).text,n=e.ch,i=e.ch;if(r){var a=this.getHelper(e,"wordChars");(e.xRel<0||i==r.length)&&n?--n:++i;for(var s=r.charAt(n),o=Di(s,a)?function(e){return Di(e,a)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Di(e)};n>0&&o(r.charAt(n-1));)--n;for(;i<r.length&&o(r.charAt(i));)++i}return new fe(Pa(e.line,n),Pa(e.line,i))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Vs(this.display.cursorDiv,"CodeMirror-overwrite"):Gs(this.display.cursorDiv,"CodeMirror-overwrite"),Cs(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==zi()},scrollTo:Lt(function(e,t){(null!=e||null!=t)&&Dr(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ve(this)-this.display.barHeight,width:e.scrollWidth-Ve(this)-this.display.barWidth,clientHeight:Ye(this),clientWidth:qe(this)}},scrollIntoView:Lt(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Pa(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Dr(this),this.curOp.scrollToPos=e;else{var r=Ir(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(r.scrollLeft,r.scrollTop)}}),setSize:Lt(function(e,t){function r(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this;null!=e&&(n.display.wrapper.style.width=r(e)),null!=t&&(n.display.wrapper.style.height=r(t)),n.options.lineWrapping&&at(this);var i=n.display.viewFrom;n.doc.iter(i,n.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Ut(n,i,"widget");break}++i}),n.curOp.forceUpdate=!0,Cs(n,"refresh",this)}),operation:function(e){return Ot(this,e)},refresh:Lt(function(){var e=this.display.cachedTextHeight;It(this),this.curOp.forceUpdate=!0,st(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==e||Math.abs(e-mt(this.display))>.5)&&s(this),Cs(this,"refresh",this)}),swapDoc:Lt(function(e){var t=this.doc;return t.cm=null,Kn(this,e),st(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Si(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ai(e);var Xa=e.defaults={},Ka=e.optionHandlers={},$a=e.Init={toString:function(){return"CodeMirror.Init"}};zr("value","",function(e,t){e.setValue(t)},!0),zr("mode",null,function(e,t){e.doc.modeOption=t,r(e)},!0),zr("indentUnit",2,r,!0),zr("indentWithTabs",!1),zr("smartIndent",!0),zr("tabSize",4,function(e){n(e),st(e),It(e)},!0),zr("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var a=e.text.indexOf(t,i);if(-1==a)break;i=a+t.length,r.push(Pa(n,a))}n++});for(var i=r.length-1;i>=0;i--)Lr(e.doc,t,r[i],Pa(r[i].line,r[i].ch+t.length))}}),zr("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,r,n){t.state.specialChars=new RegExp(r.source+(r.test("	")?"":"|	"),"g"),n!=e.Init&&t.refresh()}),zr("specialCharPlaceholder",Bn,function(e){e.refresh()},!0),zr("electricChars",!0),zr("inputStyle",Ta?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),zr("rtlMoveVisually",!Ca),zr("wholeLineUpdateBefore",!0),zr("theme","default",function(e){o(e),l(e)},!0),zr("keyMap","default",function(t,r,n){var i=Vr(r),a=n!=e.Init&&Vr(n);a&&a.detach&&a.detach(t,i),i.attach&&i.attach(t,a||null)}),zr("extraKeys",null),zr("lineWrapping",!1,i,!0),zr("gutters",[],function(e){p(e.options),l(e)},!0),zr("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?T(e.display)+"px":"0",e.refresh()},!0),zr("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),zr("scrollbarStyle","native",function(e){m(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),zr("lineNumbers",!1,function(e){p(e.options),l(e)},!0),zr("firstLineNumber",1,l,!0),zr("lineNumberFormatter",function(e){return e},l,!0),zr("showCursorWhenSelecting",!1,Re,!0),zr("resetSelectionOnContextMenu",!0),zr("lineWiseCopyCut",!0),zr("readOnly",!1,function(e,t){"nocursor"==t?(gr(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||e.display.input.reset())}),zr("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),zr("dragDrop",!0,Wt),zr("cursorBlinkRate",530),zr("cursorScrollMargin",0),zr("cursorHeight",1,Re,!0),zr("singleCursorHeightPerLine",!0,Re,!0),zr("workTime",100),zr("workDelay",100),zr("flattenSpans",!0,n,!0),zr("addModeClass",!1,n,!0),zr("pollInterval",100),zr("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),zr("historyEventDelay",1250),zr("viewportMargin",10,function(e){e.refresh()},!0),zr("maxHighlightLength",1e4,n,!0),zr("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),zr("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),zr("autofocus",null);var Qa=e.modes={},Za=e.mimeModes={};e.defineMode=function(t,r){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(r.dependencies=Array.prototype.slice.call(arguments,2)),Qa[t]=r},e.defineMIME=function(e,t){Za[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Za.hasOwnProperty(t))t=Za[t];else if(t&&"string"==typeof t.name&&Za.hasOwnProperty(t.name)){var r=Za[t.name];"string"==typeof r&&(r={name:r}),t=Ii(r,t),t.name=r.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,r){var r=e.resolveMode(r),n=Qa[r.name];if(!n)return e.getMode(t,"text/plain");var i=n(t,r);if(Ja.hasOwnProperty(r.name)){var a=Ja[r.name];for(var s in a)a.hasOwnProperty(s)&&(i.hasOwnProperty(s)&&(i["_"+s]=i[s]),i[s]=a[s])}if(i.name=r.name,r.helperType&&(i.helperType=r.helperType),r.modeProps)for(var s in r.modeProps)i[s]=r.modeProps[s];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Ja=e.modeExtensions={};e.extendMode=function(e,t){var r=Ja.hasOwnProperty(e)?Ja[e]:Ja[e]={};Ui(t,r)},e.defineExtension=function(t,r){e.prototype[t]=r},e.defineDocExtension=function(e,t){ys.prototype[e]=t},e.defineOption=zr;var es=[];e.defineInitHook=function(e){es.push(e)};var ts=e.helpers={};e.registerHelper=function(t,r,n){ts.hasOwnProperty(t)||(ts[t]=e[t]={_global:[]}),ts[t][r]=n},e.registerGlobalHelper=function(t,r,n,i){e.registerHelper(t,r,i),ts[t]._global.push({pred:n,val:i})};var rs=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r},ns=e.startState=function(e,t,r){return e.startState?e.startState(t,r):!0};e.innerMode=function(e,t){for(;e.innerMode;){var r=e.innerMode(t);if(!r||r.mode==e)break;t=r.state,e=r.mode}return r||{mode:e,state:t}};var is=e.commands={selectAll:function(e){e.setSelection(Pa(e.firstLine(),0),Pa(e.lastLine()),Ls)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ls)},killLine:function(e){Hr(e,function(t){if(t.empty()){var r=$n(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:Pa(t.head.line+1,0)}:{from:t.head,to:Pa(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Hr(e,function(t){return{from:Pa(t.from().line,0),to:ge(e.doc,Pa(t.to().line+1,0))}})},delLineLeft:function(e){Hr(e,function(e){return{from:Pa(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Hr(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){Hr(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Pa(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Pa(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return na(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return aa(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return ia(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},Ps)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},Ps)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?aa(e,t.head):n},Ps)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var a=r[i].from(),s=Rs(e.getLine(a.line),a.ch,n);t.push(new Array(n-s%n+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Ot(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++){var i=t[n].head,a=$n(e.doc,i.line).text;if(a)if(i.ch==a.length&&(i=new Pa(i.line,i.ch-1)),i.ch>0)i=new Pa(i.line,i.ch+1),e.replaceRange(a.charAt(i.ch-1)+a.charAt(i.ch-2),Pa(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var s=$n(e.doc,i.line-1).text;s&&e.replaceRange(a.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),Pa(i.line-1,s.length-1),Pa(i.line,1),"+transpose")}r.push(new fe(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){Ot(e,function(){for(var t=e.listSelections().length,r=0;t>r;r++){var n=e.listSelections()[r];e.replaceRange(e.doc.lineSeparator(),n.anchor,n.head,"+input"),e.indentLine(n.from().line+1,null,!0),Nr(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},as=e.keyMap={};as.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},as.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},as.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},as.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},as["default"]=ka?as.macDefault:as.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=Pi(r.split(" "),Gr),a=0;a<i.length;a++){var s,o;a==i.length-1?(o=i.join(" "),s=n):(o=i.slice(0,a+1).join(" "),s="...");var l=t[o];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+o)}else t[o]=s}delete e[r]}for(var u in t)e[u]=t[u];return e};var ss=e.lookupKey=function(e,t,r,n){t=Vr(t);var i=t.call?t.call(e,n):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ss(e,t.fallthrough,r,n);for(var a=0;a<t.fallthrough.length;a++){var s=ss(e,t.fallthrough[a],r,n);if(s)return s}}},os=e.isModifierKey=function(e){var t="string"==typeof e?e:Zs[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},ls=e.keyName=function(e,t){if(ba&&34==e.keyCode&&e["char"])return!1;var r=Zs[e.keyCode],n=r;return null==n||e.altGraphKey?!1:(e.altKey&&"Alt"!=r&&(n="Alt-"+n),(Oa?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(n="Ctrl-"+n),(Oa?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(n="Cmd-"+n),!t&&e.shiftKey&&"Shift"!=r&&(n="Shift-"+n),n)};e.fromTextArea=function(t,r){function n(){t.value=u.getValue()}if(r=r?Ui(r):{},r.value=t.value,!r.tabindex&&t.tabIndex&&(r.tabindex=t.tabIndex),!r.placeholder&&t.placeholder&&(r.placeholder=t.placeholder),null==r.autofocus){var i=zi();r.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(Ts(t.form,"submit",n),!r.leaveSubmitMethodAlone)){var a=t.form,s=a.submit;try{var o=a.submit=function(){n(),a.submit=s,a.submit(),a.submit=o}}catch(l){}}r.finishInit=function(e){e.save=n,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,n(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(ks(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=s))}},t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},r);return u};var us=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};us.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var r=t==e;else var r=t&&(e.test?e.test(t):e(t));return r?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Rs(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Rs(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Rs(this.string,null,this.tabSize)-(this.lineStart?Rs(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e},a=this.string.substr(this.pos,e.length);return i(a)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var cs=0,hs=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++cs};Ai(hs),hs.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&bt(e),Ci(this,"clear")){var r=this.find();r&&Si(this,"clear",r.from,r.to)}for(var n=null,i=null,a=0;a<this.lines.length;++a){var s=this.lines[a],o=Zr(s.markedSpans,this);e&&!this.collapsed?Ut(e,ei(s),"text"):e&&(null!=o.to&&(i=ei(s)),null!=o.from&&(n=ei(s))),s.markedSpans=Jr(s.markedSpans,o),null==o.from&&this.collapsed&&!wn(this.doc,s)&&e&&Jn(s,mt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var a=0;a<this.lines.length;++a){var l=mn(this.lines[a]),u=h(l);u>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&It(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Le(e.doc)),e&&Si(e,"markerCleared",e,this),t&&wt(e),this.parent&&this.parent.clear()}},hs.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var r,n,i=0;i<this.lines.length;++i){var a=this.lines[i],s=Zr(a.markedSpans,this);if(null!=s.from&&(r=Pa(t?a:ei(a),s.from),-1==e))return r;if(null!=s.to&&(n=Pa(t?a:ei(a),s.to),1==e))return n}return r&&{from:r,to:n}},hs.prototype.changed=function(){var e=this.find(-1,!0),t=this,r=this.doc.cm;e&&r&&Ot(r,function(){var n=e.line,i=ei(e.line),a=Ze(r,i);if(a&&(it(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!wn(t.doc,n)&&null!=t.height){var s=t.height;t.height=null;var o=Tn(t)-s;o&&Jn(n,n.height+o)}})},hs.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Ei(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},hs.prototype.detachLine=function(e){if(this.lines.splice(Ei(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var cs=0,fs=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};Ai(fs),fs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Si(this,"clear")}},fs.prototype.find=function(e,t){return this.primary.find(e,t)};var ps=e.LineWidget=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};Ai(ps),ps.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=ei(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var a=Tn(this);Jn(r,Math.max(0,r.height-a)),e&&Ot(e,function(){_n(e,r,-a),Ut(e,n,"widget")})}},ps.prototype.changed=function(){var e=this.height,t=this.doc.cm,r=this.line;this.height=null;var n=Tn(this)-e;n&&(Jn(r,r.height+n),t&&Ot(t,function(){t.curOp.forceUpdate=!0,_n(t,r,n)}))};var ds=e.Line=function(e,t,r){this.text=e,un(this,t),this.height=r?r(this):1};Ai(ds),ds.prototype.lineNo=function(){return ei(this)};var vs={},gs={};qn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;n>r;++r){var i=this.lines[r];this.height-=i.height,An(i),Si(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;n>e;++e)if(r(this.lines[e]))return!0}},Yn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(i>e){var a=Math.min(t,i-e),s=n.height;if(n.removeInner(e,a),this.height-=s-n.height,i==a&&(this.children.splice(r--,1),n.parent=null),0==(t-=a))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof qn))){var o=[];this.collapse(o),this.children=[new qn(o)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],a=i.chunkSize();if(a>=e){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var s=i.lines.splice(i.lines.length-25,25),o=new qn(s);i.height-=o.height,this.children.splice(n+1,0,o),o.parent=this}this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new Yn(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=Ei(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new Yn(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],a=i.chunkSize();if(a>e){var s=Math.min(t,a-e);if(i.iterN(e,s,r))return!0;if(0==(t-=s))break;e=0}else e-=a}}};var ms=0,ys=e.Doc=function(e,t,r,n){if(!(this instanceof ys))return new ys(e,t,r,n);null==r&&(r=0),Yn.call(this,[new qn([new ds("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=r;var i=Pa(r,0);this.sel=de(i),this.history=new ii(null),this.id=++ms,this.modeOption=t,this.lineSep=n,"string"==typeof e&&(e=this.splitLines(e)),Vn(this,{from:i,to:i,text:e}),Ae(this,de(i),Ls)};ys.prototype=Ii(Yn.prototype,{constructor:ys,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Zn(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Et(function(e){var t=Pa(this.first,0),r=this.first+this.size-1;Tr(this,{from:t,to:Pa(r,$n(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),Ae(this,de(t))}),replaceRange:function(e,t,r,n){t=ge(this,t),r=r?ge(this,r):t,Lr(this,e,t,r,n)},getRange:function(e,t,r){var n=Qn(this,ge(this,e),ge(this,t));return r===!1?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return ye(this,e)?$n(this,e):void 0},getLineNumber:function(e){return ei(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=$n(this,e)),mn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ge(this,e)},getCursor:function(e){var t,r=this.sel.primary();return t=null==e||"head"==e?r.head:"anchor"==e?r.anchor:"end"==e||"to"==e||e===!1?r.to():r.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Et(function(e,t,r){Te(this,ge(this,"number"==typeof e?Pa(e,t||0):e),null,r)}),setSelection:Et(function(e,t,r){Te(this,ge(this,e),ge(this,t||e),r)}),extendSelection:Et(function(e,t,r){we(this,ge(this,e),t&&ge(this,t),r)}),extendSelections:Et(function(e,t){Se(this,be(this,e,t))}),extendSelectionsBy:Et(function(e,t){Se(this,Pi(this.sel.ranges,e),t)}),setSelections:Et(function(e,t,r){if(e.length){for(var n=0,i=[];n<e.length;n++)i[n]=new fe(ge(this,e[n].anchor),ge(this,e[n].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ae(this,pe(i,t),r)}}),addSelection:Et(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new fe(ge(this,e),ge(this,t||e))),Ae(this,pe(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=Qn(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Qn(this,r[n].from(),r[n].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Et(function(e,t,r){for(var n=[],i=this.sel,a=0;a<i.ranges.length;a++){var s=i.ranges[a];n[a]={from:s.from(),to:s.to(),text:this.splitLines(e[a]),origin:r}}for(var o=t&&"end"!=t&&Sr(this,n,t),a=n.length-1;a>=0;a--)Tr(this,n[a]);o?Ce(this,o):this.cm&&Nr(this.cm)}),undo:Et(function(){Cr(this,"undo")}),redo:Et(function(){Cr(this,"redo")}),undoSelection:Et(function(){Cr(this,"undo",!0)}),redoSelection:Et(function(){Cr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var n=0;n<e.undone.length;n++)e.undone[n].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new ii(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:vi(this.history.done),undone:vi(this.history.undone)}},setHistory:function(e){var t=this.history=new ii(this.history.maxGeneration);t.done=vi(e.done.slice(0),null,!0),t.undone=vi(e.undone.slice(0),null,!0)},addLineClass:Et(function(e,t,r){return jr(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(Gi(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0})}),removeLineClass:Et(function(e,t,r){return jr(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var a=i.match(Gi(r));if(!a)return!1;var s=a.index+a[0].length;e[n]=i.slice(0,a.index)+(a.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0})}),addLineWidget:Et(function(e,t,r){return kn(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return qr(this,ge(this,e),ge(this,t),r,"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ge(this,e),qr(this,e,e,r,"bookmark")},findMarksAt:function(e){e=ge(this,e);var t=[],r=$n(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=ge(this,e),t=ge(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(a){var s=a.markedSpans;if(s)for(var o=0;o<s.length;o++){var l=s[o];i==e.line&&e.ch>l.to||null==l.from&&i!=e.line||i==t.line&&l.from>t.ch||r&&!r(l.marker)||n.push(l.marker.parent||l.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first;return this.iter(function(n){var i=n.text.length+1;return i>e?(t=e,!0):(e-=i,void++r)}),ge(this,Pa(r,t))},indexFromPos:function(e){e=ge(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new ys(Zn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new ys(Zn(this,t,r),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Kr(n,Xr(this)),n},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=this.linked[r];if(n.doc==t){this.linked.splice(r,1),t.unlinkDoc(this),$r(Xr(this));break}}if(t.history==this.history){var i=[t.id];Xn(t,function(e){i.push(e.id)},!0),t.history=new ii(null),t.history.done=vi(this.history.done,i),t.history.undone=vi(this.history.undone,i)}},iterLinkedDocs:function(e){Xn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Xs(e)},lineSeparator:function(){return this.lineSep||"\n"}}),ys.prototype.eachLine=ys.prototype.iter;var bs="iter insert remove copy getEditor constructor".split(" ");
for(var xs in ys.prototype)ys.prototype.hasOwnProperty(xs)&&Ei(bs,xs)<0&&(e.prototype[xs]=function(e){return function(){return e.apply(this.doc,arguments)}}(ys.prototype[xs]));Ai(ys);var ws=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Ss=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},_s=e.e_stop=function(e){ws(e),Ss(e)},Ts=e.on=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={}),i=n[t]||(n[t]=[]);i.push(r)}},ks=e.off=function(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers&&e._handlers[t];if(!n)return;for(var i=0;i<n.length;++i)if(n[i]==r){n.splice(i,1);break}}},Cs=e.signal=function(e,t){var r=e._handlers&&e._handlers[t];if(r)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)},As=null,Os=30,Ms=e.Pass={toString:function(){return"CodeMirror.Pass"}},Ls={scroll:!1},Es={origin:"*mouse"},Ps={origin:"+move"};Oi.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Rs=e.countColumn=function(e,t,r,n,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var a=n||0,s=i||0;;){var o=e.indexOf("	",a);if(0>o||o>=t)return s+(t-a);s+=o-a,s+=r-s%r,a=o+1}},Is=e.findColumn=function(e,t,r){for(var n=0,i=0;;){var a=e.indexOf("	",n);-1==a&&(a=e.length);var s=a-n;if(a==e.length||i+s>=t)return n+Math.min(s,t-i);if(i+=a-n,i+=r-i%r,n=a+1,i>=t)return n}},Us=[""],Ns=function(e){e.select()};_a?Ns=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:da&&(Ns=function(e){try{e.select()}catch(t){}});var Ds,Bs=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,js=e.isWordChar=function(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Bs.test(e))},Hs=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ds=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(i){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var Fs=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};da&&11>va&&(zi=function(){try{return document.activeElement}catch(e){return document.body}});var Ws,zs,Gs=e.rmClass=function(e,t){var r=e.className,n=Gi(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}},Vs=e.addClass=function(e,t){var r=e.className;Gi(t).test(r)||(e.className+=(r?" ":"")+t)},qs=!1,Ys=function(){if(da&&9>va)return!1;var e=Hi("div");return"draggable"in e||"dragDrop"in e}(),Xs=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;n>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var a=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),s=a.indexOf("\r");-1!=s?(r.push(a.slice(0,s)),t+=s+1):(r.push(a),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Ks=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(r){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},$s=function(){var e=Hi("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Qs=null,Zs=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;10>e;e++)Zs[e+48]=Zs[e+96]=String(e);for(var e=65;90>=e;e++)Zs[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Zs[e+111]=Zs[e+63235]="F"+e}();var Js,eo=function(){function e(e){return 247>=e?r.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?n.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,r){this.level=e,this.from=t,this.to=r}var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,s=/[LRr]/,o=/[Lb1n]/,l=/[1n]/,u="L";return function(r){if(!i.test(r))return!1;for(var n,c=r.length,h=[],f=0;c>f;++f)h.push(n=e(r.charCodeAt(f)));for(var f=0,p=u;c>f;++f){var n=h[f];"m"==n?h[f]=p:p=n}for(var f=0,d=u;c>f;++f){var n=h[f];"1"==n&&"r"==d?h[f]="n":s.test(n)&&(d=n,"r"==n&&(h[f]="R"))}for(var f=1,p=h[0];c-1>f;++f){var n=h[f];"+"==n&&"1"==p&&"1"==h[f+1]?h[f]="1":","!=n||p!=h[f+1]||"1"!=p&&"n"!=p||(h[f]=p),p=n}for(var f=0;c>f;++f){var n=h[f];if(","==n)h[f]="N";else if("%"==n){for(var v=f+1;c>v&&"%"==h[v];++v);for(var g=f&&"!"==h[f-1]||c>v&&"1"==h[v]?"1":"N",m=f;v>m;++m)h[m]=g;f=v-1}}for(var f=0,d=u;c>f;++f){var n=h[f];"L"==d&&"1"==n?h[f]="L":s.test(n)&&(d=n)}for(var f=0;c>f;++f)if(a.test(h[f])){for(var v=f+1;c>v&&a.test(h[v]);++v);for(var y="L"==(f?h[f-1]:u),b="L"==(c>v?h[v]:u),g=y||b?"L":"R",m=f;v>m;++m)h[m]=g;f=v-1}for(var x,w=[],f=0;c>f;)if(o.test(h[f])){var S=f;for(++f;c>f&&o.test(h[f]);++f);w.push(new t(0,S,f))}else{var _=f,T=w.length;for(++f;c>f&&"L"!=h[f];++f);for(var m=_;f>m;)if(l.test(h[m])){m>_&&w.splice(T,0,new t(1,_,m));var k=m;for(++m;f>m&&l.test(h[m]);++m);w.splice(T,0,new t(2,k,m)),_=m}else++m;f>_&&w.splice(T,0,new t(1,_,f))}return 1==w[0].level&&(x=r.match(/^\s+/))&&(w[0].from=x[0].length,w.unshift(new t(0,0,x[0].length))),1==Li(w).level&&(x=r.match(/\s+$/))&&(Li(w).to-=x[0].length,w.push(new t(0,c-x[0].length,c))),2==w[0].level&&w.unshift(new t(1,w[0].to,w[0].to)),w[0].level!=Li(w).level&&w.push(new t(w[0].level,c,c)),w}}();return e.version="5.6.1",e}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,r){function n(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}function i(e,t,r){return ge=e,me=r,t}function a(e,t){var r=e.next();if('"'==r||"'"==r)return t.tokenize=s(r),t.tokenize(e,t);if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==r&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return i(r);if("="==r&&e.eat(">"))return i("=>","operator");if("0"==r&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if("0"==r&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),i("number","number");if("0"==r&&e.eat(/b/i))return e.eatWhile(/[01]/i),i("number","number");if(/\d/.test(r))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==r)return e.eat("*")?(t.tokenize=o,o(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(n(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),i("regexp","string-2")):(e.eatWhile(ke),i("operator","operator",e.current()));if("`"==r)return t.tokenize=l,l(e,t);if("#"==r)return e.skipToEnd(),i("error","error");if(ke.test(r))return e.eatWhile(ke),i("operator","operator",e.current());if(_e.test(r)){e.eatWhile(_e);var a=e.current(),u=Te.propertyIsEnumerable(a)&&Te[a];return u&&"."!=t.lastType?i(u.type,u.style,a):i("variable","variable",a)}}function s(e){return function(t,r){var n,s=!1;if(xe&&"@"==t.peek()&&t.match(Ce))return r.tokenize=a,i("jsonld-keyword","meta");for(;null!=(n=t.next())&&(n!=e||s);)s=!s&&"\\"==n;return s||(r.tokenize=a),i("string","string")}}function o(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=a;break}n="*"==r}return i("comment","comment")}function l(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=a;break}n=!n&&"\\"==r}return i("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(0>r)){for(var n=0,i=!1,a=r-1;a>=0;--a){var s=e.string.charAt(a),o=Ae.indexOf(s);if(o>=0&&3>o){if(!n){++a;break}if(0==--n)break}else if(o>=3&&6>o)++n;else if(_e.test(s))i=!0;else{if(/["'\/]/.test(s))return;if(i&&!n){++a;break}}}i&&!n&&(t.fatArrowAt=a)}}function c(e,t,r,n,i,a){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=a,null!=n&&(this.align=n)}function h(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(var r=n.vars;r;r=r.next)if(r.name==t)return!0}function f(e,t,r,n,i){var a=e.cc;for(Me.state=e,Me.stream=i,Me.marked=null,Me.cc=a,Me.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s=a.length?a.pop():we?S:w;if(s(r,n)){for(;a.length&&a[a.length-1].lex;)a.pop()();return Me.marked?Me.marked:"variable"==r&&h(e,n)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)Me.cc.push(arguments[e])}function d(){return p.apply(null,arguments),!0}function v(e){function t(t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}var n=Me.state;if(n.context){if(Me.marked="def",t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;r.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function g(){Me.state.context={prev:Me.state.context,vars:Me.state.localVars},Me.state.localVars=Le}function m(){Me.state.localVars=Me.state.context.vars,Me.state.context=Me.state.context.prev}function y(e,t){var r=function(){var r=Me.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new c(n,Me.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function b(){var e=Me.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function x(e){function t(r){return r==e?d():";"==e?p():d(t)}return t}function w(e,t){return"var"==e?d(y("vardef",t.length),G,x(";"),b):"keyword a"==e?d(y("form"),S,w,b):"keyword b"==e?d(y("form"),w,b):"{"==e?d(y("}"),H,b):";"==e?d():"if"==e?("else"==Me.state.lexical.info&&Me.state.cc[Me.state.cc.length-1]==b&&Me.state.cc.pop()(),d(y("form"),S,w,b,K)):"function"==e?d(te):"for"==e?d(y("form"),$,w,b):"variable"==e?d(y("stat"),R):"switch"==e?d(y("form"),S,y("}","switch"),x("{"),H,b,b):"case"==e?d(S,x(":")):"default"==e?d(x(":")):"catch"==e?d(y("form"),g,x("("),re,x(")"),w,b,m):"class"==e?d(y("form"),ne,b):"export"==e?d(y("stat"),oe,b):"import"==e?d(y("stat"),le,b):p(y("stat"),S,x(";"),b)}function S(e){return T(e,!1)}function _(e){return T(e,!0)}function T(e,t){if(Me.state.fatArrowAt==Me.stream.start){var r=t?P:E;if("("==e)return d(g,y(")"),B(V,")"),b,x("=>"),r,m);if("variable"==e)return p(g,V,x("=>"),r,m)}var n=t?O:A;return Oe.hasOwnProperty(e)?d(n):"async"==e?d(S):"function"==e?d(te,n):"keyword c"==e?d(t?C:k):"("==e?d(y(")"),k,de,x(")"),b,n):"operator"==e||"spread"==e?d(t?_:S):"["==e?d(y("]"),fe,b,n):"{"==e?j(U,"}",null,n):"quasi"==e?p(M,n):d()}function k(e){return e.match(/[;\}\)\],]/)?p():p(S)}function C(e){return e.match(/[;\}\)\],]/)?p():p(_)}function A(e,t){return","==e?d(S):O(e,t,!1)}function O(e,t,r){var n=0==r?A:O,i=0==r?S:_;return"=>"==e?d(g,r?P:E,m):"operator"==e?/\+\+|--/.test(t)?d(n):"?"==t?d(S,x(":"),i):d(i):"quasi"==e?p(M,n):";"!=e?"("==e?j(_,")","call",n):"."==e?d(I,n):"["==e?d(y("]"),k,x("]"),b,n):void 0:void 0}function M(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?d(M):d(S,L)}function L(e){return"}"==e?(Me.marked="string-2",Me.state.tokenize=l,d(M)):void 0}function E(e){return u(Me.stream,Me.state),p("{"==e?w:S)}function P(e){return u(Me.stream,Me.state),p("{"==e?w:_)}function R(e){return":"==e?d(b,w):p(A,x(";"),b)}function I(e){return"variable"==e?(Me.marked="property",d()):void 0}function U(e,t){return"async"==e?d(U):"variable"==e||"keyword"==Me.style?(Me.marked="property",d("get"==t||"set"==t?N:D)):"number"==e||"string"==e?(Me.marked=xe?"property":Me.style+" property",d(D)):"jsonld-keyword"==e?d(D):"["==e?d(S,x("]"),D):void 0}function N(e){return"variable"!=e?p(D):(Me.marked="property",d(te))}function D(e){return":"==e?d(_):"("==e?p(te):void 0}function B(e,t){function r(n){if(","==n){var i=Me.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),d(e,r)}return n==t?d():d(x(t))}return function(n){return n==t?d():p(e,r)}}function j(e,t,r){for(var n=3;n<arguments.length;n++)Me.cc.push(arguments[n]);return d(y(t,r),B(e,t),b)}function H(e){return"}"==e?d():p(w,H)}function F(e){return Se&&":"==e?d(z):void 0}function W(e,t){return"="==t?d(_):void 0}function z(e){return"variable"==e?(Me.marked="variable-3",d()):void 0}function G(){return p(V,F,Y,X)}function V(e,t){return"variable"==e?(v(t),d()):"["==e?j(V,"]"):"{"==e?j(q,"}"):void 0}function q(e,t){return"variable"!=e||Me.stream.match(/^\s*:/,!1)?("variable"==e&&(Me.marked="property"),d(x(":"),V,Y)):(v(t),d(Y))}function Y(e,t){return"="==t?d(_):void 0}function X(e){return","==e?d(G):void 0}function K(e,t){return"keyword b"==e&&"else"==t?d(y("form","else"),w,b):void 0}function $(e){return"("==e?d(y(")"),Q,x(")"),b):void 0}function Q(e){return"var"==e?d(G,x(";"),J):";"==e?d(J):"variable"==e?d(Z):p(S,x(";"),J)}function Z(e,t){return"in"==t||"of"==t?(Me.marked="keyword",d(S)):d(A,J)}function J(e,t){return";"==e?d(ee):"in"==t||"of"==t?(Me.marked="keyword",d(S)):p(S,x(";"),ee)}function ee(e){")"!=e&&d(S)}function te(e,t){return"*"==t?(Me.marked="keyword",d(te)):"variable"==e?(v(t),d(te)):"("==e?d(g,y(")"),B(re,")"),b,w,m):void 0}function re(e){return"spread"==e?d(re):p(V,F,W)}function ne(e,t){return"variable"==e?(v(t),d(ie)):void 0}function ie(e,t){return"extends"==t?d(S,ie):"{"==e?d(y("}"),ae,b):void 0}function ae(e,t){return"variable"==e||"keyword"==Me.style?"static"==t?(Me.marked="keyword",d(ae)):(Me.marked="property","get"==t||"set"==t?d(se,te,ae):d(te,ae)):"*"==t?(Me.marked="keyword",d(ae)):";"==e?d(ae):"}"==e?d():void 0}function se(e){return"variable"!=e?p():(Me.marked="property",d())}function oe(e,t){return"*"==t?(Me.marked="keyword",d(he,x(";"))):"default"==t?(Me.marked="keyword",d(S,x(";"))):p(w)}function le(e){return"string"==e?d():p(ue,he)}function ue(e,t){return"{"==e?j(ue,"}"):("variable"==e&&v(t),"*"==t&&(Me.marked="keyword"),d(ce))}function ce(e,t){return"as"==t?(Me.marked="keyword",d(ue)):void 0}function he(e,t){return"from"==t?(Me.marked="keyword",d(S)):void 0}function fe(e){return"]"==e?d():p(_,pe)}function pe(e){return"for"==e?p(de,x("]")):","==e?d(B(C,"]")):p(B(_,"]"))}function de(e){return"for"==e?d($,de):"if"==e?d(S,de):void 0}function ve(e,t){return"operator"==e.lastType||","==e.lastType||ke.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var ge,me,ye=t.indentUnit,be=r.statementIndent,xe=r.jsonld,we=r.json||xe,Se=r.typescript,_e=r.wordCharacters||/[\w$\xa1-\uffff]/,Te=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("operator"),a={type:"atom",style:"atom"},s={"if":e("if"),"while":t,"with":t,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"debugger":n,"var":e("var"),"const":e("var"),let:e("var"),async:e("async"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":a,"false":a,"null":a,undefined:a,NaN:a,Infinity:a,"this":e("this"),"class":e("class"),"super":e("atom"),await:n,"yield":n,"export":e("export"),"import":e("import"),"extends":n};if(Se){var o={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:o,number:o,bool:o,any:o};for(var u in l)s[u]=l[u]}return s}(),ke=/[+\-*&%=<>!?|~^]/,Ce=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ae="([{}])",Oe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Me={state:null,column:null,marked:null,cc:null},Le={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){var t={tokenize:a,lastType:"sof",cc:[],lexical:new c((e||0)-ye,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=o&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==ge?r:(t.lastType="operator"!=ge||"++"!=me&&"--"!=me?ge:"incdec",f(t,r,ge,me,e))},indent:function(t,n){if(t.tokenize==o)return e.Pass;if(t.tokenize!=a)return 0;var i=n&&n.charAt(0),s=t.lexical;if(!/^\s*else\b/.test(n))for(var l=t.cc.length-1;l>=0;--l){var u=t.cc[l];if(u==b)s=s.prev;else if(u!=K)break}"stat"==s.type&&"}"==i&&(s=s.prev),be&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var c=s.type,h=i==c;return"vardef"==c?s.indented+("operator"==t.lastType||","==t.lastType?s.info+1:0):"form"==c&&"{"==i?s.indented:"form"==c?s.indented+ye:"stat"==c?s.indented+(ve(t,n)?be||ye:0):"switch"!=s.info||h||0==r.doubleIndentSwitch?s.align?s.column+(h?0:1):s.indented+(h?0:ye):s.indented+(/^(?:case|default)\b/.test(n)?ye:2*ye)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:we?null:"/*",blockCommentEnd:we?null:"*/",lineComment:we?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:we?"json":"javascript",jsonldMode:xe,jsonMode:we}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(){var e=this,t=e._,r={},n=Array.prototype,i=Object.prototype,a=Function.prototype,s=n.push,o=n.slice,l=n.concat,u=i.toString,c=i.hasOwnProperty,h=n.forEach,f=n.map,p=n.reduce,d=n.reduceRight,v=n.filter,g=n.every,m=n.some,y=n.indexOf,b=n.lastIndexOf,x=Array.isArray,w=Object.keys,S=a.bind,_=function(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):e._=_,_.VERSION="1.5.2";var T=_.each=_.forEach=function(e,t,n){if(null!=e)if(h&&e.forEach===h)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,a=e.length;a>i;i++)if(t.call(n,e[i],i,e)===r)return}else for(var s=_.keys(e),i=0,a=s.length;a>i;i++)if(t.call(n,e[s[i]],s[i],e)===r)return};_.map=_.collect=function(e,t,r){var n=[];return null==e?n:f&&e.map===f?e.map(t,r):(T(e,function(e,i,a){n.push(t.call(r,e,i,a))}),n)};var k="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(e,t,r,n){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return n&&(t=_.bind(t,n)),i?e.reduce(t,r):e.reduce(t);if(T(e,function(e,a,s){i?r=t.call(n,r,e,a,s):(r=e,i=!0)}),!i)throw new TypeError(k);return r},_.reduceRight=_.foldr=function(e,t,r,n){var i=arguments.length>2;if(null==e&&(e=[]),d&&e.reduceRight===d)return n&&(t=_.bind(t,n)),i?e.reduceRight(t,r):e.reduceRight(t);var a=e.length;if(a!==+a){var s=_.keys(e);a=s.length}if(T(e,function(o,l,u){l=s?s[--a]:--a,i?r=t.call(n,r,e[l],l,u):(r=e[l],i=!0)}),!i)throw new TypeError(k);return r},_.find=_.detect=function(e,t,r){var n;return C(e,function(e,i,a){return t.call(r,e,i,a)?(n=e,!0):void 0}),n},_.filter=_.select=function(e,t,r){var n=[];return null==e?n:v&&e.filter===v?e.filter(t,r):(T(e,function(e,i,a){t.call(r,e,i,a)&&n.push(e)}),n)},_.reject=function(e,t,r){return _.filter(e,function(e,n,i){return!t.call(r,e,n,i)},r)},_.every=_.all=function(e,t,n){t||(t=_.identity);var i=!0;return null==e?i:g&&e.every===g?e.every(t,n):(T(e,function(e,a,s){return(i=i&&t.call(n,e,a,s))?void 0:r}),!!i)};var C=_.some=_.any=function(e,t,n){t||(t=_.identity);var i=!1;return null==e?i:m&&e.some===m?e.some(t,n):(T(e,function(e,a,s){return i||(i=t.call(n,e,a,s))?r:void 0}),!!i)};_.contains=_.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):C(e,function(e){return e===t})},_.invoke=function(e,t){var r=o.call(arguments,2),n=_.isFunction(t);return _.map(e,function(e){return(n?t:e[t]).apply(e,r)})},_.pluck=function(e,t){return _.map(e,function(e){return e[t]})},_.where=function(e,t,r){return _.isEmpty(t)?r?void 0:[]:_[r?"find":"filter"](e,function(e){for(var r in t)if(t[r]!==e[r])return!1;return!0})},_.findWhere=function(e,t){return _.where(e,t,!0)},_.max=function(e,t,r){if(!t&&_.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&_.isEmpty(e))return-(1/0);var n={computed:-(1/0),value:-(1/0)};return T(e,function(e,i,a){var s=t?t.call(r,e,i,a):e;s>n.computed&&(n={value:e,computed:s})}),n.value},_.min=function(e,t,r){if(!t&&_.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&_.isEmpty(e))return 1/0;var n={computed:1/0,value:1/0};return T(e,function(e,i,a){var s=t?t.call(r,e,i,a):e;s<n.computed&&(n={value:e,computed:s})}),n.value},_.shuffle=function(e){var t,r=0,n=[];return T(e,function(e){t=_.random(r++),n[r-1]=n[t],n[t]=e}),n},_.sample=function(e,t,r){return arguments.length<2||r?e[_.random(e.length-1)]:_.shuffle(e).slice(0,Math.max(0,t))};var A=function(e){return _.isFunction(e)?e:function(t){return t[e]}};_.sortBy=function(e,t,r){var n=A(t);return _.pluck(_.map(e,function(e,t,i){return{value:e,index:t,criteria:n.call(r,e,t,i)}}).sort(function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(n>r||void 0===n)return-1}return e.index-t.index}),"value")};var O=function(e){return function(t,r,n){var i={},a=null==r?_.identity:A(r);return T(t,function(r,s){var o=a.call(n,r,s,t);e(i,o,r)}),i}};_.groupBy=O(function(e,t,r){(_.has(e,t)?e[t]:e[t]=[]).push(r)}),_.indexBy=O(function(e,t,r){e[t]=r}),_.countBy=O(function(e,t){_.has(e,t)?e[t]++:e[t]=1}),_.sortedIndex=function(e,t,r,n){r=null==r?_.identity:A(r);for(var i=r.call(n,t),a=0,s=e.length;s>a;){var o=a+s>>>1;r.call(n,e[o])<i?a=o+1:s=o}return a},_.toArray=function(e){return e?_.isArray(e)?o.call(e):e.length===+e.length?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:e.length===+e.length?e.length:_.keys(e).length},_.first=_.head=_.take=function(e,t,r){return null==e?void 0:null==t||r?e[0]:o.call(e,0,t)},_.initial=function(e,t,r){return o.call(e,0,e.length-(null==t||r?1:t))},_.last=function(e,t,r){return null==e?void 0:null==t||r?e[e.length-1]:o.call(e,Math.max(e.length-t,0))},_.rest=_.tail=_.drop=function(e,t,r){return o.call(e,null==t||r?1:t)},_.compact=function(e){return _.filter(e,_.identity)};var M=function(e,t,r){return t&&_.every(e,_.isArray)?l.apply(r,e):(T(e,function(e){_.isArray(e)||_.isArguments(e)?t?s.apply(r,e):M(e,t,r):r.push(e)}),r)};_.flatten=function(e,t){return M(e,t,[])},_.without=function(e){return _.difference(e,o.call(arguments,1))},_.uniq=_.unique=function(e,t,r,n){_.isFunction(t)&&(n=r,r=t,t=!1);var i=r?_.map(e,r,n):e,a=[],s=[];return T(i,function(r,n){(t?n&&s[s.length-1]===r:_.contains(s,r))||(s.push(r),a.push(e[n]))}),a},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(e){var t=o.call(arguments,1);return _.filter(_.uniq(e),function(e){return _.every(t,function(t){return _.indexOf(t,e)>=0})})},_.difference=function(e){var t=l.apply(n,o.call(arguments,1));return _.filter(e,function(e){return!_.contains(t,e)})},_.zip=function(){for(var e=_.max(_.pluck(arguments,"length").concat(0)),t=new Array(e),r=0;e>r;r++)t[r]=_.pluck(arguments,""+r);return t},_.object=function(e,t){if(null==e)return{};for(var r={},n=0,i=e.length;i>n;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r},_.indexOf=function(e,t,r){if(null==e)return-1;var n=0,i=e.length;if(r){if("number"!=typeof r)return n=_.sortedIndex(e,t),e[n]===t?n:-1;n=0>r?Math.max(0,i+r):r}if(y&&e.indexOf===y)return e.indexOf(t,r);for(;i>n;n++)if(e[n]===t)return n;return-1},_.lastIndexOf=function(e,t,r){if(null==e)return-1;var n=null!=r;if(b&&e.lastIndexOf===b)return n?e.lastIndexOf(t,r):e.lastIndexOf(t);for(var i=n?r:e.length;i--;)if(e[i]===t)return i;return-1},_.range=function(e,t,r){arguments.length<=1&&(t=e||0,e=0),r=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/r),0),i=0,a=new Array(n);n>i;)a[i++]=e,e+=r;return a};var L=function(){};_.bind=function(e,t){var r,n;if(S&&e.bind===S)return S.apply(e,o.call(arguments,1));if(!_.isFunction(e))throw new TypeError;return r=o.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(o.call(arguments)));L.prototype=e.prototype;var i=new L;L.prototype=null;var a=e.apply(i,r.concat(o.call(arguments)));return Object(a)===a?a:i}},_.partial=function(e){var t=o.call(arguments,1);return function(){return e.apply(this,t.concat(o.call(arguments)))}},_.bindAll=function(e){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=_.bind(e[t],e)}),e},_.memoize=function(e,t){var r={};return t||(t=_.identity),function(){var n=t.apply(this,arguments);return _.has(r,n)?r[n]:r[n]=e.apply(this,arguments)}},_.delay=function(e,t){var r=o.call(arguments,2);return setTimeout(function(){return e.apply(null,r)},t)},_.defer=function(e){return _.delay.apply(_,[e,1].concat(o.call(arguments,1)))},_.throttle=function(e,t,r){var n,i,a,s=null,o=0;r||(r={});var l=function(){o=r.leading===!1?0:new Date,s=null,a=e.apply(n,i)};return function(){var u=new Date;o||r.leading!==!1||(o=u);var c=t-(u-o);return n=this,i=arguments,0>=c?(clearTimeout(s),s=null,o=u,a=e.apply(n,i)):s||r.trailing===!1||(s=setTimeout(l,c)),a}},_.debounce=function(e,t,r){var n,i,a,s,o;return function(){a=this,i=arguments,s=new Date;var l=function(){var u=new Date-s;t>u?n=setTimeout(l,t-u):(n=null,r||(o=e.apply(a,i)))},u=r&&!n;return n||(n=setTimeout(l,t)),u&&(o=e.apply(a,i)),o}},_.once=function(e){var t,r=!1;return function(){return r?t:(r=!0,t=e.apply(this,arguments),e=null,t)}},_.wrap=function(e,t){return function(){var r=[e];return s.apply(r,arguments),t.apply(this,r)}},_.compose=function(){var e=arguments;return function(){for(var t=arguments,r=e.length-1;r>=0;r--)t=[e[r].apply(this,t)];return t[0]}},_.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},_.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var r in e)_.has(e,r)&&t.push(r);return t},_.values=function(e){for(var t=_.keys(e),r=t.length,n=new Array(r),i=0;r>i;i++)n[i]=e[t[i]];return n},_.pairs=function(e){for(var t=_.keys(e),r=t.length,n=new Array(r),i=0;r>i;i++)n[i]=[t[i],e[t[i]]];return n},_.invert=function(e){for(var t={},r=_.keys(e),n=0,i=r.length;i>n;n++)t[e[r[n]]]=r[n];return t},_.functions=_.methods=function(e){var t=[];for(var r in e)_.isFunction(e[r])&&t.push(r);return t.sort()},_.extend=function(e){return T(o.call(arguments,1),function(t){if(t)for(var r in t)e[r]=t[r]}),e},_.pick=function(e){var t={},r=l.apply(n,o.call(arguments,1));return T(r,function(r){r in e&&(t[r]=e[r])}),t},_.omit=function(e){var t={},r=l.apply(n,o.call(arguments,1));for(var i in e)_.contains(r,i)||(t[i]=e[i]);return t},_.defaults=function(e){return T(o.call(arguments,1),function(t){if(t)for(var r in t)void 0===e[r]&&(e[r]=t[r])}),e},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e};var E=function(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var i=u.call(e);if(i!=u.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=r.length;a--;)if(r[a]==e)return n[a]==t;var s=e.constructor,o=t.constructor;if(s!==o&&!(_.isFunction(s)&&s instanceof s&&_.isFunction(o)&&o instanceof o))return!1;r.push(e),n.push(t);var l=0,c=!0;if("[object Array]"==i){if(l=e.length,c=l==t.length)for(;l--&&(c=E(e[l],t[l],r,n)););}else{for(var h in e)if(_.has(e,h)&&(l++,!(c=_.has(t,h)&&E(e[h],t[h],r,n))))break;if(c){for(h in t)if(_.has(t,h)&&!l--)break;c=!l}}return r.pop(),n.pop(),c};_.isEqual=function(e,t){return E(e,t,[],[])},_.isEmpty=function(e){if(null==e)return!0;if(_.isArray(e)||_.isString(e))return 0===e.length;for(var t in e)if(_.has(e,t))return!1;return!0},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=x||function(e){return"[object Array]"==u.call(e)},_.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){_["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return!(!e||!_.has(e,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(e){return"function"==typeof e}),_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&e!=+e},_.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return c.call(e,t)},_.noConflict=function(){return e._=t,this},_.identity=function(e){return e},_.times=function(e,t,r){for(var n=Array(Math.max(0,e)),i=0;e>i;i++)n[i]=t.call(r,i);return n},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=_.invert(P.escape);
var R={escape:new RegExp("["+_.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(P.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(e){_[e]=function(t){return null==t?"":(""+t).replace(R[e],function(t){return P[e][t]})}}),_.result=function(e,t){if(null==e)return void 0;var r=e[t];return _.isFunction(r)?r.call(e):r},_.mixin=function(e){T(_.functions(e),function(t){var r=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),B.call(this,r.apply(_,e))}})};var I=0;_.uniqueId=function(e){var t=++I+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(e,t,r){var n;r=_.defaults({},r,_.templateSettings);var i=new RegExp([(r.escape||U).source,(r.interpolate||U).source,(r.evaluate||U).source].join("|")+"|$","g"),a=0,s="__p+='";e.replace(i,function(t,r,n,i,o){return s+=e.slice(a,o).replace(D,function(e){return"\\"+N[e]}),r&&(s+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),n&&(s+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),i&&(s+="';\n"+i+"\n__p+='"),a=o+t.length,t}),s+="';\n",r.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(r.variable||"obj","_",s)}catch(o){throw o.source=s,o}if(t)return n(t,_);var l=function(e){return n.call(this,e,_)};return l.source="function("+(r.variable||"obj")+"){\n"+s+"}",l},_.chain=function(e){return _(e).chain()};var B=function(e){return this._chain?_(e).chain():e};_.mixin(_),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];_.prototype[e]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=e&&"splice"!=e||0!==r.length||delete r[0],B.call(this,r)}}),T(["concat","join","slice"],function(e){var t=n[e];_.prototype[e]=function(){return B.call(this,t.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),/*!
 * VERSION: 1.18.2
 * DATE: 2015-12-22
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
!function(e,t){"use strict";var r=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!r.TweenLite){var n,i,a,s,o,l=function(e){var t,n=e.split("."),i=r;for(t=0;t<n.length;t++)i[n[t]]=i=i[n[t]]||{};return i},u=l("com.greensock"),c=1e-10,h=function(e){var t,r=[],n=e.length;for(t=0;t!==n;r.push(e[t++]));return r},f=function(){},p=function(){var e=Object.prototype.toString,t=e.call([]);return function(r){return null!=r&&(r instanceof Array||"object"==typeof r&&!!r.push&&e.call(r)===t)}}(),d={},v=function(n,i,a,s){this.sc=d[n]?d[n].sc:[],d[n]=this,this.gsClass=null,this.func=a;var o=[];this.check=function(u){for(var c,h,f,p,g,m=i.length,y=m;--m>-1;)(c=d[i[m]]||new v(i[m],[])).gsClass?(o[m]=c.gsClass,y--):u&&c.sc.push(this);if(0===y&&a)for(h=("com.greensock."+n).split("."),f=h.pop(),p=l(h.join("."))[f]=this.gsClass=a.apply(a,o),s&&(r[f]=p,g="undefined"!=typeof module&&module.exports,!g&&"function"==typeof define&&define.amd?define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+n.split(".").pop(),[],function(){return p}):n===t&&g&&(module.exports=p)),m=0;m<this.sc.length;m++)this.sc[m].check()},this.check(!0)},g=e._gsDefine=function(e,t,r,n){return new v(e,t,r,n)},m=u._class=function(e,t,r){return t=t||function(){},g(e,[],function(){return t},r),t};g.globals=r;var y=[0,0,1,1],b=[],x=m("easing.Ease",function(e,t,r,n){this._func=e,this._type=r||0,this._power=n||0,this._params=t?y.concat(t):y},!0),w=x.map={},S=x.register=function(e,t,r,n){for(var i,a,s,o,l=t.split(","),c=l.length,h=(r||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(a=l[c],i=n?m("easing."+a,null,!0):u.easing[a]||{},s=h.length;--s>-1;)o=h[s],w[a+"."+o]=w[o+a]=i[o]=e.getRatio?e:e[o]||new e};for(a=x.prototype,a._calcEnd=!1,a.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,r=this._power,n=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===r?n*=n:2===r?n*=n*n:3===r?n*=n*n*n:4===r&&(n*=n*n*n*n),1===t?1-n:2===t?n:.5>e?n/2:1-n/2},n=["Linear","Quad","Cubic","Quart","Quint,Strong"],i=n.length;--i>-1;)a=n[i]+",Power"+i,S(new x(null,null,1,i),a,"easeOut",!0),S(new x(null,null,2,i),a,"easeIn"+(0===i?",easeNone":"")),S(new x(null,null,3,i),a,"easeInOut");w.linear=u.easing.Linear.easeIn,w.swing=u.easing.Quad.easeInOut;var _=m("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});a=_.prototype,a.addEventListener=function(e,t,r,n,i){i=i||0;var a,l,u=this._listeners[e],c=0;for(null==u&&(this._listeners[e]=u=[]),l=u.length;--l>-1;)a=u[l],a.c===t&&a.s===r?u.splice(l,1):0===c&&a.pr<i&&(c=l+1);u.splice(c,0,{c:t,s:r,up:n,pr:i}),this!==s||o||s.wake()},a.removeEventListener=function(e,t){var r,n=this._listeners[e];if(n)for(r=n.length;--r>-1;)if(n[r].c===t)return void n.splice(r,1)},a.dispatchEvent=function(e){var t,r,n,i=this._listeners[e];if(i)for(t=i.length,r=this._eventTarget;--t>-1;)n=i[t],n&&(n.up?n.c.call(n.s||r,{type:e,target:r}):n.c.call(n.s||r))};var T=e.requestAnimationFrame,k=e.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},A=C();for(n=["ms","moz","webkit","o"],i=n.length;--i>-1&&!T;)T=e[n[i]+"RequestAnimationFrame"],k=e[n[i]+"CancelAnimationFrame"]||e[n[i]+"CancelRequestAnimationFrame"];m("Ticker",function(e,t){var r,n,i,a,l,u=this,h=C(),p=t!==!1&&T?"auto":!1,d=500,v=33,g="tick",m=function(e){var t,s,o=C()-A;o>d&&(h+=o-v),A+=o,u.time=(A-h)/1e3,t=u.time-l,(!r||t>0||e===!0)&&(u.frame++,l+=t+(t>=a?.004:a-t),s=!0),e!==!0&&(i=n(m)),s&&u.dispatchEvent(g)};_.call(u),u.time=u.frame=0,u.tick=function(){m(!0)},u.lagSmoothing=function(e,t){d=e||1/c,v=Math.min(t,d,0)},u.sleep=function(){null!=i&&(p&&k?k(i):clearTimeout(i),n=f,i=null,u===s&&(o=!1))},u.wake=function(e){null!==i?u.sleep():e?h+=-A+(A=C()):u.frame>10&&(A=C()-d+5),n=0===r?f:p&&T?T:function(e){return setTimeout(e,1e3*(l-u.time)+1|0)},u===s&&(o=!0),m(2)},u.fps=function(e){return arguments.length?(r=e,a=1/(r||60),l=this.time+a,void u.wake()):r},u.useRAF=function(e){return arguments.length?(u.sleep(),p=e,void u.fps(r)):p},u.fps(e),setTimeout(function(){"auto"===p&&u.frame<5&&"hidden"!==document.visibilityState&&u.useRAF(!1)},1500)}),a=u.Ticker.prototype=new u.events.EventDispatcher,a.constructor=u.Ticker;var O=m("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,Y){o||s.wake();var r=this.vars.useFrames?q:Y;r.add(this,r._time),this.vars.paused&&this.paused(!0)}});s=O.ticker=new u.Ticker,a=O.prototype,a._dirty=a._gc=a._initted=a._paused=!1,a._totalTime=a._time=0,a._rawPrevTime=-1,a._next=a._last=a._onUpdate=a._timeline=a.timeline=null,a._paused=!1;var M=function(){o&&C()-A>2e3&&s.wake(),setTimeout(M,2e3)};M(),a.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},a.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},a.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},a.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},a.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},a.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},a.render=function(e,t,r){},a.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},a.isActive=function(){var e,t=this._timeline,r=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime())>=r&&e<r+this.totalDuration()/this._timeScale},a._enabled=function(e,t){return o||s.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},a._kill=function(e,t){return this._enabled(!1,!1)},a.kill=function(e,t){return this._kill(e,t),this},a._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},a._swapSelfInParams=function(e){for(var t=e.length,r=e.concat();--t>-1;)"{self}"===e[t]&&(r[t]=this);return r},a._callback=function(e){var t=this.vars;t[e].apply(t[e+"Scope"]||t.callbackScope||this,t[e+"Params"]||b)},a.eventCallback=function(e,t,r,n){if("on"===(e||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[e];null==t?delete i[e]:(i[e]=t,i[e+"Params"]=p(r)&&-1!==r.join("").indexOf("{self}")?this._swapSelfInParams(r):r,i[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},a.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},a.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},a.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},a.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},a.totalTime=function(e,t,r){if(o||s.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!r&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,i=this._timeline;if(e>n&&!r&&(e=n),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?n-e:e)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(I.length&&K(),this.render(e,t,!1),I.length&&K())}return this},a.progress=a.totalProgress=function(e,t){var r=this.duration();return arguments.length?this.totalTime(r*e,t):r?this._time/r:this.ratio},a.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},a.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},a.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||c,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,r=t||0===t?t:this._timeline.totalTime();this._startTime=r-(r-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},a.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},a.paused=function(e){if(!arguments.length)return this._paused;var t,r,n=this._timeline;return e!=this._paused&&n&&(o||e||s.wake(),t=n.rawTime(),r=t-this._pauseTime,!e&&n.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==r&&this._initted&&this.duration()&&(t=n.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var L=m("core.SimpleTimeline",function(e){O.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});a=L.prototype=new O,a.constructor=L,a.kill()._gc=!1,a._first=a._last=a._recent=null,a._sortChildren=!1,a.add=a.insert=function(e,t,r,n){var i,a;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(a=e._startTime;i&&i._startTime>a;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._recent=e,this._timeline&&this._uncache(!0),this},a._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},a.render=function(e,t,r){var n,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;i;)n=i._next,(i._active||e>=i._startTime&&!i._paused)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,r):i.render((e-i._startTime)*i._timeScale,t,r)),i=n},a.rawTime=function(){return o||s.wake(),this._totalTime};var E=m("TweenLite",function(t,r,n){if(O.call(this,r,n),this.render=E.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:E.selector(t)||t;var i,a,s,o=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?V[E.defaultOverwrite]:"number"==typeof l?l>>0:V[l],(o||t instanceof Array||t.push&&p(t))&&"number"!=typeof t[0])for(this._targets=s=h(t),this._propLookup=[],this._siblings=[],i=0;i<s.length;i++)a=s[i],a?"string"!=typeof a?a.length&&a!==e&&a[0]&&(a[0]===e||a[0].nodeType&&a[0].style&&!a.nodeType)?(s.splice(i--,1),this._targets=s=s.concat(h(a))):(this._siblings[i]=$(a,this,!1),1===l&&this._siblings[i].length>1&&Z(a,this,null,1,this._siblings[i])):(a=s[i--]=E.selector(a),"string"==typeof a&&s.splice(i+1,1)):s.splice(i--,1);else this._propLookup={},this._siblings=$(t,this,!1),1===l&&this._siblings.length>1&&Z(t,this,null,1,this._siblings);(this.vars.immediateRender||0===r&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-c,this.render(-this._delay))},!0),P=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},R=function(e,t){var r,n={};for(r in e)G[r]||r in t&&"transform"!==r&&"x"!==r&&"y"!==r&&"width"!==r&&"height"!==r&&"className"!==r&&"border"!==r||!(!F[r]||F[r]&&F[r]._autoCSS)||(n[r]=e[r],delete e[r]);e.css=n};a=E.prototype=new O,a.constructor=E,a.kill()._gc=!1,a.ratio=0,a._firstPT=a._targets=a._overwrittenProps=a._startAt=null,a._notifyPluginsOfEnabled=a._lazy=!1,E.version="1.18.2",E.defaultEase=a._ease=new x(null,null,1,1),E.defaultOverwrite="auto",E.ticker=s,E.autoSleep=120,E.lagSmoothing=function(e,t){s.lagSmoothing(e,t)},E.selector=e.$||e.jQuery||function(t){var r=e.$||e.jQuery;return r?(E.selector=r,r(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var I=[],U={},N=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,D=function(e){for(var t,r=this._firstPT,n=1e-6;r;)t=r.blob?e?this.join(""):this.start:r.c*e+r.s,r.r?t=Math.round(t):n>t&&t>-n&&(t=0),r.f?r.fp?r.t[r.p](r.fp,t):r.t[r.p](t):r.t[r.p]=t,r=r._next},B=function(e,t,r,n){var i,a,s,o,l,u,c,h=[e,t],f=0,p="",d=0;for(h.start=e,r&&(r(h),e=h[0],t=h[1]),h.length=0,i=e.match(N)||[],a=t.match(N)||[],n&&(n._next=null,n.blob=1,h._firstPT=n),l=a.length,o=0;l>o;o++)c=a[o],u=t.substr(f,t.indexOf(c,f)-f),p+=u||!o?u:",",f+=u.length,d?d=(d+1)%5:"rgba("===u.substr(-5)&&(d=1),c===i[o]||i.length<=o?p+=c:(p&&(h.push(p),p=""),s=parseFloat(i[o]),h.push(s),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:s,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-s)||0,f:0,r:d&&4>d}),f+=c.length;return p+=t.substr(f),p&&h.push(p),h.setRatio=D,h},j=function(e,t,r,n,i,a,s,o){var l,u,c="get"===r?e[t]:r,h=typeof e[t],f="string"==typeof n&&"="===n.charAt(1),p={t:e,p:t,s:c,f:"function"===h,pg:0,n:i||t,r:a,pr:0,c:f?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-c||0};return"number"!==h&&("function"===h&&"get"===r&&(u=t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),p.s=c=s?e[u](s):e[u]()),"string"==typeof c&&(s||isNaN(c))?(p.fp=s,l=B(c,n,o||E.defaultStringFilter,p),p={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:i||t,pr:0}):f||(p.s=parseFloat(c),p.c=parseFloat(n)-p.s||0)),p.c?((p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p):void 0},H=E._internals={isArray:p,isSelector:P,lazyTweens:I,blobDif:B},F=E._plugins={},W=H.tweenLookup={},z=0,G=H.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1},V={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},q=O._rootFramesTimeline=new L,Y=O._rootTimeline=new L,X=30,K=H.lazyRender=function(){var e,t=I.length;for(U={};--t>-1;)e=I[t],e&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);I.length=0};Y._startTime=s.time,q._startTime=s.frame,Y._active=q._active=!0,setTimeout(K,1),O._updateRoot=E.render=function(){var e,t,r;if(I.length&&K(),Y.render((s.time-Y._startTime)*Y._timeScale,!1,!1),q.render((s.frame-q._startTime)*q._timeScale,!1,!1),I.length&&K(),s.frame>=X){X=s.frame+(parseInt(E.autoSleep,10)||120);for(r in W){for(t=W[r].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete W[r]}if(r=Y._first,(!r||r._paused)&&E.autoSleep&&!q._first&&1===s._listeners.tick.length){for(;r&&r._paused;)r=r._next;r||s.sleep()}}},s.addEventListener("tick",O._updateRoot);var $=function(e,t,r){var n,i,a=e._gsTweenID;if(W[a||(e._gsTweenID=a="t"+z++)]||(W[a]={target:e,tweens:[]}),t&&(n=W[a].tweens,n[i=n.length]=t,r))for(;--i>-1;)n[i]===t&&n.splice(i,1);return W[a].tweens},Q=function(e,t,r,n){var i,a,s=e.vars.onOverwrite;return s&&(i=s(e,t,r,n)),s=E.onOverwrite,s&&(a=s(e,t,r,n)),i!==!1&&a!==!1},Z=function(e,t,r,n,i){var a,s,o,l;if(1===n||n>=4){for(l=i.length,a=0;l>a;a++)if((o=i[a])!==t)o._gc||o._kill(null,e,t)&&(s=!0);else if(5===n)break;return s}var u,h=t._startTime+c,f=[],p=0,d=0===t._duration;for(a=i.length;--a>-1;)(o=i[a])===t||o._gc||o._paused||(o._timeline!==t._timeline?(u=u||J(t,0,d),0===J(o,u,d)&&(f[p++]=o)):o._startTime<=h&&o._startTime+o.totalDuration()/o._timeScale>h&&((d||!o._initted)&&h-o._startTime<=2e-10||(f[p++]=o)));for(a=p;--a>-1;)if(o=f[a],2===n&&o._kill(r,e,t)&&(s=!0),2!==n||!o._firstPT&&o._initted){if(2!==n&&!Q(o,t))continue;o._enabled(!1,!1)&&(s=!0)}return s},J=function(e,t,r){for(var n=e._timeline,i=n._timeScale,a=e._startTime;n._timeline;){if(a+=n._startTime,i*=n._timeScale,n._paused)return-100;n=n._timeline}return a/=i,a>t?a-t:r&&a===t||!e._initted&&2*c>a-t?c:(a+=e.totalDuration()/e._timeScale/i)>t+c?0:a-t-c};a._init=function(){var e,t,r,n,i,a=this.vars,s=this._overwrittenProps,o=this._duration,l=!!a.immediateRender,u=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={};for(n in a.startAt)i[n]=a.startAt[n];if(i.overwrite=!1,i.immediateRender=!0,i.lazy=l&&a.lazy!==!1,i.startAt=i.delay=null,this._startAt=E.to(this.target,0,i),l)if(this._time>0)this._startAt=null;else if(0!==o)return}else if(a.runBackwards&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),r={};for(n in a)G[n]&&"autoCSS"!==n||(r[n]=a[n]);if(r.overwrite=0,r.data="isFromStart",r.lazy=l&&a.lazy!==!1,r.immediateRender=l,this._startAt=E.to(this.target,0,r),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof x?u:"function"==typeof u?new x(u,a.easeParams):w[u]||E.defaultEase:E.defaultEase,a.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(e=this._targets.length;--e>-1;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s);if(t&&E._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(r=this._firstPT;r;)r.s+=r.c,r.c=-r.c,r=r._next;this._onUpdate=a.onUpdate,this._initted=!0},a._initProps=function(t,r,n,i){var a,s,o,l,u,c;if(null==t)return!1;U[t._gsTweenID]&&K(),this.vars.css||t.style&&t!==e&&t.nodeType&&F.css&&this.vars.autoCSS!==!1&&R(this.vars,t);for(a in this.vars)if(c=this.vars[a],G[a])c&&(c instanceof Array||c.push&&p(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[a]=c=this._swapSelfInParams(c,this));else if(F[a]&&(l=new F[a])._onInitTween(t,this.vars[a],this)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:l._priority},s=l._overwriteProps.length;--s>-1;)r[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(o=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else r[a]=j.call(this,t,a,"get",c,a,0,null,this.vars.stringFilter);return i&&this._kill(i,t)?this._initProps(t,r,n,i):this._overwrite>1&&this._firstPT&&n.length>1&&Z(t,this,r,this._overwrite,n)?(this._kill(r,t),this._initProps(t,r,n,i)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(U[t._gsTweenID]=!0),o)},a.render=function(e,t,r){var n,i,a,s,o=this._time,l=this._duration,u=this._rawPrevTime;if(e>=l-1e-7)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,i="onComplete",r=r||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(e=0),(0>u||0>=e&&e>=-1e-7||u===c&&"isPause"!==this.data)&&u!==e&&(r=!0,u>c&&(i="onReverseComplete")),this._rawPrevTime=s=!t||e||u===e?e:c);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===l&&u>0)&&(i="onReverseComplete",n=this._reversed),0>e&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||r)&&(u>=0&&(u!==c||"isPause"!==this.data)&&(r=!0),this._rawPrevTime=s=!t||e||u===e?e:c)),this._initted||(r=!0);else if(this._totalTime=this._time=e,this._easeType){var h=e/l,f=this._easeType,p=this._easePower;(1===f||3===f&&h>=.5)&&(h=1-h),3===f&&(h*=2),1===p?h*=h:2===p?h*=h*h:3===p?h*=h*h*h:4===p&&(h*=h*h*h*h),1===f?this.ratio=1-h:2===f?this.ratio=h:.5>e/l?this.ratio=h/2:this.ratio=1-h/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==o||r){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=u,I.push(this),void(this._lazy=[e,t]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&e>=0&&(this._active=!0),0===o&&(this._startAt&&(e>=0?this._startAt.render(e,t,r):i||(i="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(t||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(0>e&&this._startAt&&e!==-1e-4&&this._startAt.render(e,t,r),t||(this._time!==o||n)&&this._callback("onUpdate")),i&&(!this._gc||r)&&(0>e&&this._startAt&&!this._onUpdate&&e!==-1e-4&&this._startAt.render(e,t,r),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this._callback(i),0===l&&this._rawPrevTime===c&&s!==c&&(this._rawPrevTime=0))}},a._kill=function(e,t,r){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:E.selector(t)||t;var n,i,a,s,o,l,u,c,h,f=r&&this._time&&r._startTime===this._startTime&&this._timeline===r._timeline;if((p(t)||P(t))&&"number"!=typeof t[0])for(n=t.length;--n>-1;)this._kill(e,t[n],r)&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(t===this._targets[n]){o=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;o=this._propLookup,i=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(o){if(u=e||o,c=e!==i&&"all"!==i&&e!==o&&("object"!=typeof e||!e._tempKill),r&&(E.onOverwrite||this.vars.onOverwrite)){for(a in u)o[a]&&(h||(h=[]),h.push(a));if((h||!e)&&!Q(this,r,t,h))return!1}for(a in u)(s=o[a])&&(f&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,l=!0),s.pg&&s.t._kill(u)&&(l=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete o[a]),c&&(i[a]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},a.invalidate=function(){return this._notifyPluginsOfEnabled&&E._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-c,this.render(-this._delay)),this},a._enabled=function(e,t){if(o||s.wake(),e&&this._gc){var r,n=this._targets;if(n)for(r=n.length;--r>-1;)this._siblings[r]=$(n[r],this,!0);else this._siblings=$(this.target,this,!0)}return O.prototype._enabled.call(this,e,t),this._notifyPluginsOfEnabled&&this._firstPT?E._onPluginEvent(e?"_onEnable":"_onDisable",this):!1},E.to=function(e,t,r){return new E(e,t,r)},E.from=function(e,t,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new E(e,t,r)},E.fromTo=function(e,t,r,n){return n.startAt=r,n.immediateRender=0!=n.immediateRender&&0!=r.immediateRender,new E(e,t,n)},E.delayedCall=function(e,t,r,n,i){return new E(t,0,{delay:e,onComplete:t,onCompleteParams:r,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:r,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},E.set=function(e,t){return new E(e,0,t)},E.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:E.selector(e)||e;var r,n,i,a;if((p(e)||P(e))&&"number"!=typeof e[0]){for(r=e.length,n=[];--r>-1;)n=n.concat(E.getTweensOf(e[r],t));for(r=n.length;--r>-1;)for(a=n[r],i=r;--i>-1;)a===n[i]&&n.splice(r,1)}else for(n=$(e).concat(),r=n.length;--r>-1;)(n[r]._gc||t&&!n[r].isActive())&&n.splice(r,1);return n},E.killTweensOf=E.killDelayedCallsTo=function(e,t,r){"object"==typeof t&&(r=t,t=!1);for(var n=E.getTweensOf(e,t),i=n.length;--i>-1;)n[i]._kill(r,e)};var ee=m("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ee.prototype},!0);if(a=ee.prototype,ee.version="1.18.0",ee.API=2,a._firstPT=null,a._addTween=j,a.setRatio=D,a._kill=function(e){var t,r=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=r.length;--t>-1;)null!=e[r[t]]&&r.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},a._roundProps=function(e,t){for(var r=this._firstPT;r;)(e[this._propName]||null!=r.n&&e[r.n.split(this._propName+"_").join("")])&&(r.r=t),r=r._next},E._onPluginEvent=function(e,t){var r,n,i,a,s,o=t._firstPT;if("_onInitAllProps"===e){for(;o;){for(s=o._next,n=i;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:a)?o._prev._next=o:i=o,(o._next=n)?n._prev=o:a=o,o=s}o=t._firstPT=i}for(;o;)o.pg&&"function"==typeof o.t[e]&&o.t[e]()&&(r=!0),o=o._next;return r},ee.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===ee.API&&(F[(new e[t])._propName]=e[t]);return!0},g.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,r=e.propName,n=e.priority||0,i=e.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},s=m("plugins."+r.charAt(0).toUpperCase()+r.substr(1)+"Plugin",function(){ee.call(this,r,n),this._overwriteProps=i||[]},e.global===!0),o=s.prototype=new ee(r);o.constructor=s,s.API=e.API;for(t in a)"function"==typeof e[t]&&(o[a[t]]=e[t]);return s.version=e.version,ee.activate([s]),s},n=e._gsQueue){for(i=0;i<n.length;i++)n[i]();for(a in d)d[a].func||e.console.log("GSAP encountered missing dependency: com.greensock."+a)}o=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");/*!
 * VERSION: 1.18.2
 * DATE: 2015-12-22
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,r){var n=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var r,n,i=this.vars;for(n in i)r=i[n],l(r)&&-1!==r.join("").indexOf("{self}")&&(i[n]=this._swapSelfInParams(r));l(i.tweens)&&this.add(i.tweens,0,i.align,i.stagger)},i=1e-10,a=r._internals,s=n._internals={},o=a.isSelector,l=a.isArray,u=a.lazyTweens,c=a.lazyRender,h=_gsScope._gsDefine.globals,f=function(e){var t,r={};for(t in e)r[t]=e[t];return r},p=function(e,t,r){var n,i,a=e.cycle;for(n in a)i=a[n],e[n]="function"==typeof i?i.call(t[r],r):i[r%i.length];delete e.cycle},d=s.pauseCallback=function(){},v=function(e){var t,r=[],n=e.length;for(t=0;t!==n;r.push(e[t++]));return r},g=n.prototype=new t;return n.version="1.18.2",g.constructor=n,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(e,t,n,i){var a=n.repeat&&h.TweenMax||r;return t?this.add(new a(e,t,n),i):this.set(e,n,i)},g.from=function(e,t,n,i){return this.add((n.repeat&&h.TweenMax||r).from(e,t,n),i)},g.fromTo=function(e,t,n,i,a){var s=i.repeat&&h.TweenMax||r;return t?this.add(s.fromTo(e,t,n,i),a):this.set(e,i,a)},g.staggerTo=function(e,t,i,a,s,l,u,c){var h,d,g=new n({onComplete:l,onCompleteParams:u,callbackScope:c,smoothChildTiming:this.smoothChildTiming}),m=i.cycle;for("string"==typeof e&&(e=r.selector(e)||e),e=e||[],o(e)&&(e=v(e)),a=a||0,0>a&&(e=v(e),e.reverse(),a*=-1),d=0;d<e.length;d++)h=f(i),h.startAt&&(h.startAt=f(h.startAt),h.startAt.cycle&&p(h.startAt,e,d)),m&&p(h,e,d),g.to(e[d],t,h,d*a);return this.add(g,s)},g.staggerFrom=function(e,t,r,n,i,a,s,o){return r.immediateRender=0!=r.immediateRender,r.runBackwards=!0,this.staggerTo(e,t,r,n,i,a,s,o)},g.staggerFromTo=function(e,t,r,n,i,a,s,o,l){return n.startAt=r,n.immediateRender=0!=n.immediateRender&&0!=r.immediateRender,this.staggerTo(e,t,n,i,a,s,o,l)},g.call=function(e,t,n,i){return this.add(r.delayedCall(0,e,t,n),i)},g.set=function(e,t,n){return n=this._parseTimeOrLabel(n,0,!0),null==t.immediateRender&&(t.immediateRender=n===this._time&&!this._paused),this.add(new r(e,0,t),n)},n.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var i,a,s=new n(e),o=s._timeline;for(null==t&&(t=!0),o._remove(s,!0),s._startTime=0,s._rawPrevTime=s._time=s._totalTime=o._time,i=o._first;i;)a=i._next,t&&i instanceof r&&i.target===i.vars.onComplete||s.add(i,i._startTime-i._delay),i=a;return o.add(s,0),s},g.add=function(i,a,s,o){var u,c,h,f,p,d;if("number"!=typeof a&&(a=this._parseTimeOrLabel(a,0,!0,i)),!(i instanceof e)){if(i instanceof Array||i&&i.push&&l(i)){for(s=s||"normal",o=o||0,u=a,c=i.length,h=0;c>h;h++)l(f=i[h])&&(f=new n({tweens:f})),this.add(f,u),"string"!=typeof f&&"function"!=typeof f&&("sequence"===s?u=f._startTime+f.totalDuration()/f._timeScale:"start"===s&&(f._startTime-=f.delay())),u+=o;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,a);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline; it is not a tween, timeline, function, or string.";i=r.delayedCall(0,i)}if(t.prototype.add.call(this,i,a),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=this,d=p.rawTime()>i._startTime;p._timeline;)d&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},g.remove=function(t){if(t instanceof e){this._remove(t,!1);var r=t._timeline=t.vars.useFrames?e._rootFramesTimeline:e._rootTimeline;return t._startTime=(t._paused?t._pauseTime:r._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&l(t)){for(var n=t.length;--n>-1;)this.remove(t[n]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},g._remove=function(e,r){t.prototype._remove.call(this,e,r);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},g.insert=g.insertMultiple=function(e,t,r,n){return this.add(e,t||0,r,n)},g.appendMultiple=function(e,t,r,n){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),r,n)},g.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},g.addPause=function(e,t,n,i){var a=r.delayedCall(0,d,n,i||this);return a.vars.onComplete=a.vars.onReverseComplete=t,a.data="isPause",this._hasPause=!0,this.add(a,e)},g.removeLabel=function(e){return delete this._labels[e],this},g.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},g._parseTimeOrLabel=function(t,r,n,i){var a;if(i instanceof e&&i.timeline===this)this.remove(i);else if(i&&(i instanceof Array||i.push&&l(i)))for(a=i.length;--a>-1;)i[a]instanceof e&&i[a].timeline===this&&this.remove(i[a]);if("string"==typeof r)return this._parseTimeOrLabel(r,n&&"number"==typeof t&&null==this._labels[r]?t-this.duration():0,n);if(r=r||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(a=t.indexOf("="),-1===a)return null==this._labels[t]?n?this._labels[t]=this.duration()+r:r:this._labels[t]+r;r=parseInt(t.charAt(a-1)+"1",10)*Number(t.substr(a+1)),t=a>1?this._parseTimeOrLabel(t.substr(0,a-1),0,n):this.duration()}return Number(t)+r},g.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),t!==!1)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(e,t){return this.play(e,t)},g.gotoAndStop=function(e,t){return this.pause(e,t)},g.render=function(e,t,r){this._gc&&this._enabled(!0,!1);var n,a,s,o,l,h,f,p=this._dirty?this.totalDuration():this._totalDuration,d=this._time,v=this._startTime,g=this._timeScale,m=this._paused;if(e>=p-1e-7)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(a=!0,o="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&e>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===i)&&this._rawPrevTime!==e&&this._first&&(l=!0,this._rawPrevTime>i&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:i,e=p+1e-4;else if(1e-7>e)if(this._totalTime=this._time=0,(0!==d||0===this._duration&&this._rawPrevTime!==i&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(o="onReverseComplete",a=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=a=!0,o="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:i,0===e&&a)for(n=this._first;n&&0===n._startTime;)n._duration||(a=!1),n=n._next;e=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!t){if(e>=d)for(n=this._first;n&&n._startTime<=e&&!h;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(h=n),n=n._next;else for(n=this._last;n&&n._startTime>=e&&!h;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(h=n),n=n._prev;h&&(this._time=e=h._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=e}if(this._time!==d&&this._first||r||l||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&e>0&&(this._active=!0),0===d&&this.vars.onStart&&0!==this._time&&(t||this._callback("onStart")),f=this._time,f>=d)for(n=this._first;n&&(s=n._next,f===this._time&&(!this._paused||m));)(n._active||n._startTime<=f&&!n._paused&&!n._gc)&&(h===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,r):n.render((e-n._startTime)*n._timeScale,t,r)),n=s;else for(n=this._last;n&&(s=n._prev,f===this._time&&(!this._paused||m));){if(n._active||n._startTime<=d&&!n._paused&&!n._gc){if(h===n){for(h=n._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(e-h._startTime)*h._timeScale:(e-h._startTime)*h._timeScale,t,r),h=h._prev;h=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,r):n.render((e-n._startTime)*n._timeScale,t,r)}n=s}this._onUpdate&&(t||(u.length&&c(),this._callback("onUpdate"))),o&&(this._gc||(v===this._startTime||g!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(a&&(u.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[o]&&this._callback(o)))}},g._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof n&&e._hasPausedChild())return!0;e=e._next}return!1},g.getChildren=function(e,t,n,i){i=i||-9999999999;for(var a=[],s=this._first,o=0;s;)s._startTime<i||(s instanceof r?t!==!1&&(a[o++]=s):(n!==!1&&(a[o++]=s),e!==!1&&(a=a.concat(s.getChildren(!0,t,n)),o=a.length))),s=s._next;return a},g.getTweensOf=function(e,t){var n,i,a=this._gc,s=[],o=0;for(a&&this._enabled(!0,!0),n=r.getTweensOf(e),i=n.length;--i>-1;)(n[i].timeline===this||t&&this._contains(n[i]))&&(s[o++]=n[i]);return a&&this._enabled(!1,!0),s},g.recent=function(){return this._recent},g._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},g.shiftChildren=function(e,t,r){r=r||0;for(var n,i=this._first,a=this._labels;i;)i._startTime>=r&&(i._startTime+=e),i=i._next;if(t)for(n in a)a[n]>=r&&(a[n]+=e);return this._uncache(!0)},g._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var r=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),n=r.length,i=!1;--n>-1;)r[n]._kill(e,t)&&(i=!0);return i},g.clear=function(e){var t=this.getChildren(!1,!0,!0),r=t.length;for(this._time=this._totalTime=0;--r>-1;)t[r]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},g._enabled=function(e,r){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return t.prototype._enabled.call(this,e,r)},g.totalTime=function(t,r,n){this._forcingPlayhead=!0;var i=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,i},g.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,r,n=0,i=this._last,a=999999999999;i;)t=i._prev,i._dirty&&i.totalDuration(),i._startTime>a&&this._sortChildren&&!i._paused?this.add(i,i._startTime-i._delay):a=i._startTime,i._startTime<0&&!i._paused&&(n-=i._startTime,this._timeline.smoothChildTiming&&(this._startTime+=i._startTime/this._timeScale),this.shiftChildren(-i._startTime,!1,-9999999999),a=0),r=i._startTime+i._totalDuration/i._timeScale,r>n&&(n=r),i=t;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},g.paused=function(t){if(!t)for(var r=this._first,n=this._time;r;)r._startTime===n&&"isPause"===r.data&&(r._rawPrevTime=0),r=r._next;return e.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},g.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=t())}("TimelineLite");/*!
 * VERSION: 1.15.3
 * DATE: 2015-12-22
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("easing.Back",["easing.Ease"],function(e){var t,r,n,i=_gsScope.GreenSockGlobals||_gsScope,a=i.com.greensock,s=2*Math.PI,o=Math.PI/2,l=a._class,u=function(t,r){var n=l("easing."+t,function(){},!0),i=n.prototype=new e;return i.constructor=n,i.getRatio=r,n},c=e.register||function(){},h=function(e,t,r,n,i){var a=l("easing."+e,{easeOut:new t,easeIn:new r,easeInOut:new n},!0);return c(a,e),a},f=function(e,t,r){this.t=e,this.v=t,r&&(this.next=r,r.prev=this,this.c=r.v-t,this.gap=r.t-e)},p=function(t,r){var n=l("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),i=n.prototype=new e;return i.constructor=n,i.getRatio=r,i.config=function(e){return new n(e)},n},d=h("Back",p("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),p("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),p("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),v=l("easing.SlowMo",function(e,t,r){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=r===!0},!0),g=v.prototype=new e;return g.constructor=v,g.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},v.ease=new v(.7,.7),g.config=v.config=function(e,t,r){return new v(e,t,r)},t=l("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),g=t.prototype=new e,g.constructor=t,g.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},g.config=t.config=function(e){return new t(e)},r=l("easing.RoughEase",function(t){t=t||{};for(var r,n,i,a,s,o,l=t.taper||"none",u=[],c=0,h=0|(t.points||20),p=h,d=t.randomize!==!1,v=t.clamp===!0,g=t.template instanceof e?t.template:null,m="number"==typeof t.strength?.4*t.strength:.4;--p>-1;)r=d?Math.random():1/h*p,n=g?g.getRatio(r):r,"none"===l?i=m:"out"===l?(a=1-r,i=a*a*m):"in"===l?i=r*r*m:.5>r?(a=2*r,i=a*a*.5*m):(a=2*(1-r),i=a*a*.5*m),d?n+=Math.random()*i-.5*i:p%2?n+=.5*i:n-=.5*i,v&&(n>1?n=1:0>n&&(n=0)),u[c++]={x:r,y:n};for(u.sort(function(e,t){return e.x-t.x}),o=new f(1,1,null),p=h;--p>-1;)s=u[p],o=new f(s.x,s.y,o);this._prev=new f(0,0,0!==o.t?o:o.next)},!0),g=r.prototype=new e,g.constructor=r,g.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},g.config=function(e){return new r(e)},r.ease=new r,h("Bounce",u("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),u("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),u("BounceInOut",function(e){var t=.5>e;return e=t?1-2*e:2*e-1,e=1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),h("Circ",u("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),u("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),u("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),n=function(t,r,n){var i=l("easing."+t,function(e,t){this._p1=e>=1?e:1,this._p2=(t||n)/(1>e?e:1),this._p3=this._p2/s*(Math.asin(1/this._p1)||0),this._p2=s/this._p2},!0),a=i.prototype=new e;return a.constructor=i,a.getRatio=r,a.config=function(e,t){return new i(e,t)},i},h("Elastic",n("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),n("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2))},.3),n("ElasticInOut",function(e){return(e*=2)<1?-.5*(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1},.45)),h("Expo",u("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),u("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),u("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),h("Sine",u("SineOut",function(e){return Math.sin(e*o)}),u("SineIn",function(e){return-Math.cos(e*o)+1}),u("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),l("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),c(i.SlowMo,"SlowMo","ease,"),c(r,"RoughEase","ease,"),c(t,"SteppedEase","ease,"),d},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(){"use strict";var e=function(){return _gsScope.GreenSockGlobals||_gsScope};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=e())}();