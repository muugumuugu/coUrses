        

<!DOCTYPE HTML>
<html>

	<head>
        <meta charset="ISO-8859-1">
		<meta name="keywords" content="quilez, inigo, iÃ±igo, fractals, demoscene, computer graphics, mathematics, rendering, demo, 3D, realtime, shader, raytracing, shadertoy, glsl">
		<meta name="description" content="Tutorials and articles of Inigo Quilez on computer graphics, fractals, demoscene, shaders and more.">
		<meta name="author" content="Inigo Quilez">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<meta property="og:title" content="Inigo Quilez" />
		<meta property="og:description" content="Articles on computer graphics, math and art">
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://iquilezles.org/logo.jpg" />
		<meta property="og:image:type" content="image/jpg" />
		<meta property="og:url" content="https://iquilezles.org" />
		
		<meta name="twitter:title" content="Inigo Quilez">
		<meta name="twitter:description" content="Articles on computer graphics, math and art">
		<meta name="twitter:image" content="https://iquilezles.org/logo.jpg">
		<meta name="twitter:card" content="summary_large_image">

		<link rel="canonical" href="https://iquilezles.org"/>
		<title>Inigo Quilez :: fractals, computer graphics, mathematics, shaders, demoscene and more</title>
		<link href="/style.css?v=11" rel="stylesheet">
		
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-M1E3CY9CCC"></script>
        <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config', 'G-M1E3CY9CCC');</script>

	</head>

	<body><div style="display:flex;flex-direction:column;min-height:100vh;">
		
		<header>
		
		<div>
		  <a class="menu" href="/index.html">Inigo Quilez</a>
		
		  &nbsp; :: &nbsp; <a class="menu" href="/www/index.htm">articles</a>&nbsp; :: &nbsp; <a class="menu" href="/www/articles/orbittraps3d/orbittraps3d.htm">3d orbit traps - 2006</a>		</div>
		
		<!--<div style="font-size:0.75em;margin:0;padding:0;">-->
		<!--<div style="margin:0;padding:0;background-color:#00ff00;display:flex;justify-self:self-end;">-->
		<div style="padding:0;margin:0;border:0;display:flex;flex-flow:row wrap;justify-content:flex-end;">
			<a href="https://twitter.com/iquilezles"><img class="socialMediaIcon" src="/imgTwitter.png"/></a>
			<a href="https://www.youtube.com/channel/UCdmAhiG8HQDlz8uyekw4ENw"><img class="socialMediaIcon" src="/imgYoutube.png"/></a>
			<a href="https://www.shadertoy.com/user/iq/"><img class="socialMediaIcon" src="/imgShadertoy.png"/></a> 
            <a href="https://www.patreon.com/inigoquilez"><img class="socialMediaIcon" src="/imgPatreon.png"/></a>
			<a href="http://paypal.me/inigoquilez"><img class="socialMediaIcon" src="/imgPayPal.png"/></a> 
			<a href="https://www.tiktok.com/@inigoquilez"><img class="socialMediaIcon" src="/imgTikTok.png"/></a> 
		<!--<a href="https://space.bilibili.com/673661710"><img class="socialMediaIcon" src="/imgBiliBili.png"/></a>-->
		</div>
		
		</header>
		
        <div id="container" style="flex-grow:1;">
<!-- --------------------------------------------------------------------------------- -->

In 2006 I experimented with 3D orbit traps for quaternion fractals for the first time. <a class="regular" href="../ftrapsgeometric/ftrapsgeometric.htm">2D Orbit Traps</a> were very common in most fractal rendering software, but I believe nobody had done a 3D version back then, but I could be wrong of course. My experiments worked quite well, although at the time I was rendering them as a voxelized <a href="../volumesort/volumesort.htm" class="regular">realtime point cloud</a>, so the image quality wasn't than great - see the end of the article to get a look. These days we can get much <a class="regular" href="https://www.youtube.com/watch?v=rQ2bnU4dkso">prettier images</a> of course:<br>
<br>
<center><img class="myPicture" src="gfx00.jpg"/><br>Cylinder orbit traps in a Julia set (from the video <a class="regular" href="https://www.youtube.com/watch?v=rQ2bnU4dkso">"Geodes"</a>)</center>
<br>
The idea is pretty much the same as the use of the 2D Orbit Traps algorithm, but in the context of SDF (signed distance field) rendering: as we iterate our point Z under the polynomial map, we track how its trajectory relates to some arbitrary geometrical figure that we choose. This trajectory is called an orbit, and one way to make the technique work is to track what's its closest encounter with the chosen geometrical shape. After the iterations are over, we use the distance to the shape during its closest encounter, and its smaller than some threshold we consider the source point a solid part of our scene. In that sense, the orbit gets "trapped" in the shape, hence the name, and the nature of the dynamics of the process makes the source shape that we chose to appear all over the domain following the same fractal structure as the Mandelberot or Julia set itself that we began with.<br>
<br>
<center><img class="myPicture" src="gfx01.jpg"/><br>Cylinder orbit traps in a Julia set (from the video <a class="regular" href="https://www.youtube.com/watch?v=rQ2bnU4dkso">"Geodes"</a>)</center>
<br>
In the context of raymarching SDFs, this distance to the geometrical shape with this fractal domain deformation can generate a pretty distorted distance metric, but as usual dividing by the gradient of the field or slowing down the raymarcher is one way to cope with it. In the future I'll try to extrat the exact analytical SDF for traps.<br>
<br>
You have <b>source code</b> and a realtime demo here: <a class="regular" href="https://www.shadertoy.com/view/3tsyzl">https://www.shadertoy.com/view/3tsyzl</a><br>
<br>
<center><img class="myPicture" src="gfx02.jpg"/><br>Plane orbit traps in a Julia set (from the video <a class="regular" href="https://www.youtube.com/watch?v=rQ2bnU4dkso">"Geodes"</a>)</center>
<br>
The following are the images I rendered in 2006. They were computed beforehand and then rendered in realtime as poinclouds in OpenGL. The first image used cylinder traps, the second and third used sine wave traps, and the last one used a combination of cylinder and sphere traps.<br>
<br>
<br>

<div class="partsC">
 <div class="part"><img class="myPicture" src="gfx03.jpg"/></div>
 <div class="part"><img class="myPicture" src="gfx04.jpg"/></div>
 <div class="part"><img class="myPicture" src="gfx05.jpg"/></div>
 <div class="part"><img class="myPicture" src="gfx06.jpg"/></div>

</div>
<!-- -------------------------------------------------------------------------------------------- -->

<br>
<br>
<br>




	
    

    </div> <!-- container -->
	<footer><a href="http://www.iquilezles.org">inigo quilez</a> - learning computer graphics since 1994</footer>
    </div></body>
</html>